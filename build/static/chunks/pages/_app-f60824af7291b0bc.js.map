{"version":3,"file":"static/chunks/pages/_app-f60824af7291b0bc.js","mappings":"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","sources":["webpack://_N_E/./node_modules/.pnpm/error-stack-parser@2.1.4/node_modules/error-stack-parser/error-stack-parser.js","webpack://_N_E/?05bf","webpack://_N_E/./pages/_app.tsx","webpack://_N_E/./vendors/openReplay/context.ts","webpack://_N_E/./node_modules/.pnpm/@swc+helpers@0.4.3/node_modules/@swc/helpers/src/_object_spread_props.mjs","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/common/messages.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/utils.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/nodes.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/guards.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/observer/observer.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/observer/iframe_observer.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/observer/shadow_root_observer.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/observer/top_observer.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/sanitizer.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/ticker.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/logger.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/session.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/performance.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/index.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/console.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/exception.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/img.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/input.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/mouse.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/timing.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/index.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/viewport.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/cssrules.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/connection.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/scroll.js","webpack://_N_E/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/rng.js","webpack://_N_E/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/regex.js","webpack://_N_E/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/stringify.js","webpack://_N_E/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/validate.js","webpack://_N_E/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js","webpack://_N_E/./vendors/openReplay/reducer.ts","webpack://_N_E/./vendors/openReplay/provider.tsx","webpack://_N_E/./node_modules/.pnpm/stackframe@1.3.4/node_modules/stackframe/stackframe.js","webpack://_N_E/./node_modules/.pnpm/@swc+helpers@0.4.3/node_modules/@swc/helpers/src/_define_property.mjs","webpack://_N_E/./node_modules/.pnpm/@swc+helpers@0.4.3/node_modules/@swc/helpers/src/_object_spread.mjs"],"sourcesContent":["(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').replace(/^.*?\\s+/, '');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\(.+\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                // if a location was matched, pass it to extractLocation() otherwise pass all sanitizedLine\n                // because this line doesn't have function name\n                var locationParts = this.extractLocation(location ? location[1] : sanitizedLine);\n                var functionName = location && sanitizedLine || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/_app\",\n      function () {\n        return require(\"private-next-pages/_app.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/_app\"])\n      });\n    }\n  ","import \"../styles/globals.css\";\nimport type { AppProps } from \"next/app\";\n\nimport { TrackerProvider } from \"../vendors\";\nimport React from \"react\";\n\nfunction MyApp({ Component, pageProps }: AppProps) {\n  return (\n    <TrackerProvider\n      config={{\n        // Add projectKey here.\n        projectKey: \"IPQJ2ytBAXqwnwxtPmgh\",\n      }}\n    >\n      <Component {...pageProps} />\n    </TrackerProvider>\n  );\n}\n\nexport default MyApp;\n","// Libraries\nimport { App } from \"@openreplay/tracker\";\nimport { createContext } from \"react\";\nimport { IPayload, ReportError } from \"./reducer\";\n\ninterface ITrackerContext {\n  startTracking: () => void;\n  initTracker: () => void;\n  logEvent: (evnt: IPayload) => void;\n  logIssue: (evnt: IPayload) => void;\n  reportError: (error: ReportError) => void;\n}\n\nconst TrackerContext = createContext<ITrackerContext>({\n  startTracking: () => {},\n  initTracker: () => {},\n  logEvent: () => {},\n  logIssue: () => {},\n  reportError: () => {},\n});\n\nexport default TrackerContext;\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\n\nexport default function _objectSpreadProps(target, source) {\n  source = source != null ? source : {}\n  if (Object.getOwnPropertyDescriptors) {\n    Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n  } else {\n    ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(\n        target,\n        key,\n        Object.getOwnPropertyDescriptor(source, key)\n      );\n    });\n  }\n\n  return target;\n}","function bindNew(Class) {\n    function _Class(...args) {\n        return new Class(...args);\n    }\n    _Class.prototype = Class.prototype;\n    return _Class;\n}\nexport const classes = new Map();\nclass _BatchMeta {\n    constructor(pageNo, firstIndex, timestamp) {\n        this.pageNo = pageNo;\n        this.firstIndex = firstIndex;\n        this.timestamp = timestamp;\n        this._id = 80;\n    }\n    encode(writer) {\n        return writer.uint(80) &&\n            writer.uint(this.pageNo) &&\n            writer.uint(this.firstIndex) &&\n            writer.int(this.timestamp);\n    }\n}\nexport const BatchMeta = bindNew(_BatchMeta);\nclasses.set(80, BatchMeta);\nclass _Timestamp {\n    constructor(timestamp) {\n        this.timestamp = timestamp;\n        this._id = 0;\n    }\n    encode(writer) {\n        return writer.uint(0) &&\n            writer.uint(this.timestamp);\n    }\n}\nexport const Timestamp = bindNew(_Timestamp);\nclasses.set(0, Timestamp);\nclass _SetPageLocation {\n    constructor(url, referrer, navigationStart) {\n        this.url = url;\n        this.referrer = referrer;\n        this.navigationStart = navigationStart;\n        this._id = 4;\n    }\n    encode(writer) {\n        return writer.uint(4) &&\n            writer.string(this.url) &&\n            writer.string(this.referrer) &&\n            writer.uint(this.navigationStart);\n    }\n}\nexport const SetPageLocation = bindNew(_SetPageLocation);\nclasses.set(4, SetPageLocation);\nclass _SetViewportSize {\n    constructor(width, height) {\n        this.width = width;\n        this.height = height;\n        this._id = 5;\n    }\n    encode(writer) {\n        return writer.uint(5) &&\n            writer.uint(this.width) &&\n            writer.uint(this.height);\n    }\n}\nexport const SetViewportSize = bindNew(_SetViewportSize);\nclasses.set(5, SetViewportSize);\nclass _SetViewportScroll {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this._id = 6;\n    }\n    encode(writer) {\n        return writer.uint(6) &&\n            writer.int(this.x) &&\n            writer.int(this.y);\n    }\n}\nexport const SetViewportScroll = bindNew(_SetViewportScroll);\nclasses.set(6, SetViewportScroll);\nclass _CreateDocument {\n    constructor() {\n        this._id = 7;\n    }\n    encode(writer) {\n        return writer.uint(7);\n    }\n}\nexport const CreateDocument = bindNew(_CreateDocument);\nclasses.set(7, CreateDocument);\nclass _CreateElementNode {\n    constructor(id, parentID, index, tag, svg) {\n        this.id = id;\n        this.parentID = parentID;\n        this.index = index;\n        this.tag = tag;\n        this.svg = svg;\n        this._id = 8;\n    }\n    encode(writer) {\n        return writer.uint(8) &&\n            writer.uint(this.id) &&\n            writer.uint(this.parentID) &&\n            writer.uint(this.index) &&\n            writer.string(this.tag) &&\n            writer.boolean(this.svg);\n    }\n}\nexport const CreateElementNode = bindNew(_CreateElementNode);\nclasses.set(8, CreateElementNode);\nclass _CreateTextNode {\n    constructor(id, parentID, index) {\n        this.id = id;\n        this.parentID = parentID;\n        this.index = index;\n        this._id = 9;\n    }\n    encode(writer) {\n        return writer.uint(9) &&\n            writer.uint(this.id) &&\n            writer.uint(this.parentID) &&\n            writer.uint(this.index);\n    }\n}\nexport const CreateTextNode = bindNew(_CreateTextNode);\nclasses.set(9, CreateTextNode);\nclass _MoveNode {\n    constructor(id, parentID, index) {\n        this.id = id;\n        this.parentID = parentID;\n        this.index = index;\n        this._id = 10;\n    }\n    encode(writer) {\n        return writer.uint(10) &&\n            writer.uint(this.id) &&\n            writer.uint(this.parentID) &&\n            writer.uint(this.index);\n    }\n}\nexport const MoveNode = bindNew(_MoveNode);\nclasses.set(10, MoveNode);\nclass _RemoveNode {\n    constructor(id) {\n        this.id = id;\n        this._id = 11;\n    }\n    encode(writer) {\n        return writer.uint(11) &&\n            writer.uint(this.id);\n    }\n}\nexport const RemoveNode = bindNew(_RemoveNode);\nclasses.set(11, RemoveNode);\nclass _SetNodeAttribute {\n    constructor(id, name, value) {\n        this.id = id;\n        this.name = name;\n        this.value = value;\n        this._id = 12;\n    }\n    encode(writer) {\n        return writer.uint(12) &&\n            writer.uint(this.id) &&\n            writer.string(this.name) &&\n            writer.string(this.value);\n    }\n}\nexport const SetNodeAttribute = bindNew(_SetNodeAttribute);\nclasses.set(12, SetNodeAttribute);\nclass _RemoveNodeAttribute {\n    constructor(id, name) {\n        this.id = id;\n        this.name = name;\n        this._id = 13;\n    }\n    encode(writer) {\n        return writer.uint(13) &&\n            writer.uint(this.id) &&\n            writer.string(this.name);\n    }\n}\nexport const RemoveNodeAttribute = bindNew(_RemoveNodeAttribute);\nclasses.set(13, RemoveNodeAttribute);\nclass _SetNodeData {\n    constructor(id, data) {\n        this.id = id;\n        this.data = data;\n        this._id = 14;\n    }\n    encode(writer) {\n        return writer.uint(14) &&\n            writer.uint(this.id) &&\n            writer.string(this.data);\n    }\n}\nexport const SetNodeData = bindNew(_SetNodeData);\nclasses.set(14, SetNodeData);\nclass _SetNodeScroll {\n    constructor(id, x, y) {\n        this.id = id;\n        this.x = x;\n        this.y = y;\n        this._id = 16;\n    }\n    encode(writer) {\n        return writer.uint(16) &&\n            writer.uint(this.id) &&\n            writer.int(this.x) &&\n            writer.int(this.y);\n    }\n}\nexport const SetNodeScroll = bindNew(_SetNodeScroll);\nclasses.set(16, SetNodeScroll);\nclass _SetInputTarget {\n    constructor(id, label) {\n        this.id = id;\n        this.label = label;\n        this._id = 17;\n    }\n    encode(writer) {\n        return writer.uint(17) &&\n            writer.uint(this.id) &&\n            writer.string(this.label);\n    }\n}\nexport const SetInputTarget = bindNew(_SetInputTarget);\nclasses.set(17, SetInputTarget);\nclass _SetInputValue {\n    constructor(id, value, mask) {\n        this.id = id;\n        this.value = value;\n        this.mask = mask;\n        this._id = 18;\n    }\n    encode(writer) {\n        return writer.uint(18) &&\n            writer.uint(this.id) &&\n            writer.string(this.value) &&\n            writer.int(this.mask);\n    }\n}\nexport const SetInputValue = bindNew(_SetInputValue);\nclasses.set(18, SetInputValue);\nclass _SetInputChecked {\n    constructor(id, checked) {\n        this.id = id;\n        this.checked = checked;\n        this._id = 19;\n    }\n    encode(writer) {\n        return writer.uint(19) &&\n            writer.uint(this.id) &&\n            writer.boolean(this.checked);\n    }\n}\nexport const SetInputChecked = bindNew(_SetInputChecked);\nclasses.set(19, SetInputChecked);\nclass _MouseMove {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this._id = 20;\n    }\n    encode(writer) {\n        return writer.uint(20) &&\n            writer.uint(this.x) &&\n            writer.uint(this.y);\n    }\n}\nexport const MouseMove = bindNew(_MouseMove);\nclasses.set(20, MouseMove);\nclass _ConsoleLog {\n    constructor(level, value) {\n        this.level = level;\n        this.value = value;\n        this._id = 22;\n    }\n    encode(writer) {\n        return writer.uint(22) &&\n            writer.string(this.level) &&\n            writer.string(this.value);\n    }\n}\nexport const ConsoleLog = bindNew(_ConsoleLog);\nclasses.set(22, ConsoleLog);\nclass _PageLoadTiming {\n    constructor(requestStart, responseStart, responseEnd, domContentLoadedEventStart, domContentLoadedEventEnd, loadEventStart, loadEventEnd, firstPaint, firstContentfulPaint) {\n        this.requestStart = requestStart;\n        this.responseStart = responseStart;\n        this.responseEnd = responseEnd;\n        this.domContentLoadedEventStart = domContentLoadedEventStart;\n        this.domContentLoadedEventEnd = domContentLoadedEventEnd;\n        this.loadEventStart = loadEventStart;\n        this.loadEventEnd = loadEventEnd;\n        this.firstPaint = firstPaint;\n        this.firstContentfulPaint = firstContentfulPaint;\n        this._id = 23;\n    }\n    encode(writer) {\n        return writer.uint(23) &&\n            writer.uint(this.requestStart) &&\n            writer.uint(this.responseStart) &&\n            writer.uint(this.responseEnd) &&\n            writer.uint(this.domContentLoadedEventStart) &&\n            writer.uint(this.domContentLoadedEventEnd) &&\n            writer.uint(this.loadEventStart) &&\n            writer.uint(this.loadEventEnd) &&\n            writer.uint(this.firstPaint) &&\n            writer.uint(this.firstContentfulPaint);\n    }\n}\nexport const PageLoadTiming = bindNew(_PageLoadTiming);\nclasses.set(23, PageLoadTiming);\nclass _PageRenderTiming {\n    constructor(speedIndex, visuallyComplete, timeToInteractive) {\n        this.speedIndex = speedIndex;\n        this.visuallyComplete = visuallyComplete;\n        this.timeToInteractive = timeToInteractive;\n        this._id = 24;\n    }\n    encode(writer) {\n        return writer.uint(24) &&\n            writer.uint(this.speedIndex) &&\n            writer.uint(this.visuallyComplete) &&\n            writer.uint(this.timeToInteractive);\n    }\n}\nexport const PageRenderTiming = bindNew(_PageRenderTiming);\nclasses.set(24, PageRenderTiming);\nclass _JSException {\n    constructor(name, message, payload) {\n        this.name = name;\n        this.message = message;\n        this.payload = payload;\n        this._id = 25;\n    }\n    encode(writer) {\n        return writer.uint(25) &&\n            writer.string(this.name) &&\n            writer.string(this.message) &&\n            writer.string(this.payload);\n    }\n}\nexport const JSException = bindNew(_JSException);\nclasses.set(25, JSException);\nclass _RawCustomEvent {\n    constructor(name, payload) {\n        this.name = name;\n        this.payload = payload;\n        this._id = 27;\n    }\n    encode(writer) {\n        return writer.uint(27) &&\n            writer.string(this.name) &&\n            writer.string(this.payload);\n    }\n}\nexport const RawCustomEvent = bindNew(_RawCustomEvent);\nclasses.set(27, RawCustomEvent);\nclass _UserID {\n    constructor(id) {\n        this.id = id;\n        this._id = 28;\n    }\n    encode(writer) {\n        return writer.uint(28) &&\n            writer.string(this.id);\n    }\n}\nexport const UserID = bindNew(_UserID);\nclasses.set(28, UserID);\nclass _UserAnonymousID {\n    constructor(id) {\n        this.id = id;\n        this._id = 29;\n    }\n    encode(writer) {\n        return writer.uint(29) &&\n            writer.string(this.id);\n    }\n}\nexport const UserAnonymousID = bindNew(_UserAnonymousID);\nclasses.set(29, UserAnonymousID);\nclass _Metadata {\n    constructor(key, value) {\n        this.key = key;\n        this.value = value;\n        this._id = 30;\n    }\n    encode(writer) {\n        return writer.uint(30) &&\n            writer.string(this.key) &&\n            writer.string(this.value);\n    }\n}\nexport const Metadata = bindNew(_Metadata);\nclasses.set(30, Metadata);\nclass _CSSInsertRule {\n    constructor(id, rule, index) {\n        this.id = id;\n        this.rule = rule;\n        this.index = index;\n        this._id = 37;\n    }\n    encode(writer) {\n        return writer.uint(37) &&\n            writer.uint(this.id) &&\n            writer.string(this.rule) &&\n            writer.uint(this.index);\n    }\n}\nexport const CSSInsertRule = bindNew(_CSSInsertRule);\nclasses.set(37, CSSInsertRule);\nclass _CSSDeleteRule {\n    constructor(id, index) {\n        this.id = id;\n        this.index = index;\n        this._id = 38;\n    }\n    encode(writer) {\n        return writer.uint(38) &&\n            writer.uint(this.id) &&\n            writer.uint(this.index);\n    }\n}\nexport const CSSDeleteRule = bindNew(_CSSDeleteRule);\nclasses.set(38, CSSDeleteRule);\nclass _Fetch {\n    constructor(method, url, request, response, status, timestamp, duration) {\n        this.method = method;\n        this.url = url;\n        this.request = request;\n        this.response = response;\n        this.status = status;\n        this.timestamp = timestamp;\n        this.duration = duration;\n        this._id = 39;\n    }\n    encode(writer) {\n        return writer.uint(39) &&\n            writer.string(this.method) &&\n            writer.string(this.url) &&\n            writer.string(this.request) &&\n            writer.string(this.response) &&\n            writer.uint(this.status) &&\n            writer.uint(this.timestamp) &&\n            writer.uint(this.duration);\n    }\n}\nexport const Fetch = bindNew(_Fetch);\nclasses.set(39, Fetch);\nclass _Profiler {\n    constructor(name, duration, args, result) {\n        this.name = name;\n        this.duration = duration;\n        this.args = args;\n        this.result = result;\n        this._id = 40;\n    }\n    encode(writer) {\n        return writer.uint(40) &&\n            writer.string(this.name) &&\n            writer.uint(this.duration) &&\n            writer.string(this.args) &&\n            writer.string(this.result);\n    }\n}\nexport const Profiler = bindNew(_Profiler);\nclasses.set(40, Profiler);\nclass _OTable {\n    constructor(key, value) {\n        this.key = key;\n        this.value = value;\n        this._id = 41;\n    }\n    encode(writer) {\n        return writer.uint(41) &&\n            writer.string(this.key) &&\n            writer.string(this.value);\n    }\n}\nexport const OTable = bindNew(_OTable);\nclasses.set(41, OTable);\nclass _StateAction {\n    constructor(type) {\n        this.type = type;\n        this._id = 42;\n    }\n    encode(writer) {\n        return writer.uint(42) &&\n            writer.string(this.type);\n    }\n}\nexport const StateAction = bindNew(_StateAction);\nclasses.set(42, StateAction);\nclass _Redux {\n    constructor(action, state, duration) {\n        this.action = action;\n        this.state = state;\n        this.duration = duration;\n        this._id = 44;\n    }\n    encode(writer) {\n        return writer.uint(44) &&\n            writer.string(this.action) &&\n            writer.string(this.state) &&\n            writer.uint(this.duration);\n    }\n}\nexport const Redux = bindNew(_Redux);\nclasses.set(44, Redux);\nclass _Vuex {\n    constructor(mutation, state) {\n        this.mutation = mutation;\n        this.state = state;\n        this._id = 45;\n    }\n    encode(writer) {\n        return writer.uint(45) &&\n            writer.string(this.mutation) &&\n            writer.string(this.state);\n    }\n}\nexport const Vuex = bindNew(_Vuex);\nclasses.set(45, Vuex);\nclass _MobX {\n    constructor(type, payload) {\n        this.type = type;\n        this.payload = payload;\n        this._id = 46;\n    }\n    encode(writer) {\n        return writer.uint(46) &&\n            writer.string(this.type) &&\n            writer.string(this.payload);\n    }\n}\nexport const MobX = bindNew(_MobX);\nclasses.set(46, MobX);\nclass _NgRx {\n    constructor(action, state, duration) {\n        this.action = action;\n        this.state = state;\n        this.duration = duration;\n        this._id = 47;\n    }\n    encode(writer) {\n        return writer.uint(47) &&\n            writer.string(this.action) &&\n            writer.string(this.state) &&\n            writer.uint(this.duration);\n    }\n}\nexport const NgRx = bindNew(_NgRx);\nclasses.set(47, NgRx);\nclass _GraphQL {\n    constructor(operationKind, operationName, variables, response) {\n        this.operationKind = operationKind;\n        this.operationName = operationName;\n        this.variables = variables;\n        this.response = response;\n        this._id = 48;\n    }\n    encode(writer) {\n        return writer.uint(48) &&\n            writer.string(this.operationKind) &&\n            writer.string(this.operationName) &&\n            writer.string(this.variables) &&\n            writer.string(this.response);\n    }\n}\nexport const GraphQL = bindNew(_GraphQL);\nclasses.set(48, GraphQL);\nclass _PerformanceTrack {\n    constructor(frames, ticks, totalJSHeapSize, usedJSHeapSize) {\n        this.frames = frames;\n        this.ticks = ticks;\n        this.totalJSHeapSize = totalJSHeapSize;\n        this.usedJSHeapSize = usedJSHeapSize;\n        this._id = 49;\n    }\n    encode(writer) {\n        return writer.uint(49) &&\n            writer.int(this.frames) &&\n            writer.int(this.ticks) &&\n            writer.uint(this.totalJSHeapSize) &&\n            writer.uint(this.usedJSHeapSize);\n    }\n}\nexport const PerformanceTrack = bindNew(_PerformanceTrack);\nclasses.set(49, PerformanceTrack);\nclass _ResourceTiming {\n    constructor(timestamp, duration, ttfb, headerSize, encodedBodySize, decodedBodySize, url, initiator) {\n        this.timestamp = timestamp;\n        this.duration = duration;\n        this.ttfb = ttfb;\n        this.headerSize = headerSize;\n        this.encodedBodySize = encodedBodySize;\n        this.decodedBodySize = decodedBodySize;\n        this.url = url;\n        this.initiator = initiator;\n        this._id = 53;\n    }\n    encode(writer) {\n        return writer.uint(53) &&\n            writer.uint(this.timestamp) &&\n            writer.uint(this.duration) &&\n            writer.uint(this.ttfb) &&\n            writer.uint(this.headerSize) &&\n            writer.uint(this.encodedBodySize) &&\n            writer.uint(this.decodedBodySize) &&\n            writer.string(this.url) &&\n            writer.string(this.initiator);\n    }\n}\nexport const ResourceTiming = bindNew(_ResourceTiming);\nclasses.set(53, ResourceTiming);\nclass _ConnectionInformation {\n    constructor(downlink, type) {\n        this.downlink = downlink;\n        this.type = type;\n        this._id = 54;\n    }\n    encode(writer) {\n        return writer.uint(54) &&\n            writer.uint(this.downlink) &&\n            writer.string(this.type);\n    }\n}\nexport const ConnectionInformation = bindNew(_ConnectionInformation);\nclasses.set(54, ConnectionInformation);\nclass _SetPageVisibility {\n    constructor(hidden) {\n        this.hidden = hidden;\n        this._id = 55;\n    }\n    encode(writer) {\n        return writer.uint(55) &&\n            writer.boolean(this.hidden);\n    }\n}\nexport const SetPageVisibility = bindNew(_SetPageVisibility);\nclasses.set(55, SetPageVisibility);\nclass _LongTask {\n    constructor(timestamp, duration, context, containerType, containerSrc, containerId, containerName) {\n        this.timestamp = timestamp;\n        this.duration = duration;\n        this.context = context;\n        this.containerType = containerType;\n        this.containerSrc = containerSrc;\n        this.containerId = containerId;\n        this.containerName = containerName;\n        this._id = 59;\n    }\n    encode(writer) {\n        return writer.uint(59) &&\n            writer.uint(this.timestamp) &&\n            writer.uint(this.duration) &&\n            writer.uint(this.context) &&\n            writer.uint(this.containerType) &&\n            writer.string(this.containerSrc) &&\n            writer.string(this.containerId) &&\n            writer.string(this.containerName);\n    }\n}\nexport const LongTask = bindNew(_LongTask);\nclasses.set(59, LongTask);\nclass _SetNodeAttributeURLBased {\n    constructor(id, name, value, baseURL) {\n        this.id = id;\n        this.name = name;\n        this.value = value;\n        this.baseURL = baseURL;\n        this._id = 60;\n    }\n    encode(writer) {\n        return writer.uint(60) &&\n            writer.uint(this.id) &&\n            writer.string(this.name) &&\n            writer.string(this.value) &&\n            writer.string(this.baseURL);\n    }\n}\nexport const SetNodeAttributeURLBased = bindNew(_SetNodeAttributeURLBased);\nclasses.set(60, SetNodeAttributeURLBased);\nclass _SetCSSDataURLBased {\n    constructor(id, data, baseURL) {\n        this.id = id;\n        this.data = data;\n        this.baseURL = baseURL;\n        this._id = 61;\n    }\n    encode(writer) {\n        return writer.uint(61) &&\n            writer.uint(this.id) &&\n            writer.string(this.data) &&\n            writer.string(this.baseURL);\n    }\n}\nexport const SetCSSDataURLBased = bindNew(_SetCSSDataURLBased);\nclasses.set(61, SetCSSDataURLBased);\nclass _TechnicalInfo {\n    constructor(type, value) {\n        this.type = type;\n        this.value = value;\n        this._id = 63;\n    }\n    encode(writer) {\n        return writer.uint(63) &&\n            writer.string(this.type) &&\n            writer.string(this.value);\n    }\n}\nexport const TechnicalInfo = bindNew(_TechnicalInfo);\nclasses.set(63, TechnicalInfo);\nclass _CustomIssue {\n    constructor(name, payload) {\n        this.name = name;\n        this.payload = payload;\n        this._id = 64;\n    }\n    encode(writer) {\n        return writer.uint(64) &&\n            writer.string(this.name) &&\n            writer.string(this.payload);\n    }\n}\nexport const CustomIssue = bindNew(_CustomIssue);\nclasses.set(64, CustomIssue);\nclass _PageClose {\n    constructor() {\n        this._id = 65;\n    }\n    encode(writer) {\n        return writer.uint(65);\n    }\n}\nexport const PageClose = bindNew(_PageClose);\nclasses.set(65, PageClose);\nclass _CSSInsertRuleURLBased {\n    constructor(id, rule, index, baseURL) {\n        this.id = id;\n        this.rule = rule;\n        this.index = index;\n        this.baseURL = baseURL;\n        this._id = 67;\n    }\n    encode(writer) {\n        return writer.uint(67) &&\n            writer.uint(this.id) &&\n            writer.string(this.rule) &&\n            writer.uint(this.index) &&\n            writer.string(this.baseURL);\n    }\n}\nexport const CSSInsertRuleURLBased = bindNew(_CSSInsertRuleURLBased);\nclasses.set(67, CSSInsertRuleURLBased);\nclass _MouseClick {\n    constructor(id, hesitationTime, label, selector) {\n        this.id = id;\n        this.hesitationTime = hesitationTime;\n        this.label = label;\n        this.selector = selector;\n        this._id = 69;\n    }\n    encode(writer) {\n        return writer.uint(69) &&\n            writer.uint(this.id) &&\n            writer.uint(this.hesitationTime) &&\n            writer.string(this.label) &&\n            writer.string(this.selector);\n    }\n}\nexport const MouseClick = bindNew(_MouseClick);\nclasses.set(69, MouseClick);\nclass _CreateIFrameDocument {\n    constructor(frameID, id) {\n        this.frameID = frameID;\n        this.id = id;\n        this._id = 70;\n    }\n    encode(writer) {\n        return writer.uint(70) &&\n            writer.uint(this.frameID) &&\n            writer.uint(this.id);\n    }\n}\nexport const CreateIFrameDocument = bindNew(_CreateIFrameDocument);\nclasses.set(70, CreateIFrameDocument);\n","export function timestamp() {\n    return Math.round(performance.now()) + performance.timing.navigationStart;\n}\nexport const stars = 'repeat' in String.prototype\n    ? (str) => '*'.repeat(str.length)\n    : (str) => str.replace(/./g, '*');\nexport function normSpaces(str) {\n    return str.trim().replace(/\\s+/g, ' ');\n}\n// isAbsoluteUrl regexp:  /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url)\nexport function isURL(s) {\n    return s.startsWith('https://') || s.startsWith('http://');\n}\nexport const IN_BROWSER = !(typeof window === \"undefined\");\n// TODO: JOIN IT WITH LOGGER somehow (use logging decorators?); Don't forget about index.js loggin when there is no logger instance.\nexport const DOCS_HOST = 'https://docs.openreplay.com';\nconst warnedFeatures = {};\nexport function deprecationWarn(nameOfFeature, useInstead, docsPath = \"/\") {\n    if (warnedFeatures[nameOfFeature]) {\n        return;\n    }\n    console.warn(`OpenReplay: ${nameOfFeature} is deprecated. ${useInstead ? `Please, use ${useInstead} instead.` : \"\"} Visit ${DOCS_HOST}${docsPath} for more information.`);\n    warnedFeatures[nameOfFeature] = true;\n}\nexport function getLabelAttribute(e) {\n    let value = e.getAttribute(\"data-openreplay-label\");\n    if (value !== null) {\n        return value;\n    }\n    value = e.getAttribute(\"data-asayer-label\");\n    if (value !== null) {\n        deprecationWarn(`\"data-asayer-label\" attribute`, `\"data-openreplay-label\" attribute`, \"/\");\n    }\n    return value;\n}\nexport function hasOpenreplayAttribute(e, name) {\n    const newName = `data-openreplay-${name}`;\n    if (e.hasAttribute(newName)) {\n        return true;\n    }\n    const oldName = `data-asayer-${name}`;\n    if (e.hasAttribute(oldName)) {\n        deprecationWarn(`\"${oldName}\" attribute`, `\"${newName}\" attribute`, \"/installation/sanitize-data\");\n        return true;\n    }\n    return false;\n}\n","export default class Nodes {\n    constructor(node_id) {\n        this.node_id = node_id;\n        this.nodes = [];\n        this.nodeCallbacks = [];\n        this.elementListeners = new Map();\n    }\n    attachNodeCallback(nodeCallback) {\n        this.nodeCallbacks.push(nodeCallback);\n    }\n    attachElementListener(type, node, elementListener) {\n        const id = this.getID(node);\n        if (id === undefined) {\n            return;\n        }\n        node.addEventListener(type, elementListener);\n        let listeners = this.elementListeners.get(id);\n        if (listeners === undefined) {\n            listeners = [];\n            this.elementListeners.set(id, listeners);\n            return;\n        }\n        listeners.push([type, elementListener]);\n    }\n    registerNode(node) {\n        let id = node[this.node_id];\n        const isNew = id === undefined;\n        if (isNew) {\n            id = this.nodes.length;\n            this.nodes[id] = node;\n            node[this.node_id] = id;\n        }\n        return [id, isNew];\n    }\n    unregisterNode(node) {\n        const id = node[this.node_id];\n        if (id !== undefined) {\n            delete node[this.node_id];\n            delete this.nodes[id];\n            const listeners = this.elementListeners.get(id);\n            if (listeners !== undefined) {\n                this.elementListeners.delete(id);\n                listeners.forEach((listener) => node.removeEventListener(listener[0], listener[1]));\n            }\n        }\n        return id;\n    }\n    cleanTree() {\n        // sadly we keep empty items in array here resulting in some memory still being used\n        // but its still better than keeping dead nodes or undef elements\n        // plus we keep our index positions for new/alive nodes\n        // performance test: 3ms for 30k nodes with 17k dead ones\n        for (let i = 0; i < this.nodes.length; i++) {\n            const node = this.nodes[i];\n            if (node && !document.contains(node)) {\n                this.unregisterNode(node);\n            }\n        }\n    }\n    callNodeCallbacks(node, isStart) {\n        this.nodeCallbacks.forEach((cb) => cb(node, isStart));\n    }\n    getID(node) {\n        return node[this.node_id];\n    }\n    getNode(id) {\n        return this.nodes[id];\n    }\n    clear() {\n        for (let id = 0; id < this.nodes.length; id++) {\n            const node = this.nodes[id];\n            if (node === undefined) {\n                continue;\n            }\n            this.unregisterNode(node);\n        }\n        this.nodes.length = 0;\n    }\n}\n","export function isSVGElement(node) {\n    return node.namespaceURI === 'http://www.w3.org/2000/svg';\n}\nexport function isElementNode(node) {\n    return node.nodeType === Node.ELEMENT_NODE;\n}\nexport function isTextNode(node) {\n    return node.nodeType === Node.TEXT_NODE;\n}\nexport function isRootNode(node) {\n    return node.nodeType === Node.DOCUMENT_NODE ||\n        node.nodeType === Node.DOCUMENT_FRAGMENT_NODE;\n}\nexport function hasTag(el, tagName) {\n    return el.nodeName === tagName;\n}\n","import { RemoveNodeAttribute, SetNodeAttribute, SetNodeAttributeURLBased, SetCSSDataURLBased, SetNodeData, CreateTextNode, CreateElementNode, MoveNode, RemoveNode, } from \"../../common/messages.js\";\nimport { isRootNode, isTextNode, isElementNode, isSVGElement, hasTag, } from \"../guards.js\";\nfunction isIgnored(node) {\n    if (isTextNode(node)) {\n        return false;\n    }\n    if (!isElementNode(node)) {\n        return true;\n    }\n    const tag = node.tagName.toUpperCase();\n    if (tag === 'LINK') {\n        const rel = node.getAttribute('rel');\n        const as = node.getAttribute('as');\n        return !((rel === null || rel === void 0 ? void 0 : rel.includes('stylesheet')) || as === \"style\" || as === \"font\");\n    }\n    return (tag === 'SCRIPT' ||\n        tag === 'NOSCRIPT' ||\n        tag === 'META' ||\n        tag === 'TITLE' ||\n        tag === 'BASE');\n}\nfunction isObservable(node) {\n    if (isRootNode(node)) {\n        return true;\n    }\n    return !isIgnored(node);\n}\n/*\n  TODO:\n    - fix unbinding logic + send all removals first (ensure sequence is correct)\n    - use document as a 0-node in the upper context (should be updated in player at first)\n*/\n/*\n  Nikita:\n    - rn we only send unbind event for parent (all child nodes will be cut in the live replay anyways)\n      to prevent sending 1k+ unbinds for child nodes and making replay file bigger than it should be\n*/\nvar RecentsType;\n(function (RecentsType) {\n    RecentsType[RecentsType[\"New\"] = 0] = \"New\";\n    RecentsType[RecentsType[\"Removed\"] = 1] = \"Removed\";\n    RecentsType[RecentsType[\"Changed\"] = 2] = \"Changed\";\n    RecentsType[RecentsType[\"RemovedChild\"] = 3] = \"RemovedChild\";\n})(RecentsType || (RecentsType = {}));\nexport default class Observer {\n    constructor(app, isTopContext = false) {\n        this.app = app;\n        this.isTopContext = isTopContext;\n        this.commited = [];\n        this.recents = new Map();\n        this.indexes = [];\n        this.attributesMap = new Map();\n        this.textSet = new Set();\n        this.observer = new MutationObserver(this.app.safe((mutations) => {\n            for (const mutation of mutations) { // mutations order is sequential\n                const target = mutation.target;\n                const type = mutation.type;\n                if (!isObservable(target)) {\n                    continue;\n                }\n                if (type === 'childList') {\n                    for (let i = 0; i < mutation.removedNodes.length; i++) {\n                        this.bindTree(mutation.removedNodes[i], true);\n                    }\n                    for (let i = 0; i < mutation.addedNodes.length; i++) {\n                        this.bindTree(mutation.addedNodes[i]);\n                    }\n                    continue;\n                }\n                const id = this.app.nodes.getID(target);\n                if (id === undefined) {\n                    continue;\n                }\n                if (!this.recents.has(id)) {\n                    this.recents.set(id, RecentsType.Changed); // TODO only when altered\n                }\n                if (type === 'attributes') {\n                    const name = mutation.attributeName;\n                    if (name === null) {\n                        continue;\n                    }\n                    let attr = this.attributesMap.get(id);\n                    if (attr === undefined) {\n                        this.attributesMap.set(id, attr = new Set());\n                    }\n                    attr.add(name);\n                    continue;\n                }\n                if (type === 'characterData') {\n                    this.textSet.add(id);\n                    continue;\n                }\n            }\n            this.commitNodes();\n        }));\n    }\n    clear() {\n        this.commited.length = 0;\n        this.recents.clear();\n        this.indexes.length = 1;\n        this.attributesMap.clear();\n        this.textSet.clear();\n    }\n    sendNodeAttribute(id, node, name, value) {\n        if (isSVGElement(node)) {\n            if (name.substr(0, 6) === 'xlink:') {\n                name = name.substr(6);\n            }\n            if (value === null) {\n                this.app.send(new RemoveNodeAttribute(id, name));\n            }\n            else if (name === 'href') {\n                if (value.length > 1e5) {\n                    value = '';\n                }\n                this.app.send(new SetNodeAttributeURLBased(id, name, value, this.app.getBaseHref()));\n            }\n            else {\n                this.app.send(new SetNodeAttribute(id, name, value));\n            }\n            return;\n        }\n        if (name === 'src' ||\n            name === 'srcset' ||\n            name === 'integrity' ||\n            name === 'crossorigin' ||\n            name === 'autocomplete' ||\n            name.substr(0, 2) === 'on') {\n            return;\n        }\n        if (name === 'value' &&\n            hasTag(node, \"INPUT\") &&\n            node.type !== 'button' &&\n            node.type !== 'reset' &&\n            node.type !== 'submit') {\n            return;\n        }\n        if (value === null) {\n            this.app.send(new RemoveNodeAttribute(id, name));\n            return;\n        }\n        if (name === 'style' || name === 'href' && hasTag(node, \"LINK\")) {\n            this.app.send(new SetNodeAttributeURLBased(id, name, value, this.app.getBaseHref()));\n            return;\n        }\n        if (name === 'href' || value.length > 1e5) {\n            value = '';\n        }\n        this.app.send(new SetNodeAttribute(id, name, value));\n    }\n    sendNodeData(id, parentElement, data) {\n        if (hasTag(parentElement, \"STYLE\") || hasTag(parentElement, \"style\")) {\n            this.app.send(new SetCSSDataURLBased(id, data, this.app.getBaseHref()));\n            return;\n        }\n        data = this.app.sanitizer.sanitize(id, data);\n        this.app.send(new SetNodeData(id, data));\n    }\n    bindNode(node) {\n        const [id, isNew] = this.app.nodes.registerNode(node);\n        if (isNew) {\n            this.recents.set(id, RecentsType.New);\n        }\n        else if (this.recents.get(id) !== RecentsType.New) { // can we do just `else` here?\n            this.recents.set(id, RecentsType.Removed);\n        }\n    }\n    unbindChildNode(node) {\n        const [id] = this.app.nodes.registerNode(node);\n        this.recents.set(id, RecentsType.RemovedChild);\n    }\n    bindTree(node, isChildUnbinding = false) {\n        if (!isObservable(node)) {\n            return;\n        }\n        this.bindNode(node);\n        const walker = document.createTreeWalker(node, NodeFilter.SHOW_ELEMENT + NodeFilter.SHOW_TEXT, {\n            acceptNode: (node) => isIgnored(node)\n                || (this.app.nodes.getID(node) !== undefined && !isChildUnbinding)\n                ? NodeFilter.FILTER_REJECT\n                : NodeFilter.FILTER_ACCEPT,\n        }, \n        // @ts-ignore\n        false);\n        while (walker.nextNode()) {\n            if (isChildUnbinding) {\n                this.unbindChildNode(walker.currentNode);\n            }\n            else {\n                this.bindNode(walker.currentNode);\n            }\n        }\n    }\n    unbindNode(node) {\n        const id = this.app.nodes.unregisterNode(node);\n        if (id !== undefined && this.recents.get(id) === RecentsType.Removed) {\n            this.app.send(new RemoveNode(id));\n        }\n    }\n    // A top-consumption function on the infinite lists test. (~1% of performance resources)\n    _commitNode(id, node) {\n        if (isRootNode(node)) {\n            return true;\n        }\n        const parent = node.parentNode;\n        let parentID;\n        // Disable parent check for the upper context HTMLHtmlElement, because it is root there... (before)\n        // TODO: get rid of \"special\" cases (there is an issue with CreateDocument altered behaviour though)\n        // TODO: Clean the logic (though now it workd fine)\n        if (!hasTag(node, \"HTML\") || !this.isTopContext) {\n            if (parent === null) {\n                // Sometimes one observation contains attribute mutations for the removimg node, which gets ignored here.\n                // That shouldn't affect the visual rendering ( should it? )\n                this.unbindNode(node);\n                return false;\n            }\n            parentID = this.app.nodes.getID(parent);\n            if (parentID === undefined) {\n                this.unbindNode(node);\n                return false;\n            }\n            if (!this.commitNode(parentID)) {\n                this.unbindNode(node);\n                return false;\n            }\n            this.app.sanitizer.handleNode(id, parentID, node);\n            if (this.app.sanitizer.isMaskedContainer(parentID)) {\n                return false;\n            }\n        }\n        // From here parentID === undefined if node is top context HTML node\n        let sibling = node.previousSibling;\n        while (sibling !== null) {\n            const siblingID = this.app.nodes.getID(sibling);\n            if (siblingID !== undefined) {\n                this.commitNode(siblingID);\n                this.indexes[id] = this.indexes[siblingID] + 1;\n                break;\n            }\n            sibling = sibling.previousSibling;\n        }\n        if (sibling === null) {\n            this.indexes[id] = 0;\n        }\n        const recentsType = this.recents.get(id);\n        const isNew = recentsType === RecentsType.New;\n        const index = this.indexes[id];\n        if (index === undefined) {\n            throw 'commitNode: missing node index';\n        }\n        if (isNew) {\n            if (isElementNode(node)) {\n                let el = node;\n                if (parentID !== undefined) {\n                    if (this.app.sanitizer.isMaskedContainer(id)) {\n                        const width = el.clientWidth;\n                        const height = el.clientHeight;\n                        el = node.cloneNode();\n                        el.style.width = width + 'px';\n                        el.style.height = height + 'px';\n                    }\n                    this.app.send(new CreateElementNode(id, parentID, index, el.tagName, isSVGElement(node)));\n                }\n                for (let i = 0; i < el.attributes.length; i++) {\n                    const attr = el.attributes[i];\n                    this.sendNodeAttribute(id, el, attr.nodeName, attr.value);\n                }\n            }\n            else if (isTextNode(node)) {\n                // for text node id != 0, hence parentID !== undefined and parent is Element\n                this.app.send(new CreateTextNode(id, parentID, index));\n                this.sendNodeData(id, parent, node.data);\n            }\n            return true;\n        }\n        if (recentsType === RecentsType.Removed && parentID !== undefined) {\n            this.app.send(new MoveNode(id, parentID, index));\n        }\n        const attr = this.attributesMap.get(id);\n        if (attr !== undefined) {\n            if (!isElementNode(node)) {\n                throw 'commitNode: node is not an element';\n            }\n            for (const name of attr) {\n                this.sendNodeAttribute(id, node, name, node.getAttribute(name));\n            }\n        }\n        if (this.textSet.has(id)) {\n            if (!isTextNode(node)) {\n                throw 'commitNode: node is not a text';\n            }\n            // for text node id != 0, hence parent is Element\n            this.sendNodeData(id, parent, node.data);\n        }\n        return true;\n    }\n    commitNode(id) {\n        const node = this.app.nodes.getNode(id);\n        if (node === undefined) {\n            return false;\n        }\n        const cmt = this.commited[id];\n        if (cmt !== undefined) {\n            return cmt;\n        }\n        return (this.commited[id] = this._commitNode(id, node));\n    }\n    commitNodes(isStart = false) {\n        let node;\n        this.recents.forEach((type, id) => {\n            this.commitNode(id);\n            if (type === RecentsType.New && (node = this.app.nodes.getNode(id))) {\n                this.app.nodes.callNodeCallbacks(node, isStart);\n            }\n        });\n        this.clear();\n    }\n    // ISSSUE\n    observeRoot(node, beforeCommit, nodeToBind = node) {\n        this.observer.observe(node, {\n            childList: true,\n            attributes: true,\n            characterData: true,\n            subtree: true,\n            attributeOldValue: false,\n            characterDataOldValue: false,\n        });\n        this.bindTree(nodeToBind);\n        beforeCommit(this.app.nodes.getID(node));\n        this.commitNodes(true);\n    }\n    disconnect() {\n        this.observer.disconnect();\n        this.clear();\n    }\n}\n","import Observer from \"./observer.js\";\nimport { CreateIFrameDocument } from \"../../common/messages.js\";\nexport default class IFrameObserver extends Observer {\n    observe(iframe) {\n        const doc = iframe.contentDocument;\n        const hostID = this.app.nodes.getID(iframe);\n        if (!doc || hostID === undefined) {\n            return;\n        } //log TODO common app.logger\n        // Have to observe document, because the inner <html> might be changed\n        this.observeRoot(doc, (docID) => {\n            if (docID === undefined) {\n                console.log(\"OpenReplay: Iframe document not bound\");\n                return;\n            }\n            this.app.send(CreateIFrameDocument(hostID, docID));\n        });\n    }\n}\n","import Observer from \"./observer.js\";\nimport { CreateIFrameDocument } from \"../../common/messages.js\";\nexport default class ShadowRootObserver extends Observer {\n    observe(el) {\n        const shRoot = el.shadowRoot;\n        const hostID = this.app.nodes.getID(el);\n        if (!shRoot || hostID === undefined) {\n            return;\n        } // log\n        this.observeRoot(shRoot, (rootID) => {\n            if (rootID === undefined) {\n                console.log(\"OpenReplay: Shadow Root was not bound\");\n                return;\n            }\n            this.app.send(CreateIFrameDocument(hostID, rootID));\n        });\n    }\n}\n","import Observer from \"./observer.js\";\nimport { isElementNode, hasTag, } from \"../guards.js\";\nimport IFrameObserver from \"./iframe_observer.js\";\nimport ShadowRootObserver from \"./shadow_root_observer.js\";\nimport { CreateDocument } from \"../../common/messages.js\";\nimport { IN_BROWSER, hasOpenreplayAttribute } from '../../utils.js';\nconst attachShadowNativeFn = IN_BROWSER ? Element.prototype.attachShadow : () => new ShadowRoot();\nexport default class TopObserver extends Observer {\n    constructor(app, options) {\n        super(app, true);\n        this.iframeObservers = [];\n        this.shadowRootObservers = [];\n        this.options = Object.assign({\n            captureIFrames: true\n        }, options);\n        // IFrames\n        this.app.nodes.attachNodeCallback(node => {\n            if (hasTag(node, \"IFRAME\") &&\n                ((this.options.captureIFrames && !hasOpenreplayAttribute(node, \"obscured\"))\n                    || hasOpenreplayAttribute(node, \"capture\"))) {\n                this.handleIframe(node);\n            }\n        });\n        // ShadowDOM\n        this.app.nodes.attachNodeCallback(node => {\n            if (isElementNode(node) && node.shadowRoot !== null) {\n                this.handleShadowRoot(node.shadowRoot);\n            }\n        });\n    }\n    handleIframe(iframe) {\n        let doc = null;\n        const handle = this.app.safe(() => {\n            const id = this.app.nodes.getID(iframe);\n            if (id === undefined) {\n                return;\n            } //log\n            if (iframe.contentDocument === doc) {\n                return;\n            } // How frequently can it happen?\n            doc = iframe.contentDocument;\n            if (!doc || !iframe.contentWindow) {\n                return;\n            }\n            const observer = new IFrameObserver(this.app);\n            this.iframeObservers.push(observer);\n            observer.observe(iframe);\n        });\n        iframe.addEventListener(\"load\", handle); // why app.attachEventListener not working?\n        handle();\n    }\n    handleShadowRoot(shRoot) {\n        const observer = new ShadowRootObserver(this.app);\n        this.shadowRootObservers.push(observer);\n        observer.observe(shRoot.host);\n    }\n    observe() {\n        // Protection from several subsequent calls?\n        const observer = this;\n        Element.prototype.attachShadow = function () {\n            const shadow = attachShadowNativeFn.apply(this, arguments);\n            observer.handleShadowRoot(shadow);\n            return shadow;\n        };\n        // Can observe documentElement (<html>) here, because it is not supposed to be changing.\n        // However, it is possible in some exotic cases and may cause an ignorance of the newly created <html>\n        // In this case context.document have to be observed, but this will cause \n        // the change in the re-player behaviour caused by CreateDocument message: \n        //   the 0-node (\"fRoot\") will become #document rather than documentElement as it is now.\n        // Alternatively - observe(#document) then bindNode(documentElement)\n        this.observeRoot(window.document, () => {\n            this.app.send(new CreateDocument());\n        }, window.document.documentElement);\n    }\n    disconnect() {\n        Element.prototype.attachShadow = attachShadowNativeFn;\n        this.iframeObservers.forEach(o => o.disconnect());\n        this.iframeObservers = [];\n        this.shadowRootObservers.forEach(o => o.disconnect());\n        this.shadowRootObservers = [];\n        super.disconnect();\n    }\n}\n","import { stars, hasOpenreplayAttribute } from \"../utils.js\";\nimport { isElementNode } from \"./guards.js\";\nexport default class Sanitizer {\n    constructor(app, options) {\n        this.app = app;\n        this.masked = new Set();\n        this.maskedContainers = new Set();\n        this.options = Object.assign({\n            obscureTextEmails: true,\n            obscureTextNumbers: false,\n        }, options);\n    }\n    handleNode(id, parentID, node) {\n        if (this.masked.has(parentID) ||\n            (isElementNode(node) &&\n                hasOpenreplayAttribute(node, 'masked'))) {\n            this.masked.add(id);\n        }\n        if (this.maskedContainers.has(parentID) ||\n            (isElementNode(node) &&\n                hasOpenreplayAttribute(node, 'htmlmasked'))) {\n            this.maskedContainers.add(id);\n        }\n    }\n    sanitize(id, data) {\n        if (this.masked.has(id)) {\n            // TODO: is it the best place to put trim() ? Might trimmed spaces be considered in layout in certain cases?\n            return data.trim().replace(/[^\\f\\n\\r\\t\\v\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]/g, '█');\n        }\n        if (this.options.obscureTextNumbers) {\n            data = data.replace(/\\d/g, '0');\n        }\n        if (this.options.obscureTextEmails) {\n            data = data.replace(/([^\\s]+)@([^\\s]+)\\.([^\\s]+)/g, (...f) => stars(f[1]) + '@' + stars(f[2]) + '.' + stars(f[3]));\n        }\n        return data;\n    }\n    isMasked(id) {\n        return this.masked.has(id);\n    }\n    isMaskedContainer(id) {\n        return this.maskedContainers.has(id);\n    }\n    getInnerTextSecure(el) {\n        const id = this.app.nodes.getID(el);\n        if (!id) {\n            return '';\n        }\n        return this.sanitize(id, el.innerText);\n    }\n    clear() {\n        this.masked.clear();\n        this.maskedContainers.clear();\n    }\n}\n","function wrap(callback, n) {\n    let t = 0;\n    return () => {\n        if (t++ >= n) {\n            t = 0;\n            callback();\n        }\n    };\n}\nexport default class Ticker {\n    constructor(app) {\n        this.app = app;\n        this.timer = null;\n        this.callbacks = [];\n    }\n    attach(callback, n = 0, useSafe = true, thisArg) {\n        if (thisArg) {\n            callback = callback.bind(thisArg);\n        }\n        if (useSafe) {\n            callback = this.app.safe(callback);\n        }\n        this.callbacks.unshift(n ? wrap(callback, n) : callback) - 1;\n    }\n    start() {\n        if (this.timer === null) {\n            this.timer = setInterval(() => this.callbacks.forEach((cb) => {\n                if (cb)\n                    cb();\n            }), 30);\n        }\n    }\n    stop() {\n        if (this.timer !== null) {\n            clearInterval(this.timer);\n            this.timer = null;\n        }\n    }\n}\n","export const LogLevel = {\n    Verbose: 5,\n    Log: 4,\n    Warnings: 3,\n    Errors: 2,\n    Silent: 0,\n};\nfunction IsCustomLevel(l) {\n    return typeof l === 'object';\n}\nexport default class Logger {\n    constructor(options = LogLevel.Silent) {\n        this.options = options === true\n            ? { level: LogLevel.Verbose }\n            : typeof options === \"number\" ? { level: options } : options;\n    }\n    log(...args) {\n        if (IsCustomLevel(this.options.level)\n            ? this.options.level.log\n            : this.options.level >= LogLevel.Log) {\n            console.log(...args);\n        }\n    }\n    warn(...args) {\n        if (IsCustomLevel(this.options.level)\n            ? this.options.level.warn\n            : this.options.level >= LogLevel.Warnings) {\n            console.warn(...args);\n        }\n    }\n    error(...args) {\n        if (IsCustomLevel(this.options.level)\n            ? this.options.level.error\n            : this.options.level >= LogLevel.Errors) {\n            console.error(...args);\n        }\n    }\n}\n","export default class Session {\n    constructor() {\n        this.metadata = {};\n        this.userID = null;\n        this.sessionID = null;\n        this.callbacks = [];\n    }\n    attachUpdateCallback(cb) {\n        this.callbacks.push(cb);\n    }\n    handleUpdate(newInfo) {\n        if (newInfo.userID == null) {\n            delete newInfo.userID;\n        }\n        if (newInfo.sessionID == null) {\n            delete newInfo.sessionID;\n        }\n        this.callbacks.forEach(cb => cb(newInfo));\n    }\n    update(newInfo) {\n        if (newInfo.userID !== undefined) { // TODO clear nullable/undefinable types\n            this.userID = newInfo.userID;\n        }\n        if (newInfo.metadata !== undefined) {\n            Object.entries(newInfo.metadata).forEach(([k, v]) => this.metadata[k] = v);\n        }\n        if (newInfo.sessionID !== undefined) {\n            this.sessionID = newInfo.sessionID;\n        }\n        this.handleUpdate(newInfo);\n    }\n    setMetadata(key, value) {\n        this.metadata[key] = value;\n        this.handleUpdate({ metadata: { [key]: value } });\n    }\n    setUserID(userID) {\n        this.userID = userID;\n        this.handleUpdate({ userID });\n    }\n    getInfo() {\n        return {\n            sessionID: this.sessionID,\n            metadata: this.metadata,\n            userID: this.userID,\n        };\n    }\n    reset() {\n        this.metadata = {};\n        this.userID = null;\n        this.sessionID = null;\n    }\n}\n","import { IN_BROWSER } from \"../utils.js\";\nimport { PerformanceTrack } from \"../common/messages.js\";\nconst perf = IN_BROWSER && 'performance' in window && 'memory' in performance // works in Chrome only\n    ? performance\n    : { memory: {} };\nexport const deviceMemory = IN_BROWSER ? (navigator.deviceMemory || 0) * 1024 : 0;\nexport const jsHeapSizeLimit = perf.memory.jsHeapSizeLimit || 0;\nexport default function (app, opts) {\n    const options = Object.assign({\n        capturePerformance: true,\n    }, opts);\n    if (!options.capturePerformance) {\n        return;\n    }\n    let frames;\n    let ticks;\n    const nextFrame = () => {\n        if (frames === undefined || frames === -1) {\n            return;\n        }\n        frames++;\n        requestAnimationFrame(nextFrame);\n    };\n    app.ticker.attach(() => {\n        if (ticks === undefined || ticks === -1) {\n            return;\n        }\n        ticks++;\n    }, 0, false);\n    const sendPerformanceTrack = () => {\n        if (frames === undefined || ticks === undefined) {\n            return;\n        }\n        app.send(new PerformanceTrack(frames, ticks, perf.memory.totalJSHeapSize || 0, perf.memory.usedJSHeapSize || 0));\n        ticks = frames = document.hidden ? -1 : 0;\n    };\n    app.attachStartCallback(() => {\n        ticks = frames = -1;\n        sendPerformanceTrack();\n        nextFrame();\n    });\n    app.attachStopCallback(() => {\n        ticks = frames = undefined;\n    });\n    app.ticker.attach(sendPerformanceTrack, 40, false);\n    if (document.hidden !== undefined) {\n        app.attachEventListener(document, 'visibilitychange', sendPerformanceTrack, false, false);\n    }\n}\n","import { Timestamp, Metadata, UserID } from \"../common/messages.js\";\nimport { timestamp } from \"../utils.js\";\nimport Nodes from \"./nodes.js\";\nimport Observer from \"./observer/top_observer.js\";\nimport Sanitizer from \"./sanitizer.js\";\nimport Ticker from \"./ticker.js\";\nimport Logger, { LogLevel } from \"./logger.js\";\nimport Session from \"./session.js\";\nimport { deviceMemory, jsHeapSizeLimit } from \"../modules/performance.js\";\nconst CANCELED = \"canceled\";\nconst START_ERROR = \":(\";\nconst UnsuccessfulStart = (reason) => ({ reason, success: false });\nconst SuccessfulStart = (body) => (Object.assign(Object.assign({}, body), { success: true }));\nvar ActivityState;\n(function (ActivityState) {\n    ActivityState[ActivityState[\"NotActive\"] = 0] = \"NotActive\";\n    ActivityState[ActivityState[\"Starting\"] = 1] = \"Starting\";\n    ActivityState[ActivityState[\"Active\"] = 2] = \"Active\";\n})(ActivityState || (ActivityState = {}));\n// TODO: use backendHost only\nexport const DEFAULT_INGEST_POINT = 'https://api.openreplay.com/ingest';\nexport default class App {\n    constructor(projectKey, sessionToken, options) {\n        // if (options.onStart !== undefined) {\n        //   deprecationWarn(\"'onStart' option\", \"tracker.start().then(/* handle session info */)\")\n        // } ?? maybe onStart is good\n        this.messages = [];\n        this.startCallbacks = [];\n        this.stopCallbacks = [];\n        this.commitCallbacks = [];\n        this.activityState = ActivityState.NotActive;\n        this.version = '3.5.16'; // TODO: version compatability check inside each plugin.\n        this.projectKey = projectKey;\n        this.options = Object.assign({\n            revID: '',\n            node_id: '__openreplay_id',\n            session_token_key: '__openreplay_token',\n            session_pageno_key: '__openreplay_pageno',\n            session_reset_key: '__openreplay_reset',\n            local_uuid_key: '__openreplay_uuid',\n            ingestPoint: DEFAULT_INGEST_POINT,\n            resourceBaseHref: null,\n            verbose: false,\n            __is_snippet: false,\n            __debug_report_edp: null,\n            localStorage: window.localStorage,\n            sessionStorage: window.sessionStorage,\n        }, options);\n        this.revID = this.options.revID;\n        this.sanitizer = new Sanitizer(this, options);\n        this.nodes = new Nodes(this.options.node_id);\n        this.observer = new Observer(this, options);\n        this.ticker = new Ticker(this);\n        this.ticker.attach(() => this.commit());\n        this.debug = new Logger(this.options.__debug__);\n        this.notify = new Logger(this.options.verbose ? LogLevel.Warnings : LogLevel.Silent);\n        this.session = new Session();\n        this.session.attachUpdateCallback(({ userID, metadata }) => {\n            if (userID != null) { // TODO: nullable userID\n                this.send(new UserID(userID));\n            }\n            if (metadata != null) {\n                Object.entries(metadata).forEach(([key, value]) => this.send(new Metadata(key, value)));\n            }\n        });\n        this.localStorage = this.options.localStorage;\n        this.sessionStorage = this.options.sessionStorage;\n        if (sessionToken != null) {\n            this.sessionStorage.setItem(this.options.session_token_key, sessionToken);\n        }\n        try {\n            this.worker = new Worker(URL.createObjectURL(new Blob([`\"use strict\";function t(t){function i(...i){return new t(...i)}return i.prototype=t.prototype,i}const i=new Map;const s=t(class{constructor(t,i,s){this.pageNo=t,this.firstIndex=i,this.timestamp=s,this._id=80}encode(t){return t.uint(80)&&t.uint(this.pageNo)&&t.uint(this.firstIndex)&&t.int(this.timestamp)}});i.set(80,s);const e=t(class{constructor(t){this.timestamp=t,this._id=0}encode(t){return t.uint(0)&&t.uint(this.timestamp)}});i.set(0,e);const n=t(class{constructor(t,i,s){this.url=t,this.referrer=i,this.navigationStart=s,this._id=4}encode(t){return t.uint(4)&&t.string(this.url)&&t.string(this.referrer)&&t.uint(this.navigationStart)}});i.set(4,n);const r=t(class{constructor(t,i){this.width=t,this.height=i,this._id=5}encode(t){return t.uint(5)&&t.uint(this.width)&&t.uint(this.height)}});i.set(5,r);const h=t(class{constructor(t,i){this.x=t,this.y=i,this._id=6}encode(t){return t.uint(6)&&t.int(this.x)&&t.int(this.y)}});i.set(6,h);const o=t(class{constructor(){this._id=7}encode(t){return t.uint(7)}});i.set(7,o);const c=t(class{constructor(t,i,s,e,n){this.id=t,this.parentID=i,this.index=s,this.tag=e,this.svg=n,this._id=8}encode(t){return t.uint(8)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)&&t.string(this.tag)&&t.boolean(this.svg)}});i.set(8,c);const a=t(class{constructor(t,i,s){this.id=t,this.parentID=i,this.index=s,this._id=9}encode(t){return t.uint(9)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});i.set(9,a);const u=t(class{constructor(t,i,s){this.id=t,this.parentID=i,this.index=s,this._id=10}encode(t){return t.uint(10)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});i.set(10,u);const d=t(class{constructor(t){this.id=t,this._id=11}encode(t){return t.uint(11)&&t.uint(this.id)}});i.set(11,d);const l=t(class{constructor(t,i,s){this.id=t,this.name=i,this.value=s,this._id=12}encode(t){return t.uint(12)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)}});i.set(12,l);const p=t(class{constructor(t,i){this.id=t,this.name=i,this._id=13}encode(t){return t.uint(13)&&t.uint(this.id)&&t.string(this.name)}});i.set(13,p);const g=t(class{constructor(t,i){this.id=t,this.data=i,this._id=14}encode(t){return t.uint(14)&&t.uint(this.id)&&t.string(this.data)}});i.set(14,g);const m=t(class{constructor(t,i,s){this.id=t,this.x=i,this.y=s,this._id=16}encode(t){return t.uint(16)&&t.uint(this.id)&&t.int(this.x)&&t.int(this.y)}});i.set(16,m);const f=t(class{constructor(t,i){this.id=t,this.label=i,this._id=17}encode(t){return t.uint(17)&&t.uint(this.id)&&t.string(this.label)}});i.set(17,f);const y=t(class{constructor(t,i,s){this.id=t,this.value=i,this.mask=s,this._id=18}encode(t){return t.uint(18)&&t.uint(this.id)&&t.string(this.value)&&t.int(this.mask)}});i.set(18,y);const _=t(class{constructor(t,i){this.id=t,this.checked=i,this._id=19}encode(t){return t.uint(19)&&t.uint(this.id)&&t.boolean(this.checked)}});i.set(19,_);const v=t(class{constructor(t,i){this.x=t,this.y=i,this._id=20}encode(t){return t.uint(20)&&t.uint(this.x)&&t.uint(this.y)}});i.set(20,v);const S=t(class{constructor(t,i){this.level=t,this.value=i,this._id=22}encode(t){return t.uint(22)&&t.string(this.level)&&t.string(this.value)}});i.set(22,S);const b=t(class{constructor(t,i,s,e,n,r,h,o,c){this.requestStart=t,this.responseStart=i,this.responseEnd=s,this.domContentLoadedEventStart=e,this.domContentLoadedEventEnd=n,this.loadEventStart=r,this.loadEventEnd=h,this.firstPaint=o,this.firstContentfulPaint=c,this._id=23}encode(t){return t.uint(23)&&t.uint(this.requestStart)&&t.uint(this.responseStart)&&t.uint(this.responseEnd)&&t.uint(this.domContentLoadedEventStart)&&t.uint(this.domContentLoadedEventEnd)&&t.uint(this.loadEventStart)&&t.uint(this.loadEventEnd)&&t.uint(this.firstPaint)&&t.uint(this.firstContentfulPaint)}});i.set(23,b);const w=t(class{constructor(t,i,s){this.speedIndex=t,this.visuallyComplete=i,this.timeToInteractive=s,this._id=24}encode(t){return t.uint(24)&&t.uint(this.speedIndex)&&t.uint(this.visuallyComplete)&&t.uint(this.timeToInteractive)}});i.set(24,w);const E=t(class{constructor(t,i,s){this.name=t,this.message=i,this.payload=s,this._id=25}encode(t){return t.uint(25)&&t.string(this.name)&&t.string(this.message)&&t.string(this.payload)}});i.set(25,E);const x=t(class{constructor(t,i){this.name=t,this.payload=i,this._id=27}encode(t){return t.uint(27)&&t.string(this.name)&&t.string(this.payload)}});i.set(27,x);const T=t(class{constructor(t){this.id=t,this._id=28}encode(t){return t.uint(28)&&t.string(this.id)}});i.set(28,T);const z=t(class{constructor(t){this.id=t,this._id=29}encode(t){return t.uint(29)&&t.string(this.id)}});i.set(29,z);const k=t(class{constructor(t,i){this.key=t,this.value=i,this._id=30}encode(t){return t.uint(30)&&t.string(this.key)&&t.string(this.value)}});i.set(30,k);const A=t(class{constructor(t,i,s){this.id=t,this.rule=i,this.index=s,this._id=37}encode(t){return t.uint(37)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)}});i.set(37,A);const I=t(class{constructor(t,i){this.id=t,this.index=i,this._id=38}encode(t){return t.uint(38)&&t.uint(this.id)&&t.uint(this.index)}});i.set(38,I);const L=t(class{constructor(t,i,s,e,n,r,h){this.method=t,this.url=i,this.request=s,this.response=e,this.status=n,this.timestamp=r,this.duration=h,this._id=39}encode(t){return t.uint(39)&&t.string(this.method)&&t.string(this.url)&&t.string(this.request)&&t.string(this.response)&&t.uint(this.status)&&t.uint(this.timestamp)&&t.uint(this.duration)}});i.set(39,L);const C=t(class{constructor(t,i,s,e){this.name=t,this.duration=i,this.args=s,this.result=e,this._id=40}encode(t){return t.uint(40)&&t.string(this.name)&&t.uint(this.duration)&&t.string(this.args)&&t.string(this.result)}});i.set(40,C);const M=t(class{constructor(t,i){this.key=t,this.value=i,this._id=41}encode(t){return t.uint(41)&&t.string(this.key)&&t.string(this.value)}});i.set(41,M);const N=t(class{constructor(t){this.type=t,this._id=42}encode(t){return t.uint(42)&&t.string(this.type)}});i.set(42,N);const B=t(class{constructor(t,i,s){this.action=t,this.state=i,this.duration=s,this._id=44}encode(t){return t.uint(44)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});i.set(44,B);const U=t(class{constructor(t,i){this.mutation=t,this.state=i,this._id=45}encode(t){return t.uint(45)&&t.string(this.mutation)&&t.string(this.state)}});i.set(45,U);const R=t(class{constructor(t,i){this.type=t,this.payload=i,this._id=46}encode(t){return t.uint(46)&&t.string(this.type)&&t.string(this.payload)}});i.set(46,R);const O=t(class{constructor(t,i,s){this.action=t,this.state=i,this.duration=s,this._id=47}encode(t){return t.uint(47)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});i.set(47,O);const P=t(class{constructor(t,i,s,e){this.operationKind=t,this.operationName=i,this.variables=s,this.response=e,this._id=48}encode(t){return t.uint(48)&&t.string(this.operationKind)&&t.string(this.operationName)&&t.string(this.variables)&&t.string(this.response)}});i.set(48,P);const q=t(class{constructor(t,i,s,e){this.frames=t,this.ticks=i,this.totalJSHeapSize=s,this.usedJSHeapSize=e,this._id=49}encode(t){return t.uint(49)&&t.int(this.frames)&&t.int(this.ticks)&&t.uint(this.totalJSHeapSize)&&t.uint(this.usedJSHeapSize)}});i.set(49,q);const D=t(class{constructor(t,i,s,e,n,r,h,o){this.timestamp=t,this.duration=i,this.ttfb=s,this.headerSize=e,this.encodedBodySize=n,this.decodedBodySize=r,this.url=h,this.initiator=o,this._id=53}encode(t){return t.uint(53)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.ttfb)&&t.uint(this.headerSize)&&t.uint(this.encodedBodySize)&&t.uint(this.decodedBodySize)&&t.string(this.url)&&t.string(this.initiator)}});i.set(53,D);const W=t(class{constructor(t,i){this.downlink=t,this.type=i,this._id=54}encode(t){return t.uint(54)&&t.uint(this.downlink)&&t.string(this.type)}});i.set(54,W);const H=t(class{constructor(t){this.hidden=t,this._id=55}encode(t){return t.uint(55)&&t.boolean(this.hidden)}});i.set(55,H);const J=t(class{constructor(t,i,s,e,n,r,h){this.timestamp=t,this.duration=i,this.context=s,this.containerType=e,this.containerSrc=n,this.containerId=r,this.containerName=h,this._id=59}encode(t){return t.uint(59)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.context)&&t.uint(this.containerType)&&t.string(this.containerSrc)&&t.string(this.containerId)&&t.string(this.containerName)}});i.set(59,J);const F=t(class{constructor(t,i,s,e){this.id=t,this.name=i,this.value=s,this.baseURL=e,this._id=60}encode(t){return t.uint(60)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)&&t.string(this.baseURL)}});i.set(60,F);const X=t(class{constructor(t,i,s){this.id=t,this.data=i,this.baseURL=s,this._id=61}encode(t){return t.uint(61)&&t.uint(this.id)&&t.string(this.data)&&t.string(this.baseURL)}});i.set(61,X);const G=t(class{constructor(t,i){this.type=t,this.value=i,this._id=63}encode(t){return t.uint(63)&&t.string(this.type)&&t.string(this.value)}});i.set(63,G);const K=t(class{constructor(t,i){this.name=t,this.payload=i,this._id=64}encode(t){return t.uint(64)&&t.string(this.name)&&t.string(this.payload)}});i.set(64,K);const j=t(class{constructor(){this._id=65}encode(t){return t.uint(65)}});i.set(65,j);const Q=t(class{constructor(t,i,s,e){this.id=t,this.rule=i,this.index=s,this.baseURL=e,this._id=67}encode(t){return t.uint(67)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)&&t.string(this.baseURL)}});i.set(67,Q);const V=t(class{constructor(t,i,s,e){this.id=t,this.hesitationTime=i,this.label=s,this.selector=e,this._id=69}encode(t){return t.uint(69)&&t.uint(this.id)&&t.uint(this.hesitationTime)&&t.string(this.label)&&t.string(this.selector)}});i.set(69,V);const Y=t(class{constructor(t,i){this.frameID=t,this.id=i,this._id=70}encode(t){return t.uint(70)&&t.uint(this.frameID)&&t.uint(this.id)}});i.set(70,Y);class Z{constructor(t,i,s,e=10,n=1e3){this.onUnauthorised=i,this.onFailure=s,this.MAX_ATTEMPTS_COUNT=e,this.ATTEMPT_TIMEOUT=n,this.attemptsCount=0,this.busy=!1,this.queue=[],this.token=null,this.ingestURL=t+\"/v1/web/i\"}authorise(t){this.token=t}push(t){this.busy||!this.token?this.queue.push(t):this.sendBatch(t)}retry(t){this.attemptsCount>=this.MAX_ATTEMPTS_COUNT?this.onFailure():(this.attemptsCount++,setTimeout(()=>this.sendBatch(t),this.ATTEMPT_TIMEOUT*this.attemptsCount))}sendBatch(t){this.busy=!0,fetch(this.ingestURL,{body:t,method:\"POST\",headers:{Authorization:\"Bearer \"+this.token},keepalive:t.length<65536}).then(i=>{if(401===i.status)return this.busy=!1,void this.onUnauthorised();if(i.status>=400)return void this.retry(t);this.attemptsCount=0;const s=this.queue.shift();s?this.sendBatch(s):this.busy=!1}).catch(i=>{console.warn(\"OpenReplay:\",i),this.retry(t)})}clean(){this.queue.length=0}}const tt=\"function\"==typeof TextEncoder?new TextEncoder:{encode(t){const i=t.length,s=new Uint8Array(3*i);let e=-1;for(var n=0,r=0,h=0;h!==i;){if(n=t.charCodeAt(h),h+=1,n>=55296&&n<=56319){if(h===i){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;break}if(!((r=t.charCodeAt(h))>=56320&&r<=57343)){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;continue}if(h+=1,(n=1024*(n-55296)+r-56320+65536)>65535){s[e+=1]=240|n>>>18,s[e+=1]=128|n>>>12&63,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n;continue}}n<=127?s[e+=1]=0|n:n<=2047?(s[e+=1]=192|n>>>6,s[e+=1]=128|63&n):(s[e+=1]=224|n>>>12,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n)}return s.subarray(0,e+1)}};class it{constructor(t){this.size=t,this.offset=0,this.checkpointOffset=0,this.data=new Uint8Array(t)}checkpoint(){this.checkpointOffset=this.offset}isEmpty(){return 0===this.offset}boolean(t){return this.data[this.offset++]=+t,this.offset<=this.size}uint(t){for((t<0||t>Number.MAX_SAFE_INTEGER)&&(t=0);t>=128;)this.data[this.offset++]=t%256|128,t=Math.floor(t/128);return this.data[this.offset++]=t,this.offset<=this.size}int(t){return t=Math.round(t),this.uint(t>=0?2*t:-2*t-1)}string(t){const i=tt.encode(t),s=i.byteLength;return!(!this.uint(s)||this.offset+s>this.size)&&(this.data.set(i,this.offset),this.offset+=s,!0)}reset(){this.offset=0,this.checkpointOffset=0}flush(){const t=this.data.slice(0,this.checkpointOffset);return this.reset(),t}}class st{constructor(t,i,s){this.pageNo=t,this.timestamp=i,this.onBatch=s,this.nextIndex=0,this.beaconSize=2e5,this.writer=new it(this.beaconSize),this.isEmpty=!0,this.beaconSizeLimit=1e6,this.prepare()}prepare(){this.writer.isEmpty()&&new s(this.pageNo,this.nextIndex,this.timestamp).encode(this.writer)}write(t){const i=t.encode(this.writer);return i&&(this.isEmpty=!1,this.writer.checkpoint(),this.nextIndex++),i}setBeaconSizeLimit(t){this.beaconSizeLimit=t}writeMessage(t){for(t instanceof e&&(this.timestamp=t.timestamp);!this.write(t);){if(this.finaliseBatch(),this.beaconSize===this.beaconSizeLimit)return console.warn(\"OpenReplay: beacon size overflow. Skipping large message.\"),this.writer.reset(),this.prepare(),void(this.isEmpty=!0);this.beaconSize=Math.min(2*this.beaconSize,this.beaconSizeLimit),this.writer=new it(this.beaconSize),this.prepare(),this.isEmpty=!0}}finaliseBatch(){this.isEmpty||(this.onBatch(this.writer.flush()),this.prepare(),this.isEmpty=!0)}clean(){this.writer.reset()}}var et;!function(t){t[t.NotActive=0]=\"NotActive\",t[t.Starting=1]=\"Starting\",t[t.Stopping=2]=\"Stopping\",t[t.Active=3]=\"Active\"}(et||(et={}));let nt=null,rt=null;function ht(){rt&&rt.finaliseBatch()}function ot(){et.Stopping,null!==at&&(clearInterval(at),at=null),rt&&(rt.clean(),rt=null),et.NotActive}et.NotActive;let ct,at=null;self.onmessage=({data:t})=>{if(null!=t){if(\"stop\"===t)return ht(),void ot();if(Array.isArray(t)){if(!rt)throw new Error(\"WebWorker: writer not initialised. Service Should be Started.\");const s=rt;t.forEach(t=>{const e=new(i.get(t._id));Object.assign(e,t),e instanceof H&&(e.hidden?ct=setTimeout(()=>self.postMessage(\"restart\"),18e5):clearTimeout(ct)),s.writeMessage(e)})}else{if(\"start\"===t.type)return et.Starting,nt=new Z(t.ingestPoint,()=>{self.postMessage(\"restart\")},()=>{nt&&(nt.clean(),nt=null),ot(),self.postMessage(\"failed\")},t.connAttemptCount,t.connAttemptGap),rt=new st(t.pageNo,t.timestamp,t=>nt&&nt.push(t)),null===at&&(at=setInterval(ht,1e4)),et.Active;if(\"auth\"===t.type){if(!nt)throw new Error(\"WebWorker: sender not initialised. Received auth.\");if(!rt)throw new Error(\"WebWorker: writer not initialised. Received auth.\");return nt.authorise(t.token),void(t.beaconSizeLimit&&rt.setBeaconSizeLimit(t.beaconSizeLimit))}}}else ht()};\n`], { type: 'text/javascript' })));\n            this.worker.onerror = e => {\n                this._debug(\"webworker_error\", e);\n            };\n            this.worker.onmessage = ({ data }) => {\n                if (data === \"failed\") {\n                    this.stop();\n                    this._debug(\"worker_failed\", {}); // add context (from worker)\n                }\n                else if (data === \"restart\") {\n                    this.stop();\n                    this.start({ forceNew: true });\n                }\n            };\n            const alertWorker = () => {\n                if (this.worker) {\n                    this.worker.postMessage(null);\n                }\n            };\n            // keep better tactics, discard others?\n            this.attachEventListener(window, 'beforeunload', alertWorker, false);\n            this.attachEventListener(document.body, 'mouseleave', alertWorker, false, false);\n            // TODO: stop session after inactivity timeout (make configurable)\n            this.attachEventListener(document, 'visibilitychange', alertWorker, false);\n        }\n        catch (e) {\n            this._debug(\"worker_start\", e);\n        }\n    }\n    _debug(context, e) {\n        if (this.options.__debug_report_edp !== null) {\n            fetch(this.options.__debug_report_edp, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    context,\n                    error: `${e}`\n                })\n            });\n        }\n        this.debug.error(\"OpenReplay error: \", context, e);\n    }\n    send(message, urgent = false) {\n        if (this.activityState === ActivityState.NotActive) {\n            return;\n        }\n        this.messages.push(message);\n        // TODO: commit on start if there were `urgent` sends; \n        // Clearify where urgent can be used for;\n        // Clearify workflow for each type of message in case it was sent before start \n        //      (like Fetch before start; maybe add an option \"preCapture: boolean\" or sth alike)\n        if (this.activityState === ActivityState.Active && urgent) {\n            this.commit();\n        }\n    }\n    commit() {\n        if (this.worker && this.messages.length) {\n            this.messages.unshift(new Timestamp(timestamp()));\n            this.worker.postMessage(this.messages);\n            this.commitCallbacks.forEach(cb => cb(this.messages));\n            this.messages.length = 0;\n        }\n    }\n    safe(fn) {\n        const app = this;\n        return function (...args) {\n            try {\n                fn.apply(this, args);\n            }\n            catch (e) {\n                app._debug(\"safe_fn_call\", e);\n                // time: timestamp(),\n                // name: e.name,\n                // message: e.message,\n                // stack: e.stack\n            }\n        }; // TODO: correct typing\n    }\n    attachCommitCallback(cb) {\n        this.commitCallbacks.push(cb);\n    }\n    attachStartCallback(cb) {\n        this.startCallbacks.push(cb);\n    }\n    attachStopCallback(cb) {\n        this.stopCallbacks.push(cb);\n    }\n    attachEventListener(target, type, listener, useSafe = true, useCapture = true) {\n        if (useSafe) {\n            listener = this.safe(listener);\n        }\n        this.attachStartCallback(() => target.addEventListener(type, listener, useCapture));\n        this.attachStopCallback(() => target.removeEventListener(type, listener, useCapture));\n    }\n    // TODO: full correct semantic\n    checkRequiredVersion(version) {\n        const reqVer = version.split(/[.-]/);\n        const ver = this.version.split(/[.-]/);\n        for (let i = 0; i < 3; i++) {\n            if (Number(ver[i]) < Number(reqVer[i]) || isNaN(Number(ver[i])) || isNaN(Number(reqVer[i]))) {\n                return false;\n            }\n        }\n        return true;\n    }\n    getStartInfo() {\n        return {\n            userUUID: this.localStorage.getItem(this.options.local_uuid_key),\n            projectKey: this.projectKey,\n            revID: this.revID,\n            timestamp: timestamp(),\n            trackerVersion: this.version,\n            isSnippet: this.options.__is_snippet,\n        };\n    }\n    getSessionInfo() {\n        return Object.assign(Object.assign({}, this.session.getInfo()), this.getStartInfo());\n    }\n    getSessionToken() {\n        const token = this.sessionStorage.getItem(this.options.session_token_key);\n        if (token !== null) {\n            return token;\n        }\n    }\n    getSessionID() {\n        return this.session.getInfo().sessionID || undefined;\n    }\n    getHost() {\n        return new URL(this.options.ingestPoint).hostname;\n    }\n    getProjectKey() {\n        return this.projectKey;\n    }\n    getBaseHref() {\n        var _a, _b;\n        if (typeof this.options.resourceBaseHref === 'string') {\n            return this.options.resourceBaseHref;\n        }\n        else if (typeof this.options.resourceBaseHref === 'object') {\n            //switch between  types\n        }\n        if (document.baseURI) {\n            return document.baseURI;\n        }\n        // IE only\n        return ((_b = (_a = document.head) === null || _a === void 0 ? void 0 : _a.getElementsByTagName(\"base\")[0]) === null || _b === void 0 ? void 0 : _b.getAttribute(\"href\")) || location.origin + location.pathname;\n    }\n    resolveResourceURL(resourceURL) {\n        const base = new URL(this.getBaseHref());\n        base.pathname += \"/\" + new URL(resourceURL).pathname;\n        base.pathname.replace(/\\/+/g, \"/\");\n        return base.toString();\n    }\n    isServiceURL(url) {\n        return url.startsWith(this.options.ingestPoint);\n    }\n    active() {\n        return this.activityState === ActivityState.Active;\n    }\n    resetNextPageSession(flag) {\n        if (flag) {\n            this.sessionStorage.setItem(this.options.session_reset_key, 't');\n        }\n        else {\n            this.sessionStorage.removeItem(this.options.session_reset_key);\n        }\n    }\n    _start(startOpts) {\n        if (!this.worker) {\n            return Promise.resolve(UnsuccessfulStart(\"No worker found: perhaps, CSP is not set.\"));\n        }\n        if (this.activityState !== ActivityState.NotActive) {\n            return Promise.resolve(UnsuccessfulStart(\"OpenReplay: trying to call `start()` on the instance that has been started already.\"));\n        }\n        this.activityState = ActivityState.Starting;\n        let pageNo = 0;\n        const pageNoStr = this.sessionStorage.getItem(this.options.session_pageno_key);\n        if (pageNoStr != null) {\n            pageNo = parseInt(pageNoStr);\n            pageNo++;\n        }\n        this.sessionStorage.setItem(this.options.session_pageno_key, pageNo.toString());\n        const startInfo = this.getStartInfo();\n        const startWorkerMsg = {\n            type: \"start\",\n            pageNo,\n            ingestPoint: this.options.ingestPoint,\n            timestamp: startInfo.timestamp,\n            connAttemptCount: this.options.connAttemptCount,\n            connAttemptGap: this.options.connAttemptGap,\n        };\n        this.worker.postMessage(startWorkerMsg);\n        this.session.update({\n            // \"updating\" with old metadata in order to trigger session's UpdateCallbacks. \n            // (for the case of internal .start() calls, like on \"restart\" webworker signal or assistent connection in tracker-assist )\n            metadata: startOpts.metadata || this.session.getInfo().metadata,\n            userID: startOpts.userID,\n        });\n        const sReset = this.sessionStorage.getItem(this.options.session_reset_key);\n        this.sessionStorage.removeItem(this.options.session_reset_key);\n        return window.fetch(this.options.ingestPoint + '/v1/web/start', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(Object.assign(Object.assign({}, startInfo), { userID: this.session.getInfo().userID, token: this.sessionStorage.getItem(this.options.session_token_key), deviceMemory,\n                jsHeapSizeLimit, reset: startOpts.forceNew || sReset !== null })),\n        })\n            .then(r => {\n            if (r.status === 200) {\n                return r.json();\n            }\n            else {\n                return r.text().then(text => text === CANCELED\n                    ? Promise.reject(CANCELED)\n                    : Promise.reject(`Server error: ${r.status}. ${text}`));\n            }\n        })\n            .then(r => {\n            if (!this.worker) {\n                return Promise.reject(\"no worker found after start request (this might not happen)\");\n            }\n            const { token, userUUID, sessionID, beaconSizeLimit } = r;\n            if (typeof token !== 'string' ||\n                typeof userUUID !== 'string' ||\n                (typeof beaconSizeLimit !== 'number' && typeof beaconSizeLimit !== 'undefined')) {\n                return Promise.reject(`Incorrect server response: ${JSON.stringify(r)}`);\n            }\n            this.sessionStorage.setItem(this.options.session_token_key, token);\n            this.localStorage.setItem(this.options.local_uuid_key, userUUID);\n            this.session.update({ sessionID }); // TODO: no no-explicit 'any'\n            const startWorkerMsg = {\n                type: \"auth\",\n                token,\n                beaconSizeLimit\n            };\n            this.worker.postMessage(startWorkerMsg);\n            this.activityState = ActivityState.Active;\n            const onStartInfo = { sessionToken: token, userUUID, sessionID };\n            this.startCallbacks.forEach((cb) => cb(onStartInfo)); // TODO: start as early as possible (before receiving the token)\n            this.observer.observe();\n            this.ticker.start();\n            this.notify.log(\"OpenReplay tracking started.\");\n            // get rid of onStart ?\n            if (typeof this.options.onStart === 'function') {\n                this.options.onStart(onStartInfo);\n            }\n            return SuccessfulStart(onStartInfo);\n        })\n            .catch(reason => {\n            this.sessionStorage.removeItem(this.options.session_token_key);\n            this.stop();\n            if (reason === CANCELED) {\n                return UnsuccessfulStart(CANCELED);\n            }\n            this.notify.log(\"OpenReplay was unable to start. \", reason);\n            this._debug(\"session_start\", reason);\n            return UnsuccessfulStart(START_ERROR);\n        });\n    }\n    start(options = {}) {\n        if (!document.hidden) {\n            return this._start(options);\n        }\n        else {\n            return new Promise((resolve) => {\n                const onVisibilityChange = () => {\n                    if (!document.hidden) {\n                        document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n                        resolve(this._start(options));\n                    }\n                };\n                document.addEventListener(\"visibilitychange\", onVisibilityChange);\n            });\n        }\n    }\n    stop(calledFromAPI = false, restarting = false) {\n        if (this.activityState !== ActivityState.NotActive) {\n            try {\n                this.sanitizer.clear();\n                this.observer.disconnect();\n                this.nodes.clear();\n                this.ticker.stop();\n                this.stopCallbacks.forEach((cb) => cb());\n                if (calledFromAPI) {\n                    this.session.reset();\n                }\n                this.notify.log(\"OpenReplay tracking stopped.\");\n                if (this.worker && !restarting) {\n                    this.worker.postMessage(\"stop\");\n                }\n            }\n            finally {\n                this.activityState = ActivityState.NotActive;\n            }\n        }\n    }\n    restart() {\n        this.stop(false, true);\n        this.start({ forceNew: false });\n    }\n}\n","import { hasTag } from \"../app/guards.js\";\nimport { IN_BROWSER } from \"../utils.js\";\nimport { ConsoleLog } from \"../common/messages.js\";\nconst printError = IN_BROWSER && 'InstallTrigger' in window // detect Firefox\n    ? (e) => e.message + '\\n' + e.stack\n    : (e) => e.stack || e.message;\nfunction printString(arg) {\n    if (arg === undefined) {\n        return 'undefined';\n    }\n    if (arg === null) {\n        return 'null';\n    }\n    if (arg instanceof Error) {\n        return printError(arg);\n    }\n    if (Array.isArray(arg)) {\n        return `Array(${arg.length})`;\n    }\n    return String(arg);\n}\nfunction printFloat(arg) {\n    if (typeof arg !== 'number')\n        return 'NaN';\n    return arg.toString();\n}\nfunction printInt(arg) {\n    if (typeof arg !== 'number')\n        return 'NaN';\n    return Math.floor(arg).toString();\n}\nfunction printObject(arg) {\n    if (arg === undefined) {\n        return 'undefined';\n    }\n    if (arg === null) {\n        return 'null';\n    }\n    if (arg instanceof Error) {\n        return printError(arg);\n    }\n    if (Array.isArray(arg)) {\n        const length = arg.length;\n        const values = arg.slice(0, 10).map(printString).join(', ');\n        return `Array(${length})[${values}]`;\n    }\n    if (typeof arg === 'object') {\n        const res = [];\n        let i = 0;\n        for (const k in arg) {\n            if (++i === 10) {\n                break;\n            }\n            const v = arg[k];\n            res.push(k + ': ' + printString(v));\n        }\n        return '{' + res.join(', ') + '}';\n    }\n    return arg.toString();\n}\nfunction printf(args) {\n    if (typeof args[0] === 'string') {\n        args.unshift(args.shift().replace(/%(o|s|f|d|i)/g, (s, t) => {\n            const arg = args.shift();\n            if (arg === undefined)\n                return s;\n            switch (t) {\n                case 'o':\n                    return printObject(arg);\n                case 's':\n                    return printString(arg);\n                case 'f':\n                    return printFloat(arg);\n                case 'd':\n                case 'i':\n                    return printInt(arg);\n                default:\n                    return s;\n            }\n        }));\n    }\n    return args.map(printObject).join(' ');\n}\nconst consoleMethods = ['log', 'info', 'warn', 'error', 'debug', 'assert'];\nexport default function (app, opts) {\n    const options = Object.assign({\n        consoleMethods,\n        consoleThrottling: 30,\n    }, opts);\n    if (!Array.isArray(options.consoleMethods) ||\n        options.consoleMethods.length === 0) {\n        return;\n    }\n    const sendConsoleLog = app.safe((level, args) => app.send(new ConsoleLog(level, printf(args))));\n    let n;\n    const reset = () => {\n        n = 0;\n    };\n    app.attachStartCallback(reset);\n    app.ticker.attach(reset, 33, false);\n    const patchConsole = (console) => options.consoleMethods.forEach((method) => {\n        if (consoleMethods.indexOf(method) === -1) {\n            console.error(`OpenReplay: unsupported console method \"${method}\"`);\n            return;\n        }\n        const fn = console[method];\n        console[method] = function (...args) {\n            fn.apply(this, args);\n            if (n++ > options.consoleThrottling) {\n                return;\n            }\n            sendConsoleLog(method, args);\n        };\n    });\n    patchConsole(window.console);\n    app.nodes.attachNodeCallback(app.safe(node => {\n        if (hasTag(node, \"IFRAME\")) { // TODO: newContextCallback\n            let context = node.contentWindow;\n            if (context) {\n                patchConsole(context.console);\n            }\n            app.attachEventListener(node, \"load\", () => {\n                if (node.contentWindow !== context) {\n                    context = node.contentWindow;\n                    patchConsole(context.console);\n                }\n            });\n        }\n    }));\n}\n","import { JSException } from \"../common/messages.js\";\nimport ErrorStackParser from 'error-stack-parser';\nfunction getDefaultStack(e) {\n    return [{\n            columnNumber: e.colno,\n            lineNumber: e.lineno,\n            fileName: e.filename,\n            functionName: \"\",\n            source: \"\",\n        }];\n}\nexport function getExceptionMessage(error, fallbackStack) {\n    let stack = fallbackStack;\n    try {\n        stack = ErrorStackParser.parse(error);\n    }\n    catch (e) {\n    }\n    return new JSException(error.name, error.message, JSON.stringify(stack));\n}\nexport function getExceptionMessageFromEvent(e) {\n    if (e instanceof ErrorEvent) {\n        if (e.error instanceof Error) {\n            return getExceptionMessage(e.error, getDefaultStack(e));\n        }\n        else {\n            let [name, message] = e.message.split(':');\n            if (!message) {\n                name = 'Error';\n                message = e.message;\n            }\n            return new JSException(name, message, JSON.stringify(getDefaultStack(e)));\n        }\n    }\n    else if ('PromiseRejectionEvent' in window && e instanceof PromiseRejectionEvent) {\n        if (e.reason instanceof Error) {\n            return getExceptionMessage(e.reason, []);\n        }\n        else {\n            let message;\n            try {\n                message = JSON.stringify(e.reason);\n            }\n            catch (_) {\n                message = String(e.reason);\n            }\n            return new JSException('Unhandled Promise Rejection', message, '[]');\n        }\n    }\n    return null;\n}\nexport default function (app, opts) {\n    const options = Object.assign({\n        captureExceptions: true,\n    }, opts);\n    if (options.captureExceptions) {\n        const handler = (e) => {\n            const msg = getExceptionMessageFromEvent(e);\n            if (msg != null) {\n                app.send(msg);\n            }\n        };\n        app.attachEventListener(window, 'unhandledrejection', (e) => handler(e));\n        app.attachEventListener(window, 'error', (e) => handler(e));\n    }\n}\n","import { timestamp, isURL } from \"../utils.js\";\nimport { ResourceTiming, SetNodeAttributeURLBased, SetNodeAttribute } from \"../common/messages.js\";\nimport { hasTag } from \"../app/guards.js\";\nfunction resolveURL(url, location = document.location) {\n    url = url.trim();\n    if (url.startsWith('/')) {\n        return location.origin + url;\n    }\n    else if (url.startsWith('http://') ||\n        url.startsWith('https://') ||\n        url.startsWith('data:') // any other possible value here?\n    ) {\n        return url;\n    }\n    else {\n        return location.origin + location.pathname + url;\n    }\n}\nconst PLACEHOLDER_SRC = \"https://static.openreplay.com/tracker/placeholder.jpeg\";\nexport default function (app) {\n    function sendPlaceholder(id, node) {\n        app.send(new SetNodeAttribute(id, \"src\", PLACEHOLDER_SRC));\n        const { width, height } = node.getBoundingClientRect();\n        if (!node.hasAttribute(\"width\")) {\n            app.send(new SetNodeAttribute(id, \"width\", String(width)));\n        }\n        if (!node.hasAttribute(\"height\")) {\n            app.send(new SetNodeAttribute(id, \"height\", String(height)));\n        }\n    }\n    const sendImgSrc = app.safe(function () {\n        const id = app.nodes.getID(this);\n        if (id === undefined) {\n            return;\n        }\n        const { src, complete, naturalWidth, naturalHeight, srcset } = this;\n        if (!complete) {\n            return;\n        }\n        const resolvedSrc = resolveURL(src || ''); // Src type is null sometimes. - is it true?\n        if (naturalWidth === 0 && naturalHeight === 0) {\n            if (isURL(resolvedSrc)) {\n                app.send(new ResourceTiming(timestamp(), 0, 0, 0, 0, 0, resolvedSrc, 'img'));\n            }\n        }\n        else if (resolvedSrc.length >= 1e5 || app.sanitizer.isMasked(id)) {\n            sendPlaceholder(id, this);\n        }\n        else {\n            app.send(new SetNodeAttribute(id, 'src', resolvedSrc));\n            if (srcset) {\n                const resolvedSrcset = srcset.split(',').map(str => resolveURL(str)).join(',');\n                app.send(new SetNodeAttribute(id, 'srcset', resolvedSrcset));\n            }\n        }\n    });\n    const observer = new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type === \"attributes\") {\n                const target = mutation.target;\n                const id = app.nodes.getID(target);\n                if (id === undefined) {\n                    return;\n                }\n                if (mutation.attributeName === \"src\") {\n                    const src = target.src;\n                    app.send(new SetNodeAttributeURLBased(id, 'src', src, app.getBaseHref()));\n                }\n                if (mutation.attributeName === \"srcset\") {\n                    const srcset = target.srcset;\n                    app.send(new SetNodeAttribute(id, 'srcset', srcset));\n                }\n            }\n        }\n    });\n    app.nodes.attachNodeCallback((node) => {\n        if (!hasTag(node, \"IMG\")) {\n            return;\n        }\n        app.nodes.attachElementListener('error', node, sendImgSrc);\n        app.nodes.attachElementListener('load', node, sendImgSrc);\n        sendImgSrc.call(node);\n        observer.observe(node, { attributes: true, attributeFilter: [\"src\", \"srcset\"] });\n    });\n}\n","import { normSpaces, IN_BROWSER, getLabelAttribute, hasOpenreplayAttribute, } from \"../utils.js\";\nimport { hasTag } from \"../app/guards.js\";\nimport { SetInputTarget, SetInputValue, SetInputChecked } from \"../common/messages.js\";\nconst INPUT_TYPES = ['text', 'password', 'email', 'search', 'number', 'range', 'date'];\nfunction isTextEditable(node) {\n    if (hasTag(node, \"TEXTAREA\")) {\n        return true;\n    }\n    if (!hasTag(node, \"INPUT\")) {\n        return false;\n    }\n    return INPUT_TYPES.includes(node.type);\n}\nfunction isCheckable(node) {\n    if (!hasTag(node, \"INPUT\")) {\n        return false;\n    }\n    const type = node.type;\n    return type === 'checkbox' || type === 'radio';\n}\nconst labelElementFor = IN_BROWSER && 'labels' in HTMLInputElement.prototype\n    ? (node) => {\n        let p = node;\n        while ((p = p.parentNode) !== null) {\n            if (hasTag(p, \"LABEL\")) {\n                return p;\n            }\n        }\n        const labels = node.labels;\n        if (labels !== null && labels.length === 1) {\n            return labels[0];\n        }\n    }\n    : (node) => {\n        let p = node;\n        while ((p = p.parentNode) !== null) {\n            if (hasTag(p, \"LABEL\")) {\n                return p;\n            }\n        }\n        const id = node.id;\n        if (id) {\n            const labels = document.querySelectorAll('label[for=\"' + id + '\"]');\n            if (labels !== null && labels.length === 1) {\n                return labels[0];\n            }\n        }\n    };\nexport function getInputLabel(node) {\n    let label = getLabelAttribute(node);\n    if (label === null) {\n        const labelElement = labelElementFor(node);\n        label = (labelElement && labelElement.innerText)\n            || node.placeholder\n            || node.name\n            || node.id\n            || node.className\n            || node.type;\n    }\n    return normSpaces(label).slice(0, 100);\n}\nexport default function (app, opts) {\n    const options = Object.assign({\n        obscureInputNumbers: true,\n        obscureInputEmails: true,\n        defaultInputMode: 0 /* Plain */,\n        obscureInputDates: false,\n    }, opts);\n    function sendInputTarget(id, node) {\n        const label = getInputLabel(node);\n        if (label !== '') {\n            app.send(new SetInputTarget(id, label));\n        }\n    }\n    function sendInputValue(id, node) {\n        let value = node.value;\n        let inputMode = options.defaultInputMode;\n        if (node.type === 'password' || hasOpenreplayAttribute(node, 'hidden')) {\n            inputMode = 2 /* Hidden */;\n        }\n        else if (hasOpenreplayAttribute(node, 'obscured') ||\n            (inputMode === 0 /* Plain */ &&\n                ((options.obscureInputNumbers && node.type !== 'date' && /\\d\\d\\d\\d/.test(value)) ||\n                    (options.obscureInputDates && node.type === 'date') ||\n                    (options.obscureInputEmails &&\n                        (node.type === 'email' || !!~value.indexOf('@')))))) {\n            inputMode = 1 /* Obscured */;\n        }\n        let mask = 0;\n        switch (inputMode) {\n            case 2 /* Hidden */:\n                mask = -1;\n                value = '';\n                break;\n            case 1 /* Obscured */:\n                mask = value.length;\n                value = '';\n                break;\n        }\n        app.send(new SetInputValue(id, value, mask));\n    }\n    const inputValues = new Map();\n    const checkableValues = new Map();\n    const registeredTargets = new Set();\n    app.attachStopCallback(() => {\n        inputValues.clear();\n        checkableValues.clear();\n        registeredTargets.clear();\n    });\n    app.ticker.attach(() => {\n        inputValues.forEach((value, id) => {\n            const node = app.nodes.getNode(id);\n            if (!node)\n                return;\n            if (!isTextEditable(node)) {\n                inputValues.delete(id);\n                return;\n            }\n            if (value !== node.value) {\n                inputValues.set(id, node.value);\n                if (!registeredTargets.has(id)) {\n                    registeredTargets.add(id);\n                    sendInputTarget(id, node);\n                }\n                sendInputValue(id, node);\n            }\n        });\n        checkableValues.forEach((checked, id) => {\n            const node = app.nodes.getNode(id);\n            if (!node)\n                return;\n            if (!isCheckable(node)) {\n                checkableValues.delete(id);\n                return;\n            }\n            if (checked !== node.checked) {\n                checkableValues.set(id, node.checked);\n                app.send(new SetInputChecked(id, node.checked));\n            }\n        });\n    });\n    app.ticker.attach(Set.prototype.clear, 100, false, registeredTargets);\n    app.nodes.attachNodeCallback(app.safe((node) => {\n        const id = app.nodes.getID(node);\n        if (id === undefined) {\n            return;\n        }\n        // TODO: support multiple select (?): use selectedOptions; Need send target?\n        if (hasTag(node, \"SELECT\")) {\n            sendInputValue(id, node);\n            app.attachEventListener(node, \"change\", () => {\n                sendInputValue(id, node);\n            });\n        }\n        if (isTextEditable(node)) {\n            inputValues.set(id, node.value);\n            sendInputValue(id, node);\n            return;\n        }\n        if (isCheckable(node)) {\n            checkableValues.set(id, node.checked);\n            app.send(new SetInputChecked(id, node.checked));\n            return;\n        }\n    }));\n}\n","import { hasTag, isSVGElement } from \"../app/guards.js\";\nimport { normSpaces, hasOpenreplayAttribute, getLabelAttribute, } from \"../utils.js\";\nimport { MouseMove, MouseClick } from \"../common/messages.js\";\nimport { getInputLabel } from \"./input.js\";\nfunction _getSelector(target) {\n    let el = target;\n    let selector = null;\n    do {\n        if (el.id) {\n            return `#${el.id}` + (selector ? ` > ${selector}` : '');\n        }\n        selector =\n            el.className.split(' ')\n                .map(cn => cn.trim())\n                .filter(cn => cn !== '')\n                .reduce((sel, cn) => `${sel}.${cn}`, el.tagName.toLowerCase()) +\n                (selector ? ` > ${selector}` : '');\n        if (el === document.body) {\n            return selector;\n        }\n        el = el.parentElement;\n    } while (el !== document.body && el !== null);\n    return selector;\n}\nfunction isClickable(element) {\n    const tag = element.tagName.toUpperCase();\n    return tag === 'BUTTON' ||\n        tag === 'A' ||\n        tag === 'LI' ||\n        tag === 'SELECT' ||\n        element.onclick != null ||\n        element.getAttribute('role') === 'button';\n    //|| element.className.includes(\"btn\")\n    // MBTODO: intersect addEventListener\n}\n//TODO: fix (typescript doesn't allow work when the guard is inside the function)\nfunction getTarget(target) {\n    if (target instanceof Element) {\n        return _getTarget(target);\n    }\n    return null;\n}\nfunction _getTarget(target) {\n    let element = target;\n    while (element !== null && element !== document.documentElement) {\n        if (hasOpenreplayAttribute(element, 'masked')) {\n            return null;\n        }\n        element = element.parentElement;\n    }\n    if (isSVGElement(target)) {\n        let owner = target.ownerSVGElement;\n        while (owner !== null) {\n            target = owner;\n            owner = owner.ownerSVGElement;\n        }\n    }\n    element = target;\n    while (element !== null && element !== document.documentElement) {\n        const tag = element.tagName.toUpperCase();\n        if (tag === 'LABEL') {\n            return null;\n        }\n        if (tag === 'INPUT') {\n            return element;\n        }\n        if (isClickable(element) ||\n            getLabelAttribute(element) !== null) {\n            return element;\n        }\n        element = element.parentElement;\n    }\n    return target === document.documentElement ? null : target;\n}\nexport default function (app) {\n    function getTargetLabel(target) {\n        const dl = getLabelAttribute(target);\n        if (dl !== null) {\n            return dl;\n        }\n        if (hasTag(target, \"INPUT\")) {\n            return getInputLabel(target);\n        }\n        if (isClickable(target)) {\n            let label = '';\n            if (target instanceof HTMLElement) {\n                label = app.sanitizer.getInnerTextSecure(target);\n            }\n            label = label || target.id || target.className;\n            return normSpaces(label).slice(0, 100);\n        }\n        return '';\n    }\n    let mousePositionX = -1;\n    let mousePositionY = -1;\n    let mousePositionChanged = false;\n    let mouseTarget = null;\n    let mouseTargetTime = 0;\n    app.attachStopCallback(() => {\n        mousePositionX = -1;\n        mousePositionY = -1;\n        mousePositionChanged = false;\n        mouseTarget = null;\n    });\n    const sendMouseMove = () => {\n        if (mousePositionChanged) {\n            app.send(new MouseMove(mousePositionX, mousePositionY));\n            mousePositionChanged = false;\n        }\n    };\n    const selectorMap = {};\n    function getSelector(id, target) {\n        return selectorMap[id] = selectorMap[id] || _getSelector(target);\n    }\n    app.attachEventListener(document.documentElement, 'mouseover', (e) => {\n        const target = getTarget(e.target);\n        if (target !== mouseTarget) {\n            mouseTarget = target;\n            mouseTargetTime = performance.now();\n        }\n    });\n    app.attachEventListener(document, 'mousemove', (e) => {\n        mousePositionX = e.clientX;\n        mousePositionY = e.clientY;\n        mousePositionChanged = true;\n    }, false);\n    app.attachEventListener(document, 'click', (e) => {\n        const target = getTarget(e.target);\n        if ((!e.clientX && !e.clientY) || target === null) {\n            return;\n        }\n        const id = app.nodes.getID(target);\n        if (id !== undefined) {\n            sendMouseMove();\n            app.send(new MouseClick(id, mouseTarget === target\n                ? Math.round(performance.now() - mouseTargetTime)\n                : 0, getTargetLabel(target), getSelector(id, target)), true);\n        }\n        mouseTarget = null;\n    });\n    app.ticker.attach(sendMouseMove, 10);\n}\n","import { hasTag } from \"../app/guards.js\";\nimport { isURL } from \"../utils.js\";\nimport { ResourceTiming, PageLoadTiming, PageRenderTiming } from \"../common/messages.js\";\nfunction getPaintBlocks(resources) {\n    const paintBlocks = [];\n    const elements = document.getElementsByTagName('*');\n    const styleURL = /url\\((\"[^\"]*\"|'[^']*'|[^)]*)\\)/i;\n    for (let i = 0; i < elements.length; i++) {\n        const element = elements[i];\n        let src = '';\n        if (hasTag(element, \"IMG\")) {\n            src = element.currentSrc || element.src;\n        }\n        if (!src) {\n            const backgroundImage = getComputedStyle(element).getPropertyValue('background-image');\n            if (backgroundImage) {\n                const matches = styleURL.exec(backgroundImage);\n                if (matches !== null) {\n                    src = matches[1];\n                    if (src.startsWith('\"') || src.startsWith(\"'\")) {\n                        src = src.substr(1, src.length - 2);\n                    }\n                }\n            }\n        }\n        if (!src)\n            continue;\n        const time = src.substr(0, 10) === 'data:image' ? 0 : resources[src];\n        if (time === undefined)\n            continue;\n        const rect = element.getBoundingClientRect();\n        const top = Math.max(rect.top, 0);\n        const left = Math.max(rect.left, 0);\n        const bottom = Math.min(rect.bottom, window.innerHeight ||\n            (document.documentElement && document.documentElement.clientHeight) ||\n            0);\n        const right = Math.min(rect.right, window.innerWidth ||\n            (document.documentElement && document.documentElement.clientWidth) ||\n            0);\n        if (bottom <= top || right <= left)\n            continue;\n        const area = (bottom - top) * (right - left);\n        paintBlocks.push({ time, area });\n    }\n    return paintBlocks;\n}\nfunction calculateSpeedIndex(firstContentfulPaint, paintBlocks) {\n    let a = (Math.max((document.documentElement && document.documentElement.clientWidth) || 0, window.innerWidth || 0) *\n        Math.max((document.documentElement && document.documentElement.clientHeight) ||\n            0, window.innerHeight || 0)) /\n        10;\n    let s = a * firstContentfulPaint;\n    for (let i = 0; i < paintBlocks.length; i++) {\n        const { time, area } = paintBlocks[i];\n        a += area;\n        s += area * (time > firstContentfulPaint ? time : firstContentfulPaint);\n    }\n    return a === 0 ? 0 : s / a;\n}\nexport default function (app, opts) {\n    const options = Object.assign({\n        captureResourceTimings: true,\n        capturePageLoadTimings: true,\n        capturePageRenderTimings: true,\n    }, opts);\n    if (!('PerformanceObserver' in window)) {\n        options.captureResourceTimings = false;\n    }\n    if (!options.captureResourceTimings) {\n        return;\n    } // Resources are necessary for all timings\n    let resources = {};\n    function resourceTiming(entry) {\n        if (entry.duration < 0 || !isURL(entry.name) || app.isServiceURL(entry.name))\n            return;\n        if (resources !== null) {\n            resources[entry.name] = entry.startTime + entry.duration;\n        }\n        app.send(new ResourceTiming(entry.startTime + performance.timing.navigationStart, entry.duration, entry.responseStart && entry.startTime\n            ? entry.responseStart - entry.startTime\n            : 0, entry.transferSize > entry.encodedBodySize\n            ? entry.transferSize - entry.encodedBodySize\n            : 0, entry.encodedBodySize || 0, entry.decodedBodySize || 0, entry.name, entry.initiatorType));\n    }\n    const observer = new PerformanceObserver((list) => list.getEntries().forEach(resourceTiming));\n    let prevSessionID;\n    app.attachStartCallback(function ({ sessionID }) {\n        if (sessionID !== prevSessionID) { // Send past page resources on a newly started session\n            performance.getEntriesByType('resource').forEach(resourceTiming);\n            prevSessionID = sessionID;\n        }\n        observer.observe({ entryTypes: ['resource'] });\n    });\n    app.attachStopCallback(function () {\n        observer.disconnect();\n    });\n    let firstPaint = 0, firstContentfulPaint = 0;\n    if (options.capturePageLoadTimings) {\n        let pageLoadTimingSent = false;\n        app.ticker.attach(() => {\n            if (pageLoadTimingSent) {\n                return;\n            }\n            if (firstPaint === 0 || firstContentfulPaint === 0) {\n                performance\n                    .getEntriesByType('paint')\n                    .forEach((entry) => {\n                    const { name, startTime } = entry;\n                    switch (name) {\n                        case 'first-paint':\n                            firstPaint = startTime;\n                            break;\n                        case 'first-contentful-paint':\n                            firstContentfulPaint = startTime;\n                            break;\n                    }\n                });\n            }\n            if (performance.timing.loadEventEnd || performance.now() > 30000) {\n                pageLoadTimingSent = true;\n                const { navigationStart, requestStart, responseStart, responseEnd, domContentLoadedEventStart, domContentLoadedEventEnd, loadEventStart, loadEventEnd, } = performance.timing;\n                app.send(new PageLoadTiming(requestStart - navigationStart || 0, responseStart - navigationStart || 0, responseEnd - navigationStart || 0, domContentLoadedEventStart - navigationStart || 0, domContentLoadedEventEnd - navigationStart || 0, loadEventStart - navigationStart || 0, loadEventEnd - navigationStart || 0, firstPaint, firstContentfulPaint));\n            }\n        }, 30);\n    }\n    if (options.capturePageRenderTimings) {\n        let visuallyComplete = 0, interactiveWindowStartTime = 0, interactiveWindowTickTime = 0, paintBlocks = null;\n        let pageRenderTimingSent = false;\n        app.ticker.attach(() => {\n            if (pageRenderTimingSent) {\n                return;\n            }\n            const time = performance.now();\n            if (resources !== null) {\n                visuallyComplete = Math.max.apply(null, Object.keys(resources).map((k) => resources[k]));\n                if (time - visuallyComplete > 1000) {\n                    paintBlocks = getPaintBlocks(resources);\n                    resources = null;\n                }\n            }\n            if (interactiveWindowTickTime !== null) {\n                if (time - interactiveWindowTickTime > 50) {\n                    interactiveWindowStartTime = time;\n                }\n                interactiveWindowTickTime =\n                    time - interactiveWindowStartTime > 5000 ? null : time;\n            }\n            if ((paintBlocks !== null && interactiveWindowTickTime === null) ||\n                time > 30000) {\n                pageRenderTimingSent = true;\n                resources = null;\n                const speedIndex = paintBlocks === null\n                    ? 0\n                    : calculateSpeedIndex(firstContentfulPaint || firstPaint, paintBlocks);\n                const timeToInteractive = interactiveWindowTickTime === null\n                    ? Math.max(interactiveWindowStartTime, firstContentfulPaint, performance.timing.domContentLoadedEventEnd -\n                        performance.timing.navigationStart || 0)\n                    : 0;\n                app.send(new PageRenderTiming(speedIndex, firstContentfulPaint > visuallyComplete\n                    ? firstContentfulPaint\n                    : visuallyComplete, timeToInteractive));\n            }\n        });\n    }\n}\n","import App, { DEFAULT_INGEST_POINT } from \"./app/index.js\";\nexport { default as App } from './app/index.js';\nimport { UserAnonymousID, RawCustomEvent, CustomIssue } from \"./common/messages.js\";\nimport * as _Messages from \"./common/messages.js\";\nexport const Messages = _Messages;\nimport Connection from \"./modules/connection.js\";\nimport Console from \"./modules/console.js\";\nimport Exception, { getExceptionMessageFromEvent, getExceptionMessage } from \"./modules/exception.js\";\nimport Img from \"./modules/img.js\";\nimport Input from \"./modules/input.js\";\nimport Mouse from \"./modules/mouse.js\";\nimport Timing from \"./modules/timing.js\";\nimport Performance from \"./modules/performance.js\";\nimport Scroll from \"./modules/scroll.js\";\nimport Viewport from \"./modules/viewport.js\";\nimport CSSRules from \"./modules/cssrules.js\";\nimport { IN_BROWSER, deprecationWarn, DOCS_HOST } from \"./utils.js\";\nconst DOCS_SETUP = '/installation/setup-or';\nfunction processOptions(obj) {\n    if (obj == null) {\n        console.error(`OpenReplay: invalid options argument type. Please, check documentation on ${DOCS_HOST}${DOCS_SETUP}`);\n        return false;\n    }\n    if (typeof obj.projectKey !== 'string') {\n        if (typeof obj.projectKey !== 'number') {\n            if (typeof obj.projectID !== 'number') { // Back compatability\n                console.error(`OpenReplay: projectKey is missing or wrong type (string is expected). Please, check ${DOCS_HOST}${DOCS_SETUP} for more information.`);\n                return false;\n            }\n            else {\n                obj.projectKey = obj.projectID.toString();\n                deprecationWarn(\"`projectID` option\", \"`projectKey` option\", DOCS_SETUP);\n            }\n        }\n        else {\n            console.warn(\"OpenReplay: projectKey is expected to have a string type.\");\n            obj.projectKey = obj.projectKey.toString();\n        }\n    }\n    if (typeof obj.sessionToken !== 'string' && obj.sessionToken != null) {\n        console.warn(`OpenReplay: invalid options argument type. Please, check documentation on ${DOCS_HOST}${DOCS_SETUP}`);\n    }\n    return true;\n}\nexport default class API {\n    constructor(options) {\n        this.options = options;\n        this.app = null;\n        this.handleError = (e) => {\n            if (this.app === null) {\n                return;\n            }\n            if (e instanceof Error) {\n                this.app.send(getExceptionMessage(e, []));\n            }\n            else if (e instanceof ErrorEvent ||\n                ('PromiseRejectionEvent' in window && e instanceof PromiseRejectionEvent)) {\n                const msg = getExceptionMessageFromEvent(e);\n                if (msg != null) {\n                    this.app.send(msg);\n                }\n            }\n        };\n        if (!IN_BROWSER || !processOptions(options)) {\n            return;\n        }\n        if (window.__OPENREPLAY__) {\n            console.error(\"OpenReplay: one tracker instance has been initialised already\");\n            return;\n        }\n        if (!options.__DISABLE_SECURE_MODE && location.protocol !== 'https:') {\n            console.error(\"OpenReplay: Your website must be publicly accessible and running on SSL in order for OpenReplay to properly capture and replay the user session. You can disable this check by setting `__DISABLE_SECURE_MODE` option to `true` if you are testing in localhost. Keep in mind, that asset files on a local machine are not available to the outside world. This might affect tracking if you use css files.\");\n            return;\n        }\n        const doNotTrack = options.respectDoNotTrack &&\n            (navigator.doNotTrack == '1'\n                // @ts-ignore\n                || window.doNotTrack == '1');\n        const app = this.app = doNotTrack ||\n            !('Map' in window) ||\n            !('Set' in window) ||\n            !('MutationObserver' in window) ||\n            !('performance' in window) ||\n            !('timing' in performance) ||\n            !('startsWith' in String.prototype) ||\n            !('Blob' in window) ||\n            !('Worker' in window)\n            ? null\n            : new App(options.projectKey, options.sessionToken, options);\n        if (app !== null) {\n            Viewport(app);\n            CSSRules(app);\n            Connection(app);\n            Console(app, options);\n            Exception(app, options);\n            Img(app);\n            Input(app, options);\n            Mouse(app);\n            Timing(app, options);\n            Performance(app, options);\n            Scroll(app);\n            window.__OPENREPLAY__ = this;\n            if (options.autoResetOnWindowOpen) {\n                const wOpen = window.open;\n                app.attachStartCallback(() => {\n                    // @ts-ignore ?\n                    window.open = function (...args) {\n                        app.resetNextPageSession(true);\n                        wOpen.call(window, ...args);\n                        app.resetNextPageSession(false);\n                    };\n                });\n                app.attachStopCallback(() => {\n                    window.open = wOpen;\n                });\n            }\n        }\n        else {\n            console.log(\"OpenReplay: browser doesn't support API required for tracking or doNotTrack is set to 1.\");\n            const req = new XMLHttpRequest();\n            const orig = options.ingestPoint || DEFAULT_INGEST_POINT;\n            req.open(\"POST\", orig + \"/v1/web/not-started\");\n            // no-cors issue only with text/plain or not-set Content-Type\n            // req.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n            req.send(JSON.stringify({\n                trackerVersion: '3.5.16',\n                projectKey: options.projectKey,\n                doNotTrack,\n                // TODO: add precise reason (an exact API missing)\n            }));\n        }\n    }\n    use(fn) {\n        return fn(this.app, this.options);\n    }\n    isActive() {\n        if (this.app === null) {\n            return false;\n        }\n        return this.app.active();\n    }\n    start(startOpts) {\n        if (!IN_BROWSER) {\n            console.error(`OpenReplay: you are trying to start Tracker on a node.js environment. If you want to use OpenReplay with SSR, please, use componentDidMount or useEffect API for placing the \\`tracker.start()\\` line. Check documentation on ${DOCS_HOST}${DOCS_SETUP}`);\n            return Promise.reject(\"Trying to start not in browser.\");\n        }\n        if (this.app === null) {\n            return Promise.reject(\"Browser doesn't support required api, or doNotTrack is active.\");\n        }\n        // TODO: check argument type\n        return this.app.start(startOpts);\n    }\n    stop() {\n        if (this.app === null) {\n            return;\n        }\n        this.app.stop(true);\n    }\n    getSessionToken() {\n        if (this.app === null) {\n            return null;\n        }\n        return this.app.getSessionToken();\n    }\n    getSessionID() {\n        if (this.app === null) {\n            return null;\n        }\n        return this.app.getSessionID();\n    }\n    sessionID() {\n        deprecationWarn(\"'sessionID' method\", \"'getSessionID' method\", \"/\");\n        return this.getSessionID();\n    }\n    setUserID(id) {\n        if (typeof id === 'string' && this.app !== null) {\n            this.app.session.setUserID(id);\n        }\n    }\n    userID(id) {\n        deprecationWarn(\"'userID' method\", \"'setUserID' method\", \"/\");\n        this.setUserID(id);\n    }\n    setUserAnonymousID(id) {\n        if (typeof id === 'string' && this.app !== null) {\n            this.app.send(new UserAnonymousID(id));\n        }\n    }\n    userAnonymousID(id) {\n        deprecationWarn(\"'userAnonymousID' method\", \"'setUserAnonymousID' method\", \"/\");\n        this.setUserAnonymousID(id);\n    }\n    setMetadata(key, value) {\n        if (typeof key === 'string' &&\n            typeof value === 'string' &&\n            this.app !== null) {\n            this.app.session.setMetadata(key, value);\n        }\n    }\n    metadata(key, value) {\n        deprecationWarn(\"'metadata' method\", \"'setMetadata' method\", \"/\");\n        this.setMetadata(key, value);\n    }\n    event(key, payload, issue = false) {\n        if (typeof key === 'string' && this.app !== null) {\n            if (issue) {\n                return this.issue(key, payload);\n            }\n            else {\n                try {\n                    payload = JSON.stringify(payload);\n                }\n                catch (e) {\n                    return;\n                }\n                this.app.send(new RawCustomEvent(key, payload));\n            }\n        }\n    }\n    issue(key, payload) {\n        if (typeof key === 'string' && this.app !== null) {\n            try {\n                payload = JSON.stringify(payload);\n            }\n            catch (e) {\n                return;\n            }\n            this.app.send(new CustomIssue(key, payload));\n        }\n    }\n}\n","import { SetPageLocation, SetViewportSize, SetPageVisibility, } from \"../common/messages.js\";\nexport default function (app) {\n    let url, width, height;\n    let navigationStart = performance.timing.navigationStart;\n    const sendSetPageLocation = app.safe(() => {\n        const { URL } = document;\n        if (URL !== url) {\n            url = URL;\n            app.send(new SetPageLocation(url, document.referrer, navigationStart));\n            navigationStart = 0;\n        }\n    });\n    const sendSetViewportSize = app.safe(() => {\n        const { innerWidth, innerHeight } = window;\n        if (innerWidth !== width || innerHeight !== height) {\n            width = innerWidth;\n            height = innerHeight;\n            app.send(new SetViewportSize(width, height));\n        }\n    });\n    const sendSetPageVisibility = document.hidden === undefined\n        ? Function.prototype\n        : app.safe(() => app.send(new SetPageVisibility(document.hidden)));\n    app.attachStartCallback(() => {\n        url = '';\n        width = height = -1;\n        sendSetPageLocation();\n        sendSetViewportSize();\n        sendSetPageVisibility();\n    });\n    if (document.hidden !== undefined) {\n        app.attachEventListener(document, 'visibilitychange', sendSetPageVisibility, false, false);\n    }\n    app.ticker.attach(sendSetPageLocation, 1, false);\n    app.ticker.attach(sendSetViewportSize, 5, false);\n}\n","import { CSSInsertRuleURLBased, CSSDeleteRule, TechnicalInfo } from \"../common/messages.js\";\nimport { hasTag } from \"../app/guards.js\";\nexport default function (app) {\n    if (app === null) {\n        return;\n    }\n    if (!window.CSSStyleSheet) {\n        app.send(new TechnicalInfo(\"no_stylesheet_prototype_in_window\", \"\"));\n        return;\n    }\n    const processOperation = app.safe((stylesheet, index, rule) => {\n        const sendMessage = typeof rule === 'string'\n            ? (nodeID) => app.send(new CSSInsertRuleURLBased(nodeID, rule, index, app.getBaseHref()))\n            : (nodeID) => app.send(new CSSDeleteRule(nodeID, index));\n        // TODO: Extend messages to maintain nested rules (CSSGroupingRule prototype, as well as CSSKeyframesRule)\n        if (stylesheet.ownerNode == null) {\n            throw new Error(\"Owner Node not found\");\n        }\n        const nodeID = app.nodes.getID(stylesheet.ownerNode);\n        if (nodeID !== undefined) {\n            sendMessage(nodeID);\n        } // else error?\n    });\n    const { insertRule, deleteRule } = CSSStyleSheet.prototype;\n    CSSStyleSheet.prototype.insertRule = function (rule, index = 0) {\n        processOperation(this, index, rule);\n        return insertRule.call(this, rule, index);\n    };\n    CSSStyleSheet.prototype.deleteRule = function (index) {\n        processOperation(this, index);\n        return deleteRule.call(this, index);\n    };\n    app.nodes.attachNodeCallback((node) => {\n        if (!hasTag(node, \"STYLE\") || !node.sheet) {\n            return;\n        }\n        if (node.textContent !== null && node.textContent.trim().length > 0) {\n            return; // Only fully virtual sheets maintained so far\n        }\n        const rules = node.sheet.cssRules;\n        for (let i = 0; i < rules.length; i++) {\n            processOperation(node.sheet, i, rules[i].cssText);\n        }\n    });\n}\n","import { ConnectionInformation } from \"../common/messages.js\";\nexport default function (app) {\n    const connection = navigator.connection ||\n        navigator.mozConnection ||\n        navigator.webkitConnection;\n    if (connection === undefined) {\n        return;\n    }\n    const sendConnectionInformation = () => app.send(new ConnectionInformation(Math.round(connection.downlink * 1000), connection.type || 'unknown'));\n    sendConnectionInformation();\n    connection.addEventListener('change', sendConnectionInformation);\n}\n","import { SetViewportScroll, SetNodeScroll } from \"../common/messages.js\";\nimport { isElementNode } from \"../app/guards.js\";\nexport default function (app) {\n    let documentScroll = false;\n    const nodeScroll = new Map();\n    const sendSetViewportScroll = app.safe(() => app.send(new SetViewportScroll(window.pageXOffset ||\n        (document.documentElement && document.documentElement.scrollLeft) ||\n        (document.body && document.body.scrollLeft) ||\n        0, window.pageYOffset ||\n        (document.documentElement && document.documentElement.scrollTop) ||\n        (document.body && document.body.scrollTop) ||\n        0)));\n    const sendSetNodeScroll = app.safe((s, node) => {\n        const id = app.nodes.getID(node);\n        if (id !== undefined) {\n            app.send(new SetNodeScroll(id, s[0], s[1]));\n        }\n    });\n    app.attachStartCallback(sendSetViewportScroll);\n    app.attachStopCallback(() => {\n        documentScroll = false;\n        nodeScroll.clear();\n    });\n    app.nodes.attachNodeCallback((node, isStart) => {\n        if (isStart && isElementNode(node) && node.scrollLeft + node.scrollTop > 0) {\n            nodeScroll.set(node, [node.scrollLeft, node.scrollTop]);\n        }\n    });\n    app.attachEventListener(window, 'scroll', (e) => {\n        const target = e.target;\n        if (target === document) {\n            documentScroll = true;\n            return;\n        }\n        if (target instanceof Element) {\n            nodeScroll.set(target, [target.scrollLeft, target.scrollTop]);\n        }\n    });\n    app.ticker.attach(() => {\n        if (documentScroll) {\n            sendSetViewportScroll();\n            documentScroll = false;\n        }\n        nodeScroll.forEach(sendSetNodeScroll);\n        nodeScroll.clear();\n    }, 5, false);\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Libraries\nimport Tracker, { Options } from \"@openreplay/tracker\";\nimport { v4 as uuidV4 } from \"uuid\";\nexport interface IOpenReplayConfig extends Options {\n  projectKey: string;\n}\n\nexport interface IPayload {\n  name: string;\n  data: any;\n}\n\nexport type ReportError = Error | PromiseRejectedResult | ErrorEvent;\n\nexport interface IOpenReplayAction {\n  type: string;\n  payload?: IPayload | ReportError | string;\n}\n\nconst userId = uuidV4();\n\nconst newTracker = (config: IOpenReplayConfig) => {\n  const tracker = new Tracker(config);\n  tracker.setUserID(userId);\n  import(\"@openreplay/tracker-assist\").then(({ default: trackerAssist }) => {\n    tracker.use(\n      trackerAssist({\n        callConfirm: {\n          text: \"Our support team wants to help you\",\n          confirmBtn: {\n            innerHTML: \"👍 Accept\",\n          },\n          declineBtn: {\n            innerHTML: \"❌ Not at this moment\",\n          },\n        },\n        controlConfirm: {\n          text: \"Would you mind letting us control your application?\",\n          confirmBtn: {\n            innerHTML: \"👍 Accept\",\n          },\n          declineBtn: {\n            innerHTML: \"❌ Not at this moment\",\n          },\n        },\n      })\n    );\n  });\n\n  return tracker;\n};\n\nconst openReplayReducer = (state: any, action: IOpenReplayAction) => {\n  switch (action.type) {\n    case \"init\": {\n      if (!state.tracker) {\n        return { ...state, tracker: newTracker(state.config) };\n      }\n      return state;\n    }\n    case \"start\": {\n      state.tracker.start();\n      return state;\n    }\n    case \"logEvent\": {\n      const { name, data } = action.payload as IPayload;\n      state.tracker?.event(name, data);\n      return state;\n    }\n    case \"logIssue\": {\n      const { name, data } = action.payload as IPayload;\n      state.tracker?.issue(name, data);\n      return state;\n    }\n    case \"reportError\": {\n      const error = action.payload as ReportError;\n      state.tracker?.handleError(error);\n      return state;\n    }\n  }\n};\n\nexport default openReplayReducer;\n","// Libraries\nimport { ReactNode } from \"react\";\nimport { useReducer } from \"react\";\n\n// OpenReplay\nimport TrackerContext from \"./context\";\nimport openReplayReducer, {\n  IOpenReplayConfig,\n  IPayload,\n  ReportError,\n} from \"./reducer\";\n\ninterface TrackerProviderProps {\n  children: ReactNode;\n  config: Partial<IOpenReplayConfig>;\n}\n\nconst TrackerProvider = ({ children, config = {} }: TrackerProviderProps) => {\n  const [, dispatch] = useReducer(openReplayReducer, {\n    tracker: null,\n    config,\n  });\n  const value = {\n    startTracking: () => dispatch({ type: \"start\" }),\n    initTracker: () => dispatch({ type: \"init\" }),\n    logEvent: (evnt: IPayload) => dispatch({ type: \"logEvent\", payload: evnt }),\n    logIssue: (evnt: IPayload) => dispatch({ type: \"logIssue\", payload: evnt }),\n    reportError: (error: ReportError) =>\n      dispatch({ type: \"reportError\", payload: error }),\n  };\n\n  return (\n    <TrackerContext.Provider value={value}>{children}</TrackerContext.Provider>\n  );\n};\n\nexport default TrackerProvider;\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var objectProps = ['evalOrigin'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import defineProperty from './_define_property.mjs';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}"],"names":["StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parse","error","stacktrace","this","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","Error","extractLocation","urlLike","indexOf","parts","exec","replace","undefined","split","filter","line","map","sanitizedLine","location","locationParts","functionName","fileName","lineNumber","columnNumber","source","functionNameRegex","matches","e","message","length","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","result","i","len","push","argsRaw","tokens","pop","functionCall","shift","args","window","__NEXT_P","Component","pageProps","TrackerProvider","config","projectKey","createContext","startTracking","initTracker","logEvent","logIssue","reportError","_objectSpreadProps","target","Object","getOwnPropertyDescriptors","defineProperties","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","ownKeys","forEach","key","defineProperty","bindNew","Class","_Class","prototype","classes","Map","BatchMeta","constructor","pageNo","firstIndex","timestamp","_id","encode","writer","uint","int","set","Timestamp","SetPageLocation","url","referrer","navigationStart","string","SetViewportSize","width","height","SetViewportScroll","x","y","CreateDocument","CreateElementNode","id","parentID","index","tag","svg","boolean","CreateTextNode","MoveNode","RemoveNode","SetNodeAttribute","name","value","RemoveNodeAttribute","SetNodeData","data","SetNodeScroll","SetInputTarget","label","SetInputValue","mask","SetInputChecked","checked","MouseMove","ConsoleLog","level","PageLoadTiming","requestStart","responseStart","responseEnd","domContentLoadedEventStart","domContentLoadedEventEnd","loadEventStart","loadEventEnd","firstPaint","firstContentfulPaint","PageRenderTiming","speedIndex","visuallyComplete","timeToInteractive","JSException","payload","RawCustomEvent","UserID","UserAnonymousID","Metadata","CSSInsertRule","rule","CSSDeleteRule","Fetch","method","request","response","status","duration","Profiler","OTable","StateAction","type","Redux","action","state","Vuex","mutation","MobX","NgRx","GraphQL","operationKind","operationName","variables","PerformanceTrack","frames","ticks","totalJSHeapSize","usedJSHeapSize","ResourceTiming","ttfb","headerSize","encodedBodySize","decodedBodySize","initiator","ConnectionInformation","downlink","SetPageVisibility","hidden","LongTask","context","containerType","containerSrc","containerId","containerName","SetNodeAttributeURLBased","baseURL","SetCSSDataURLBased","TechnicalInfo","CustomIssue","PageClose","CSSInsertRuleURLBased","MouseClick","hesitationTime","selector","CreateIFrameDocument","frameID","Math","round","performance","now","timing","stars","String","str","repeat","normSpaces","trim","isURL","s","startsWith","IN_BROWSER","DOCS_HOST","warnedFeatures","deprecationWarn","nameOfFeature","useInstead","docsPath","console","warn","getLabelAttribute","getAttribute","hasOpenreplayAttribute","newName","hasAttribute","oldName","Nodes","node_id","nodes","nodeCallbacks","elementListeners","attachNodeCallback","nodeCallback","attachElementListener","node","elementListener","getID","addEventListener","listeners","get","registerNode","isNew","unregisterNode","delete","listener","removeEventListener","cleanTree","document","contains","callNodeCallbacks","isStart","cb","getNode","clear","isSVGElement","namespaceURI","isElementNode","nodeType","Node","ELEMENT_NODE","isTextNode","TEXT_NODE","isRootNode","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","hasTag","el","tagName","nodeName","isIgnored","toUpperCase","rel","as","includes","isObservable","RecentsType","Observer","app","isTopContext","commited","recents","indexes","attributesMap","textSet","Set","observer","MutationObserver","safe","mutations","removedNodes","bindTree","addedNodes","has","Changed","add","attributeName","attr","commitNodes","sendNodeAttribute","substr","send","getBaseHref","sendNodeData","parentElement","sanitizer","sanitize","bindNode","New","Removed","unbindChildNode","RemovedChild","isChildUnbinding","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","SHOW_TEXT","acceptNode","FILTER_REJECT","FILTER_ACCEPT","nextNode","currentNode","unbindNode","_commitNode","parent","parentNode","commitNode","handleNode","isMaskedContainer","sibling","previousSibling","siblingID","recentsType","clientWidth","clientHeight","cloneNode","style","attributes","cmt","observeRoot","beforeCommit","nodeToBind","observe","childList","characterData","subtree","attributeOldValue","characterDataOldValue","disconnect","IFrameObserver","iframe","doc","contentDocument","hostID","docID","log","ShadowRootObserver","shRoot","shadowRoot","rootID","attachShadowNativeFn","Element","attachShadow","ShadowRoot","TopObserver","options","super","iframeObservers","shadowRootObservers","assign","captureIFrames","handleIframe","handleShadowRoot","handle","contentWindow","host","shadow","arguments","documentElement","o","Sanitizer","masked","maskedContainers","obscureTextEmails","obscureTextNumbers","f","isMasked","getInnerTextSecure","innerText","Ticker","timer","callbacks","attach","callback","n","useSafe","thisArg","bind","unshift","t","wrap","start","setInterval","stop","clearInterval","LogLevel","IsCustomLevel","l","Logger","Session","metadata","userID","sessionID","attachUpdateCallback","handleUpdate","newInfo","update","entries","k","v","setMetadata","setUserID","getInfo","reset","perf","memory","deviceMemory","navigator","jsHeapSizeLimit","CANCELED","UnsuccessfulStart","reason","success","ActivityState","DEFAULT_INGEST_POINT","App","sessionToken","messages","startCallbacks","stopCallbacks","commitCallbacks","activityState","NotActive","version","revID","session_token_key","session_pageno_key","session_reset_key","local_uuid_key","ingestPoint","resourceBaseHref","verbose","__is_snippet","__debug_report_edp","localStorage","sessionStorage","ticker","commit","debug","__debug__","notify","session","setItem","worker","Worker","URL","createObjectURL","Blob","onerror","_debug","onmessage","forceNew","alertWorker","postMessage","attachEventListener","body","fetch","headers","JSON","stringify","urgent","Active","fn","attachCommitCallback","attachStartCallback","attachStopCallback","useCapture","checkRequiredVersion","reqVer","ver","Number","isNaN","getStartInfo","userUUID","getItem","trackerVersion","isSnippet","getSessionInfo","getSessionToken","token","getSessionID","getHost","hostname","getProjectKey","_a","_b","baseURI","head","getElementsByTagName","origin","pathname","resolveResourceURL","resourceURL","base","toString","isServiceURL","active","resetNextPageSession","flag","removeItem","_start","startOpts","Promise","resolve","Starting","pageNoStr","parseInt","startInfo","startWorkerMsg","connAttemptCount","connAttemptGap","sReset","then","r","json","text","reject","beaconSizeLimit","onStartInfo","onStart","catch","onVisibilityChange","calledFromAPI","restarting","restart","printError","printString","arg","Array","isArray","printObject","slice","join","res","printf","printFloat","floor","printInt","consoleMethods","getDefaultStack","colno","lineno","filename","getExceptionMessage","fallbackStack","getExceptionMessageFromEvent","ErrorEvent","PromiseRejectionEvent","_","resolveURL","sendImgSrc","src","complete","naturalWidth","naturalHeight","srcset","resolvedSrc","getBoundingClientRect","sendPlaceholder","resolvedSrcset","call","attributeFilter","INPUT_TYPES","isTextEditable","isCheckable","labelElementFor","HTMLInputElement","p","labels","querySelectorAll","getInputLabel","labelElement","placeholder","className","opts","obscureInputNumbers","obscureInputEmails","defaultInputMode","obscureInputDates","sendInputValue","inputMode","test","inputValues","checkableValues","registeredTargets","sendInputTarget","isClickable","element","onclick","getTarget","owner","ownerSVGElement","_getTarget","mousePositionX","mousePositionY","mousePositionChanged","mouseTarget","mouseTargetTime","sendMouseMove","selectorMap","getSelector","cn","reduce","sel","toLowerCase","_getSelector","clientX","clientY","dl","HTMLElement","getTargetLabel","captureResourceTimings","capturePageLoadTimings","capturePageRenderTimings","resources","resourceTiming","entry","startTime","transferSize","initiatorType","PerformanceObserver","list","getEntries","prevSessionID","getEntriesByType","entryTypes","pageLoadTimingSent","interactiveWindowStartTime","interactiveWindowTickTime","paintBlocks","pageRenderTimingSent","time","max","elements","styleURL","currentSrc","backgroundImage","getComputedStyle","getPropertyValue","rect","top","left","bottom","min","innerHeight","right","innerWidth","area","getPaintBlocks","a","calculateSpeedIndex","DOCS_SETUP","API","handleError","msg","obj","projectID","processOptions","__OPENREPLAY__","__DISABLE_SECURE_MODE","protocol","doNotTrack","respectDoNotTrack","sendSetPageLocation","sendSetViewportSize","sendSetPageVisibility","Function","CSSStyleSheet","processOperation","stylesheet","sendMessage","nodeID","ownerNode","insertRule","deleteRule","sheet","textContent","rules","cssRules","cssText","connection","mozConnection","webkitConnection","sendConnectionInformation","consoleThrottling","sendConsoleLog","patchConsole","captureExceptions","handler","capturePerformance","nextFrame","requestAnimationFrame","sendPerformanceTrack","documentScroll","nodeScroll","sendSetViewportScroll","pageXOffset","scrollLeft","pageYOffset","scrollTop","sendSetNodeScroll","autoResetOnWindowOpen","wOpen","open","req","XMLHttpRequest","orig","use","isActive","setUserAnonymousID","userAnonymousID","event","issue","getRandomValues","rnds8","Uint8Array","rng","crypto","msCrypto","uuid","byteToHex","arr","offset","TypeError","buf","rnds","random","userId","uuidV4","newTracker","tracker","Tracker","default","trackerAssist","callConfirm","confirmBtn","innerHTML","declineBtn","controlConfirm","children","dispatch","useReducer","openReplayReducer","evnt","TrackerContext","_isNumber","parseFloat","isFinite","_capitalize","charAt","substring","_getter","booleanProps","numericProps","stringProps","arrayProps","objectProps","props","concat","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","argsStartIndex","argsEndIndex","lastIndexOf","locationString","Boolean","j","_defineProperty","configurable","writable","_objectSpread"],"sourceRoot":""}