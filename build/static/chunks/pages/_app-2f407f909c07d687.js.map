{"version":3,"file":"static/chunks/pages/_app-2f407f909c07d687.js","mappings":"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","sources":["webpack://_N_E/./node_modules/.pnpm/error-stack-parser@2.1.4/node_modules/error-stack-parser/error-stack-parser.js","webpack://_N_E/?05bf","webpack://_N_E/./pages/_app.tsx","webpack://_N_E/./vendors/openReplay/context.ts","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/common/messages.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/utils.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/nodes.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/guards.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/observer/observer.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/observer/iframe_observer.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/observer/shadow_root_observer.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/observer/top_observer.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/sanitizer.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/ticker.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/logger.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/session.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/performance.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/app/index.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/console.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/exception.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/img.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/input.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/mouse.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/timing.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/index.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/viewport.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/cssrules.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/connection.js","webpack://_N_E/./node_modules/.pnpm/@openreplay+tracker@3.5.16/node_modules/@openreplay/tracker/lib/modules/scroll.js","webpack://_N_E/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/rng.js","webpack://_N_E/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/regex.js","webpack://_N_E/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/stringify.js","webpack://_N_E/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/validate.js","webpack://_N_E/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js","webpack://_N_E/./vendors/openReplay/reducer.ts","webpack://_N_E/./vendors/openReplay/provider.tsx","webpack://_N_E/./node_modules/.pnpm/stackframe@1.3.4/node_modules/stackframe/stackframe.js","webpack://_N_E/./node_modules/.pnpm/@swc+helpers@0.4.3/node_modules/@swc/helpers/src/_define_property.mjs","webpack://_N_E/./node_modules/.pnpm/@swc+helpers@0.4.3/node_modules/@swc/helpers/src/_object_spread.mjs","webpack://_N_E/./node_modules/.pnpm/@swc+helpers@0.4.3/node_modules/@swc/helpers/src/_object_spread_props.mjs"],"sourcesContent":["(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').replace(/^.*?\\s+/, '');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\(.+\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                // if a location was matched, pass it to extractLocation() otherwise pass all sanitizedLine\n                // because this line doesn't have function name\n                var locationParts = this.extractLocation(location ? location[1] : sanitizedLine);\n                var functionName = location && sanitizedLine || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/_app\",\n      function () {\n        return require(\"private-next-pages/_app.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/_app\"])\n      });\n    }\n  ","import \"../styles/globals.css\";\nimport type { AppProps } from \"next/app\";\n\nimport { TrackerProvider } from \"../vendors\";\nimport React from \"react\";\n\nfunction MyApp({ Component, pageProps }: AppProps) {\n  return (\n    <TrackerProvider\n      config={{\n        // Add projectKey here.\n        projectKey: \"IPQJ2ytBAXqwnwxtPmgh\",\n      }}\n    >\n      <Component {...pageProps} />\n    </TrackerProvider>\n  );\n}\n\nexport default MyApp;\n","// Libraries\nimport { App } from \"@openreplay/tracker\";\nimport { createContext } from \"react\";\nimport { IPayload, ReportError } from \"./reducer\";\n\ninterface ITrackerContext {\n  startTracking: () => void;\n  initTracker: () => void;\n  logEvent: (evnt: IPayload) => void;\n  logIssue: (evnt: IPayload) => void;\n  reportError: (error: ReportError) => void;\n}\n\nconst TrackerContext = createContext<ITrackerContext>({\n  startTracking: () => {},\n  initTracker: () => {},\n  logEvent: () => {},\n  logIssue: () => {},\n  reportError: () => {},\n});\n\nexport default TrackerContext;\n","function bindNew(Class) {\n    function _Class(...args) {\n        return new Class(...args);\n    }\n    _Class.prototype = Class.prototype;\n    return _Class;\n}\nexport const classes = new Map();\nclass _BatchMeta {\n    constructor(pageNo, firstIndex, timestamp) {\n        this.pageNo = pageNo;\n        this.firstIndex = firstIndex;\n        this.timestamp = timestamp;\n        this._id = 80;\n    }\n    encode(writer) {\n        return writer.uint(80) &&\n            writer.uint(this.pageNo) &&\n            writer.uint(this.firstIndex) &&\n            writer.int(this.timestamp);\n    }\n}\nexport const BatchMeta = bindNew(_BatchMeta);\nclasses.set(80, BatchMeta);\nclass _Timestamp {\n    constructor(timestamp) {\n        this.timestamp = timestamp;\n        this._id = 0;\n    }\n    encode(writer) {\n        return writer.uint(0) &&\n            writer.uint(this.timestamp);\n    }\n}\nexport const Timestamp = bindNew(_Timestamp);\nclasses.set(0, Timestamp);\nclass _SetPageLocation {\n    constructor(url, referrer, navigationStart) {\n        this.url = url;\n        this.referrer = referrer;\n        this.navigationStart = navigationStart;\n        this._id = 4;\n    }\n    encode(writer) {\n        return writer.uint(4) &&\n            writer.string(this.url) &&\n            writer.string(this.referrer) &&\n            writer.uint(this.navigationStart);\n    }\n}\nexport const SetPageLocation = bindNew(_SetPageLocation);\nclasses.set(4, SetPageLocation);\nclass _SetViewportSize {\n    constructor(width, height) {\n        this.width = width;\n        this.height = height;\n        this._id = 5;\n    }\n    encode(writer) {\n        return writer.uint(5) &&\n            writer.uint(this.width) &&\n            writer.uint(this.height);\n    }\n}\nexport const SetViewportSize = bindNew(_SetViewportSize);\nclasses.set(5, SetViewportSize);\nclass _SetViewportScroll {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this._id = 6;\n    }\n    encode(writer) {\n        return writer.uint(6) &&\n            writer.int(this.x) &&\n            writer.int(this.y);\n    }\n}\nexport const SetViewportScroll = bindNew(_SetViewportScroll);\nclasses.set(6, SetViewportScroll);\nclass _CreateDocument {\n    constructor() {\n        this._id = 7;\n    }\n    encode(writer) {\n        return writer.uint(7);\n    }\n}\nexport const CreateDocument = bindNew(_CreateDocument);\nclasses.set(7, CreateDocument);\nclass _CreateElementNode {\n    constructor(id, parentID, index, tag, svg) {\n        this.id = id;\n        this.parentID = parentID;\n        this.index = index;\n        this.tag = tag;\n        this.svg = svg;\n        this._id = 8;\n    }\n    encode(writer) {\n        return writer.uint(8) &&\n            writer.uint(this.id) &&\n            writer.uint(this.parentID) &&\n            writer.uint(this.index) &&\n            writer.string(this.tag) &&\n            writer.boolean(this.svg);\n    }\n}\nexport const CreateElementNode = bindNew(_CreateElementNode);\nclasses.set(8, CreateElementNode);\nclass _CreateTextNode {\n    constructor(id, parentID, index) {\n        this.id = id;\n        this.parentID = parentID;\n        this.index = index;\n        this._id = 9;\n    }\n    encode(writer) {\n        return writer.uint(9) &&\n            writer.uint(this.id) &&\n            writer.uint(this.parentID) &&\n            writer.uint(this.index);\n    }\n}\nexport const CreateTextNode = bindNew(_CreateTextNode);\nclasses.set(9, CreateTextNode);\nclass _MoveNode {\n    constructor(id, parentID, index) {\n        this.id = id;\n        this.parentID = parentID;\n        this.index = index;\n        this._id = 10;\n    }\n    encode(writer) {\n        return writer.uint(10) &&\n            writer.uint(this.id) &&\n            writer.uint(this.parentID) &&\n            writer.uint(this.index);\n    }\n}\nexport const MoveNode = bindNew(_MoveNode);\nclasses.set(10, MoveNode);\nclass _RemoveNode {\n    constructor(id) {\n        this.id = id;\n        this._id = 11;\n    }\n    encode(writer) {\n        return writer.uint(11) &&\n            writer.uint(this.id);\n    }\n}\nexport const RemoveNode = bindNew(_RemoveNode);\nclasses.set(11, RemoveNode);\nclass _SetNodeAttribute {\n    constructor(id, name, value) {\n        this.id = id;\n        this.name = name;\n        this.value = value;\n        this._id = 12;\n    }\n    encode(writer) {\n        return writer.uint(12) &&\n            writer.uint(this.id) &&\n            writer.string(this.name) &&\n            writer.string(this.value);\n    }\n}\nexport const SetNodeAttribute = bindNew(_SetNodeAttribute);\nclasses.set(12, SetNodeAttribute);\nclass _RemoveNodeAttribute {\n    constructor(id, name) {\n        this.id = id;\n        this.name = name;\n        this._id = 13;\n    }\n    encode(writer) {\n        return writer.uint(13) &&\n            writer.uint(this.id) &&\n            writer.string(this.name);\n    }\n}\nexport const RemoveNodeAttribute = bindNew(_RemoveNodeAttribute);\nclasses.set(13, RemoveNodeAttribute);\nclass _SetNodeData {\n    constructor(id, data) {\n        this.id = id;\n        this.data = data;\n        this._id = 14;\n    }\n    encode(writer) {\n        return writer.uint(14) &&\n            writer.uint(this.id) &&\n            writer.string(this.data);\n    }\n}\nexport const SetNodeData = bindNew(_SetNodeData);\nclasses.set(14, SetNodeData);\nclass _SetNodeScroll {\n    constructor(id, x, y) {\n        this.id = id;\n        this.x = x;\n        this.y = y;\n        this._id = 16;\n    }\n    encode(writer) {\n        return writer.uint(16) &&\n            writer.uint(this.id) &&\n            writer.int(this.x) &&\n            writer.int(this.y);\n    }\n}\nexport const SetNodeScroll = bindNew(_SetNodeScroll);\nclasses.set(16, SetNodeScroll);\nclass _SetInputTarget {\n    constructor(id, label) {\n        this.id = id;\n        this.label = label;\n        this._id = 17;\n    }\n    encode(writer) {\n        return writer.uint(17) &&\n            writer.uint(this.id) &&\n            writer.string(this.label);\n    }\n}\nexport const SetInputTarget = bindNew(_SetInputTarget);\nclasses.set(17, SetInputTarget);\nclass _SetInputValue {\n    constructor(id, value, mask) {\n        this.id = id;\n        this.value = value;\n        this.mask = mask;\n        this._id = 18;\n    }\n    encode(writer) {\n        return writer.uint(18) &&\n            writer.uint(this.id) &&\n            writer.string(this.value) &&\n            writer.int(this.mask);\n    }\n}\nexport const SetInputValue = bindNew(_SetInputValue);\nclasses.set(18, SetInputValue);\nclass _SetInputChecked {\n    constructor(id, checked) {\n        this.id = id;\n        this.checked = checked;\n        this._id = 19;\n    }\n    encode(writer) {\n        return writer.uint(19) &&\n            writer.uint(this.id) &&\n            writer.boolean(this.checked);\n    }\n}\nexport const SetInputChecked = bindNew(_SetInputChecked);\nclasses.set(19, SetInputChecked);\nclass _MouseMove {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this._id = 20;\n    }\n    encode(writer) {\n        return writer.uint(20) &&\n            writer.uint(this.x) &&\n            writer.uint(this.y);\n    }\n}\nexport const MouseMove = bindNew(_MouseMove);\nclasses.set(20, MouseMove);\nclass _ConsoleLog {\n    constructor(level, value) {\n        this.level = level;\n        this.value = value;\n        this._id = 22;\n    }\n    encode(writer) {\n        return writer.uint(22) &&\n            writer.string(this.level) &&\n            writer.string(this.value);\n    }\n}\nexport const ConsoleLog = bindNew(_ConsoleLog);\nclasses.set(22, ConsoleLog);\nclass _PageLoadTiming {\n    constructor(requestStart, responseStart, responseEnd, domContentLoadedEventStart, domContentLoadedEventEnd, loadEventStart, loadEventEnd, firstPaint, firstContentfulPaint) {\n        this.requestStart = requestStart;\n        this.responseStart = responseStart;\n        this.responseEnd = responseEnd;\n        this.domContentLoadedEventStart = domContentLoadedEventStart;\n        this.domContentLoadedEventEnd = domContentLoadedEventEnd;\n        this.loadEventStart = loadEventStart;\n        this.loadEventEnd = loadEventEnd;\n        this.firstPaint = firstPaint;\n        this.firstContentfulPaint = firstContentfulPaint;\n        this._id = 23;\n    }\n    encode(writer) {\n        return writer.uint(23) &&\n            writer.uint(this.requestStart) &&\n            writer.uint(this.responseStart) &&\n            writer.uint(this.responseEnd) &&\n            writer.uint(this.domContentLoadedEventStart) &&\n            writer.uint(this.domContentLoadedEventEnd) &&\n            writer.uint(this.loadEventStart) &&\n            writer.uint(this.loadEventEnd) &&\n            writer.uint(this.firstPaint) &&\n            writer.uint(this.firstContentfulPaint);\n    }\n}\nexport const PageLoadTiming = bindNew(_PageLoadTiming);\nclasses.set(23, PageLoadTiming);\nclass _PageRenderTiming {\n    constructor(speedIndex, visuallyComplete, timeToInteractive) {\n        this.speedIndex = speedIndex;\n        this.visuallyComplete = visuallyComplete;\n        this.timeToInteractive = timeToInteractive;\n        this._id = 24;\n    }\n    encode(writer) {\n        return writer.uint(24) &&\n            writer.uint(this.speedIndex) &&\n            writer.uint(this.visuallyComplete) &&\n            writer.uint(this.timeToInteractive);\n    }\n}\nexport const PageRenderTiming = bindNew(_PageRenderTiming);\nclasses.set(24, PageRenderTiming);\nclass _JSException {\n    constructor(name, message, payload) {\n        this.name = name;\n        this.message = message;\n        this.payload = payload;\n        this._id = 25;\n    }\n    encode(writer) {\n        return writer.uint(25) &&\n            writer.string(this.name) &&\n            writer.string(this.message) &&\n            writer.string(this.payload);\n    }\n}\nexport const JSException = bindNew(_JSException);\nclasses.set(25, JSException);\nclass _RawCustomEvent {\n    constructor(name, payload) {\n        this.name = name;\n        this.payload = payload;\n        this._id = 27;\n    }\n    encode(writer) {\n        return writer.uint(27) &&\n            writer.string(this.name) &&\n            writer.string(this.payload);\n    }\n}\nexport const RawCustomEvent = bindNew(_RawCustomEvent);\nclasses.set(27, RawCustomEvent);\nclass _UserID {\n    constructor(id) {\n        this.id = id;\n        this._id = 28;\n    }\n    encode(writer) {\n        return writer.uint(28) &&\n            writer.string(this.id);\n    }\n}\nexport const UserID = bindNew(_UserID);\nclasses.set(28, UserID);\nclass _UserAnonymousID {\n    constructor(id) {\n        this.id = id;\n        this._id = 29;\n    }\n    encode(writer) {\n        return writer.uint(29) &&\n            writer.string(this.id);\n    }\n}\nexport const UserAnonymousID = bindNew(_UserAnonymousID);\nclasses.set(29, UserAnonymousID);\nclass _Metadata {\n    constructor(key, value) {\n        this.key = key;\n        this.value = value;\n        this._id = 30;\n    }\n    encode(writer) {\n        return writer.uint(30) &&\n            writer.string(this.key) &&\n            writer.string(this.value);\n    }\n}\nexport const Metadata = bindNew(_Metadata);\nclasses.set(30, Metadata);\nclass _CSSInsertRule {\n    constructor(id, rule, index) {\n        this.id = id;\n        this.rule = rule;\n        this.index = index;\n        this._id = 37;\n    }\n    encode(writer) {\n        return writer.uint(37) &&\n            writer.uint(this.id) &&\n            writer.string(this.rule) &&\n            writer.uint(this.index);\n    }\n}\nexport const CSSInsertRule = bindNew(_CSSInsertRule);\nclasses.set(37, CSSInsertRule);\nclass _CSSDeleteRule {\n    constructor(id, index) {\n        this.id = id;\n        this.index = index;\n        this._id = 38;\n    }\n    encode(writer) {\n        return writer.uint(38) &&\n            writer.uint(this.id) &&\n            writer.uint(this.index);\n    }\n}\nexport const CSSDeleteRule = bindNew(_CSSDeleteRule);\nclasses.set(38, CSSDeleteRule);\nclass _Fetch {\n    constructor(method, url, request, response, status, timestamp, duration) {\n        this.method = method;\n        this.url = url;\n        this.request = request;\n        this.response = response;\n        this.status = status;\n        this.timestamp = timestamp;\n        this.duration = duration;\n        this._id = 39;\n    }\n    encode(writer) {\n        return writer.uint(39) &&\n            writer.string(this.method) &&\n            writer.string(this.url) &&\n            writer.string(this.request) &&\n            writer.string(this.response) &&\n            writer.uint(this.status) &&\n            writer.uint(this.timestamp) &&\n            writer.uint(this.duration);\n    }\n}\nexport const Fetch = bindNew(_Fetch);\nclasses.set(39, Fetch);\nclass _Profiler {\n    constructor(name, duration, args, result) {\n        this.name = name;\n        this.duration = duration;\n        this.args = args;\n        this.result = result;\n        this._id = 40;\n    }\n    encode(writer) {\n        return writer.uint(40) &&\n            writer.string(this.name) &&\n            writer.uint(this.duration) &&\n            writer.string(this.args) &&\n            writer.string(this.result);\n    }\n}\nexport const Profiler = bindNew(_Profiler);\nclasses.set(40, Profiler);\nclass _OTable {\n    constructor(key, value) {\n        this.key = key;\n        this.value = value;\n        this._id = 41;\n    }\n    encode(writer) {\n        return writer.uint(41) &&\n            writer.string(this.key) &&\n            writer.string(this.value);\n    }\n}\nexport const OTable = bindNew(_OTable);\nclasses.set(41, OTable);\nclass _StateAction {\n    constructor(type) {\n        this.type = type;\n        this._id = 42;\n    }\n    encode(writer) {\n        return writer.uint(42) &&\n            writer.string(this.type);\n    }\n}\nexport const StateAction = bindNew(_StateAction);\nclasses.set(42, StateAction);\nclass _Redux {\n    constructor(action, state, duration) {\n        this.action = action;\n        this.state = state;\n        this.duration = duration;\n        this._id = 44;\n    }\n    encode(writer) {\n        return writer.uint(44) &&\n            writer.string(this.action) &&\n            writer.string(this.state) &&\n            writer.uint(this.duration);\n    }\n}\nexport const Redux = bindNew(_Redux);\nclasses.set(44, Redux);\nclass _Vuex {\n    constructor(mutation, state) {\n        this.mutation = mutation;\n        this.state = state;\n        this._id = 45;\n    }\n    encode(writer) {\n        return writer.uint(45) &&\n            writer.string(this.mutation) &&\n            writer.string(this.state);\n    }\n}\nexport const Vuex = bindNew(_Vuex);\nclasses.set(45, Vuex);\nclass _MobX {\n    constructor(type, payload) {\n        this.type = type;\n        this.payload = payload;\n        this._id = 46;\n    }\n    encode(writer) {\n        return writer.uint(46) &&\n            writer.string(this.type) &&\n            writer.string(this.payload);\n    }\n}\nexport const MobX = bindNew(_MobX);\nclasses.set(46, MobX);\nclass _NgRx {\n    constructor(action, state, duration) {\n        this.action = action;\n        this.state = state;\n        this.duration = duration;\n        this._id = 47;\n    }\n    encode(writer) {\n        return writer.uint(47) &&\n            writer.string(this.action) &&\n            writer.string(this.state) &&\n            writer.uint(this.duration);\n    }\n}\nexport const NgRx = bindNew(_NgRx);\nclasses.set(47, NgRx);\nclass _GraphQL {\n    constructor(operationKind, operationName, variables, response) {\n        this.operationKind = operationKind;\n        this.operationName = operationName;\n        this.variables = variables;\n        this.response = response;\n        this._id = 48;\n    }\n    encode(writer) {\n        return writer.uint(48) &&\n            writer.string(this.operationKind) &&\n            writer.string(this.operationName) &&\n            writer.string(this.variables) &&\n            writer.string(this.response);\n    }\n}\nexport const GraphQL = bindNew(_GraphQL);\nclasses.set(48, GraphQL);\nclass _PerformanceTrack {\n    constructor(frames, ticks, totalJSHeapSize, usedJSHeapSize) {\n        this.frames = frames;\n        this.ticks = ticks;\n        this.totalJSHeapSize = totalJSHeapSize;\n        this.usedJSHeapSize = usedJSHeapSize;\n        this._id = 49;\n    }\n    encode(writer) {\n        return writer.uint(49) &&\n            writer.int(this.frames) &&\n            writer.int(this.ticks) &&\n            writer.uint(this.totalJSHeapSize) &&\n            writer.uint(this.usedJSHeapSize);\n    }\n}\nexport const PerformanceTrack = bindNew(_PerformanceTrack);\nclasses.set(49, PerformanceTrack);\nclass _ResourceTiming {\n    constructor(timestamp, duration, ttfb, headerSize, encodedBodySize, decodedBodySize, url, initiator) {\n        this.timestamp = timestamp;\n        this.duration = duration;\n        this.ttfb = ttfb;\n        this.headerSize = headerSize;\n        this.encodedBodySize = encodedBodySize;\n        this.decodedBodySize = decodedBodySize;\n        this.url = url;\n        this.initiator = initiator;\n        this._id = 53;\n    }\n    encode(writer) {\n        return writer.uint(53) &&\n            writer.uint(this.timestamp) &&\n            writer.uint(this.duration) &&\n            writer.uint(this.ttfb) &&\n            writer.uint(this.headerSize) &&\n            writer.uint(this.encodedBodySize) &&\n            writer.uint(this.decodedBodySize) &&\n            writer.string(this.url) &&\n            writer.string(this.initiator);\n    }\n}\nexport const ResourceTiming = bindNew(_ResourceTiming);\nclasses.set(53, ResourceTiming);\nclass _ConnectionInformation {\n    constructor(downlink, type) {\n        this.downlink = downlink;\n        this.type = type;\n        this._id = 54;\n    }\n    encode(writer) {\n        return writer.uint(54) &&\n            writer.uint(this.downlink) &&\n            writer.string(this.type);\n    }\n}\nexport const ConnectionInformation = bindNew(_ConnectionInformation);\nclasses.set(54, ConnectionInformation);\nclass _SetPageVisibility {\n    constructor(hidden) {\n        this.hidden = hidden;\n        this._id = 55;\n    }\n    encode(writer) {\n        return writer.uint(55) &&\n            writer.boolean(this.hidden);\n    }\n}\nexport const SetPageVisibility = bindNew(_SetPageVisibility);\nclasses.set(55, SetPageVisibility);\nclass _LongTask {\n    constructor(timestamp, duration, context, containerType, containerSrc, containerId, containerName) {\n        this.timestamp = timestamp;\n        this.duration = duration;\n        this.context = context;\n        this.containerType = containerType;\n        this.containerSrc = containerSrc;\n        this.containerId = containerId;\n        this.containerName = containerName;\n        this._id = 59;\n    }\n    encode(writer) {\n        return writer.uint(59) &&\n            writer.uint(this.timestamp) &&\n            writer.uint(this.duration) &&\n            writer.uint(this.context) &&\n            writer.uint(this.containerType) &&\n            writer.string(this.containerSrc) &&\n            writer.string(this.containerId) &&\n            writer.string(this.containerName);\n    }\n}\nexport const LongTask = bindNew(_LongTask);\nclasses.set(59, LongTask);\nclass _SetNodeAttributeURLBased {\n    constructor(id, name, value, baseURL) {\n        this.id = id;\n        this.name = name;\n        this.value = value;\n        this.baseURL = baseURL;\n        this._id = 60;\n    }\n    encode(writer) {\n        return writer.uint(60) &&\n            writer.uint(this.id) &&\n            writer.string(this.name) &&\n            writer.string(this.value) &&\n            writer.string(this.baseURL);\n    }\n}\nexport const SetNodeAttributeURLBased = bindNew(_SetNodeAttributeURLBased);\nclasses.set(60, SetNodeAttributeURLBased);\nclass _SetCSSDataURLBased {\n    constructor(id, data, baseURL) {\n        this.id = id;\n        this.data = data;\n        this.baseURL = baseURL;\n        this._id = 61;\n    }\n    encode(writer) {\n        return writer.uint(61) &&\n            writer.uint(this.id) &&\n            writer.string(this.data) &&\n            writer.string(this.baseURL);\n    }\n}\nexport const SetCSSDataURLBased = bindNew(_SetCSSDataURLBased);\nclasses.set(61, SetCSSDataURLBased);\nclass _TechnicalInfo {\n    constructor(type, value) {\n        this.type = type;\n        this.value = value;\n        this._id = 63;\n    }\n    encode(writer) {\n        return writer.uint(63) &&\n            writer.string(this.type) &&\n            writer.string(this.value);\n    }\n}\nexport const TechnicalInfo = bindNew(_TechnicalInfo);\nclasses.set(63, TechnicalInfo);\nclass _CustomIssue {\n    constructor(name, payload) {\n        this.name = name;\n        this.payload = payload;\n        this._id = 64;\n    }\n    encode(writer) {\n        return writer.uint(64) &&\n            writer.string(this.name) &&\n            writer.string(this.payload);\n    }\n}\nexport const CustomIssue = bindNew(_CustomIssue);\nclasses.set(64, CustomIssue);\nclass _PageClose {\n    constructor() {\n        this._id = 65;\n    }\n    encode(writer) {\n        return writer.uint(65);\n    }\n}\nexport const PageClose = bindNew(_PageClose);\nclasses.set(65, PageClose);\nclass _CSSInsertRuleURLBased {\n    constructor(id, rule, index, baseURL) {\n        this.id = id;\n        this.rule = rule;\n        this.index = index;\n        this.baseURL = baseURL;\n        this._id = 67;\n    }\n    encode(writer) {\n        return writer.uint(67) &&\n            writer.uint(this.id) &&\n            writer.string(this.rule) &&\n            writer.uint(this.index) &&\n            writer.string(this.baseURL);\n    }\n}\nexport const CSSInsertRuleURLBased = bindNew(_CSSInsertRuleURLBased);\nclasses.set(67, CSSInsertRuleURLBased);\nclass _MouseClick {\n    constructor(id, hesitationTime, label, selector) {\n        this.id = id;\n        this.hesitationTime = hesitationTime;\n        this.label = label;\n        this.selector = selector;\n        this._id = 69;\n    }\n    encode(writer) {\n        return writer.uint(69) &&\n            writer.uint(this.id) &&\n            writer.uint(this.hesitationTime) &&\n            writer.string(this.label) &&\n            writer.string(this.selector);\n    }\n}\nexport const MouseClick = bindNew(_MouseClick);\nclasses.set(69, MouseClick);\nclass _CreateIFrameDocument {\n    constructor(frameID, id) {\n        this.frameID = frameID;\n        this.id = id;\n        this._id = 70;\n    }\n    encode(writer) {\n        return writer.uint(70) &&\n            writer.uint(this.frameID) &&\n            writer.uint(this.id);\n    }\n}\nexport const CreateIFrameDocument = bindNew(_CreateIFrameDocument);\nclasses.set(70, CreateIFrameDocument);\n","export function timestamp() {\n    return Math.round(performance.now()) + performance.timing.navigationStart;\n}\nexport const stars = 'repeat' in String.prototype\n    ? (str) => '*'.repeat(str.length)\n    : (str) => str.replace(/./g, '*');\nexport function normSpaces(str) {\n    return str.trim().replace(/\\s+/g, ' ');\n}\n// isAbsoluteUrl regexp:  /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url)\nexport function isURL(s) {\n    return s.startsWith('https://') || s.startsWith('http://');\n}\nexport const IN_BROWSER = !(typeof window === \"undefined\");\n// TODO: JOIN IT WITH LOGGER somehow (use logging decorators?); Don't forget about index.js loggin when there is no logger instance.\nexport const DOCS_HOST = 'https://docs.openreplay.com';\nconst warnedFeatures = {};\nexport function deprecationWarn(nameOfFeature, useInstead, docsPath = \"/\") {\n    if (warnedFeatures[nameOfFeature]) {\n        return;\n    }\n    console.warn(`OpenReplay: ${nameOfFeature} is deprecated. ${useInstead ? `Please, use ${useInstead} instead.` : \"\"} Visit ${DOCS_HOST}${docsPath} for more information.`);\n    warnedFeatures[nameOfFeature] = true;\n}\nexport function getLabelAttribute(e) {\n    let value = e.getAttribute(\"data-openreplay-label\");\n    if (value !== null) {\n        return value;\n    }\n    value = e.getAttribute(\"data-asayer-label\");\n    if (value !== null) {\n        deprecationWarn(`\"data-asayer-label\" attribute`, `\"data-openreplay-label\" attribute`, \"/\");\n    }\n    return value;\n}\nexport function hasOpenreplayAttribute(e, name) {\n    const newName = `data-openreplay-${name}`;\n    if (e.hasAttribute(newName)) {\n        return true;\n    }\n    const oldName = `data-asayer-${name}`;\n    if (e.hasAttribute(oldName)) {\n        deprecationWarn(`\"${oldName}\" attribute`, `\"${newName}\" attribute`, \"/installation/sanitize-data\");\n        return true;\n    }\n    return false;\n}\n","export default class Nodes {\n    constructor(node_id) {\n        this.node_id = node_id;\n        this.nodes = [];\n        this.nodeCallbacks = [];\n        this.elementListeners = new Map();\n    }\n    attachNodeCallback(nodeCallback) {\n        this.nodeCallbacks.push(nodeCallback);\n    }\n    attachElementListener(type, node, elementListener) {\n        const id = this.getID(node);\n        if (id === undefined) {\n            return;\n        }\n        node.addEventListener(type, elementListener);\n        let listeners = this.elementListeners.get(id);\n        if (listeners === undefined) {\n            listeners = [];\n            this.elementListeners.set(id, listeners);\n            return;\n        }\n        listeners.push([type, elementListener]);\n    }\n    registerNode(node) {\n        let id = node[this.node_id];\n        const isNew = id === undefined;\n        if (isNew) {\n            id = this.nodes.length;\n            this.nodes[id] = node;\n            node[this.node_id] = id;\n        }\n        return [id, isNew];\n    }\n    unregisterNode(node) {\n        const id = node[this.node_id];\n        if (id !== undefined) {\n            delete node[this.node_id];\n            delete this.nodes[id];\n            const listeners = this.elementListeners.get(id);\n            if (listeners !== undefined) {\n                this.elementListeners.delete(id);\n                listeners.forEach((listener) => node.removeEventListener(listener[0], listener[1]));\n            }\n        }\n        return id;\n    }\n    cleanTree() {\n        // sadly we keep empty items in array here resulting in some memory still being used\n        // but its still better than keeping dead nodes or undef elements\n        // plus we keep our index positions for new/alive nodes\n        // performance test: 3ms for 30k nodes with 17k dead ones\n        for (let i = 0; i < this.nodes.length; i++) {\n            const node = this.nodes[i];\n            if (node && !document.contains(node)) {\n                this.unregisterNode(node);\n            }\n        }\n    }\n    callNodeCallbacks(node, isStart) {\n        this.nodeCallbacks.forEach((cb) => cb(node, isStart));\n    }\n    getID(node) {\n        return node[this.node_id];\n    }\n    getNode(id) {\n        return this.nodes[id];\n    }\n    clear() {\n        for (let id = 0; id < this.nodes.length; id++) {\n            const node = this.nodes[id];\n            if (node === undefined) {\n                continue;\n            }\n            this.unregisterNode(node);\n        }\n        this.nodes.length = 0;\n    }\n}\n","export function isSVGElement(node) {\n    return node.namespaceURI === 'http://www.w3.org/2000/svg';\n}\nexport function isElementNode(node) {\n    return node.nodeType === Node.ELEMENT_NODE;\n}\nexport function isTextNode(node) {\n    return node.nodeType === Node.TEXT_NODE;\n}\nexport function isRootNode(node) {\n    return node.nodeType === Node.DOCUMENT_NODE ||\n        node.nodeType === Node.DOCUMENT_FRAGMENT_NODE;\n}\nexport function hasTag(el, tagName) {\n    return el.nodeName === tagName;\n}\n","import { RemoveNodeAttribute, SetNodeAttribute, SetNodeAttributeURLBased, SetCSSDataURLBased, SetNodeData, CreateTextNode, CreateElementNode, MoveNode, RemoveNode, } from \"../../common/messages.js\";\nimport { isRootNode, isTextNode, isElementNode, isSVGElement, hasTag, } from \"../guards.js\";\nfunction isIgnored(node) {\n    if (isTextNode(node)) {\n        return false;\n    }\n    if (!isElementNode(node)) {\n        return true;\n    }\n    const tag = node.tagName.toUpperCase();\n    if (tag === 'LINK') {\n        const rel = node.getAttribute('rel');\n        const as = node.getAttribute('as');\n        return !((rel === null || rel === void 0 ? void 0 : rel.includes('stylesheet')) || as === \"style\" || as === \"font\");\n    }\n    return (tag === 'SCRIPT' ||\n        tag === 'NOSCRIPT' ||\n        tag === 'META' ||\n        tag === 'TITLE' ||\n        tag === 'BASE');\n}\nfunction isObservable(node) {\n    if (isRootNode(node)) {\n        return true;\n    }\n    return !isIgnored(node);\n}\n/*\n  TODO:\n    - fix unbinding logic + send all removals first (ensure sequence is correct)\n    - use document as a 0-node in the upper context (should be updated in player at first)\n*/\n/*\n  Nikita:\n    - rn we only send unbind event for parent (all child nodes will be cut in the live replay anyways)\n      to prevent sending 1k+ unbinds for child nodes and making replay file bigger than it should be\n*/\nvar RecentsType;\n(function (RecentsType) {\n    RecentsType[RecentsType[\"New\"] = 0] = \"New\";\n    RecentsType[RecentsType[\"Removed\"] = 1] = \"Removed\";\n    RecentsType[RecentsType[\"Changed\"] = 2] = \"Changed\";\n    RecentsType[RecentsType[\"RemovedChild\"] = 3] = \"RemovedChild\";\n})(RecentsType || (RecentsType = {}));\nexport default class Observer {\n    constructor(app, isTopContext = false) {\n        this.app = app;\n        this.isTopContext = isTopContext;\n        this.commited = [];\n        this.recents = new Map();\n        this.indexes = [];\n        this.attributesMap = new Map();\n        this.textSet = new Set();\n        this.observer = new MutationObserver(this.app.safe((mutations) => {\n            for (const mutation of mutations) { // mutations order is sequential\n                const target = mutation.target;\n                const type = mutation.type;\n                if (!isObservable(target)) {\n                    continue;\n                }\n                if (type === 'childList') {\n                    for (let i = 0; i < mutation.removedNodes.length; i++) {\n                        this.bindTree(mutation.removedNodes[i], true);\n                    }\n                    for (let i = 0; i < mutation.addedNodes.length; i++) {\n                        this.bindTree(mutation.addedNodes[i]);\n                    }\n                    continue;\n                }\n                const id = this.app.nodes.getID(target);\n                if (id === undefined) {\n                    continue;\n                }\n                if (!this.recents.has(id)) {\n                    this.recents.set(id, RecentsType.Changed); // TODO only when altered\n                }\n                if (type === 'attributes') {\n                    const name = mutation.attributeName;\n                    if (name === null) {\n                        continue;\n                    }\n                    let attr = this.attributesMap.get(id);\n                    if (attr === undefined) {\n                        this.attributesMap.set(id, attr = new Set());\n                    }\n                    attr.add(name);\n                    continue;\n                }\n                if (type === 'characterData') {\n                    this.textSet.add(id);\n                    continue;\n                }\n            }\n            this.commitNodes();\n        }));\n    }\n    clear() {\n        this.commited.length = 0;\n        this.recents.clear();\n        this.indexes.length = 1;\n        this.attributesMap.clear();\n        this.textSet.clear();\n    }\n    sendNodeAttribute(id, node, name, value) {\n        if (isSVGElement(node)) {\n            if (name.substr(0, 6) === 'xlink:') {\n                name = name.substr(6);\n            }\n            if (value === null) {\n                this.app.send(new RemoveNodeAttribute(id, name));\n            }\n            else if (name === 'href') {\n                if (value.length > 1e5) {\n                    value = '';\n                }\n                this.app.send(new SetNodeAttributeURLBased(id, name, value, this.app.getBaseHref()));\n            }\n            else {\n                this.app.send(new SetNodeAttribute(id, name, value));\n            }\n            return;\n        }\n        if (name === 'src' ||\n            name === 'srcset' ||\n            name === 'integrity' ||\n            name === 'crossorigin' ||\n            name === 'autocomplete' ||\n            name.substr(0, 2) === 'on') {\n            return;\n        }\n        if (name === 'value' &&\n            hasTag(node, \"INPUT\") &&\n            node.type !== 'button' &&\n            node.type !== 'reset' &&\n            node.type !== 'submit') {\n            return;\n        }\n        if (value === null) {\n            this.app.send(new RemoveNodeAttribute(id, name));\n            return;\n        }\n        if (name === 'style' || name === 'href' && hasTag(node, \"LINK\")) {\n            this.app.send(new SetNodeAttributeURLBased(id, name, value, this.app.getBaseHref()));\n            return;\n        }\n        if (name === 'href' || value.length > 1e5) {\n            value = '';\n        }\n        this.app.send(new SetNodeAttribute(id, name, value));\n    }\n    sendNodeData(id, parentElement, data) {\n        if (hasTag(parentElement, \"STYLE\") || hasTag(parentElement, \"style\")) {\n            this.app.send(new SetCSSDataURLBased(id, data, this.app.getBaseHref()));\n            return;\n        }\n        data = this.app.sanitizer.sanitize(id, data);\n        this.app.send(new SetNodeData(id, data));\n    }\n    bindNode(node) {\n        const [id, isNew] = this.app.nodes.registerNode(node);\n        if (isNew) {\n            this.recents.set(id, RecentsType.New);\n        }\n        else if (this.recents.get(id) !== RecentsType.New) { // can we do just `else` here?\n            this.recents.set(id, RecentsType.Removed);\n        }\n    }\n    unbindChildNode(node) {\n        const [id] = this.app.nodes.registerNode(node);\n        this.recents.set(id, RecentsType.RemovedChild);\n    }\n    bindTree(node, isChildUnbinding = false) {\n        if (!isObservable(node)) {\n            return;\n        }\n        this.bindNode(node);\n        const walker = document.createTreeWalker(node, NodeFilter.SHOW_ELEMENT + NodeFilter.SHOW_TEXT, {\n            acceptNode: (node) => isIgnored(node)\n                || (this.app.nodes.getID(node) !== undefined && !isChildUnbinding)\n                ? NodeFilter.FILTER_REJECT\n                : NodeFilter.FILTER_ACCEPT,\n        }, \n        // @ts-ignore\n        false);\n        while (walker.nextNode()) {\n            if (isChildUnbinding) {\n                this.unbindChildNode(walker.currentNode);\n            }\n            else {\n                this.bindNode(walker.currentNode);\n            }\n        }\n    }\n    unbindNode(node) {\n        const id = this.app.nodes.unregisterNode(node);\n        if (id !== undefined && this.recents.get(id) === RecentsType.Removed) {\n            this.app.send(new RemoveNode(id));\n        }\n    }\n    // A top-consumption function on the infinite lists test. (~1% of performance resources)\n    _commitNode(id, node) {\n        if (isRootNode(node)) {\n            return true;\n        }\n        const parent = node.parentNode;\n        let parentID;\n        // Disable parent check for the upper context HTMLHtmlElement, because it is root there... (before)\n        // TODO: get rid of \"special\" cases (there is an issue with CreateDocument altered behaviour though)\n        // TODO: Clean the logic (though now it workd fine)\n        if (!hasTag(node, \"HTML\") || !this.isTopContext) {\n            if (parent === null) {\n                // Sometimes one observation contains attribute mutations for the removimg node, which gets ignored here.\n                // That shouldn't affect the visual rendering ( should it? )\n                this.unbindNode(node);\n                return false;\n            }\n            parentID = this.app.nodes.getID(parent);\n            if (parentID === undefined) {\n                this.unbindNode(node);\n                return false;\n            }\n            if (!this.commitNode(parentID)) {\n                this.unbindNode(node);\n                return false;\n            }\n            this.app.sanitizer.handleNode(id, parentID, node);\n            if (this.app.sanitizer.isMaskedContainer(parentID)) {\n                return false;\n            }\n        }\n        // From here parentID === undefined if node is top context HTML node\n        let sibling = node.previousSibling;\n        while (sibling !== null) {\n            const siblingID = this.app.nodes.getID(sibling);\n            if (siblingID !== undefined) {\n                this.commitNode(siblingID);\n                this.indexes[id] = this.indexes[siblingID] + 1;\n                break;\n            }\n            sibling = sibling.previousSibling;\n        }\n        if (sibling === null) {\n            this.indexes[id] = 0;\n        }\n        const recentsType = this.recents.get(id);\n        const isNew = recentsType === RecentsType.New;\n        const index = this.indexes[id];\n        if (index === undefined) {\n            throw 'commitNode: missing node index';\n        }\n        if (isNew) {\n            if (isElementNode(node)) {\n                let el = node;\n                if (parentID !== undefined) {\n                    if (this.app.sanitizer.isMaskedContainer(id)) {\n                        const width = el.clientWidth;\n                        const height = el.clientHeight;\n                        el = node.cloneNode();\n                        el.style.width = width + 'px';\n                        el.style.height = height + 'px';\n                    }\n                    this.app.send(new CreateElementNode(id, parentID, index, el.tagName, isSVGElement(node)));\n                }\n                for (let i = 0; i < el.attributes.length; i++) {\n                    const attr = el.attributes[i];\n                    this.sendNodeAttribute(id, el, attr.nodeName, attr.value);\n                }\n            }\n            else if (isTextNode(node)) {\n                // for text node id != 0, hence parentID !== undefined and parent is Element\n                this.app.send(new CreateTextNode(id, parentID, index));\n                this.sendNodeData(id, parent, node.data);\n            }\n            return true;\n        }\n        if (recentsType === RecentsType.Removed && parentID !== undefined) {\n            this.app.send(new MoveNode(id, parentID, index));\n        }\n        const attr = this.attributesMap.get(id);\n        if (attr !== undefined) {\n            if (!isElementNode(node)) {\n                throw 'commitNode: node is not an element';\n            }\n            for (const name of attr) {\n                this.sendNodeAttribute(id, node, name, node.getAttribute(name));\n            }\n        }\n        if (this.textSet.has(id)) {\n            if (!isTextNode(node)) {\n                throw 'commitNode: node is not a text';\n            }\n            // for text node id != 0, hence parent is Element\n            this.sendNodeData(id, parent, node.data);\n        }\n        return true;\n    }\n    commitNode(id) {\n        const node = this.app.nodes.getNode(id);\n        if (node === undefined) {\n            return false;\n        }\n        const cmt = this.commited[id];\n        if (cmt !== undefined) {\n            return cmt;\n        }\n        return (this.commited[id] = this._commitNode(id, node));\n    }\n    commitNodes(isStart = false) {\n        let node;\n        this.recents.forEach((type, id) => {\n            this.commitNode(id);\n            if (type === RecentsType.New && (node = this.app.nodes.getNode(id))) {\n                this.app.nodes.callNodeCallbacks(node, isStart);\n            }\n        });\n        this.clear();\n    }\n    // ISSSUE\n    observeRoot(node, beforeCommit, nodeToBind = node) {\n        this.observer.observe(node, {\n            childList: true,\n            attributes: true,\n            characterData: true,\n            subtree: true,\n            attributeOldValue: false,\n            characterDataOldValue: false,\n        });\n        this.bindTree(nodeToBind);\n        beforeCommit(this.app.nodes.getID(node));\n        this.commitNodes(true);\n    }\n    disconnect() {\n        this.observer.disconnect();\n        this.clear();\n    }\n}\n","import Observer from \"./observer.js\";\nimport { CreateIFrameDocument } from \"../../common/messages.js\";\nexport default class IFrameObserver extends Observer {\n    observe(iframe) {\n        const doc = iframe.contentDocument;\n        const hostID = this.app.nodes.getID(iframe);\n        if (!doc || hostID === undefined) {\n            return;\n        } //log TODO common app.logger\n        // Have to observe document, because the inner <html> might be changed\n        this.observeRoot(doc, (docID) => {\n            if (docID === undefined) {\n                console.log(\"OpenReplay: Iframe document not bound\");\n                return;\n            }\n            this.app.send(CreateIFrameDocument(hostID, docID));\n        });\n    }\n}\n","import Observer from \"./observer.js\";\nimport { CreateIFrameDocument } from \"../../common/messages.js\";\nexport default class ShadowRootObserver extends Observer {\n    observe(el) {\n        const shRoot = el.shadowRoot;\n        const hostID = this.app.nodes.getID(el);\n        if (!shRoot || hostID === undefined) {\n            return;\n        } // log\n        this.observeRoot(shRoot, (rootID) => {\n            if (rootID === undefined) {\n                console.log(\"OpenReplay: Shadow Root was not bound\");\n                return;\n            }\n            this.app.send(CreateIFrameDocument(hostID, rootID));\n        });\n    }\n}\n","import Observer from \"./observer.js\";\nimport { isElementNode, hasTag, } from \"../guards.js\";\nimport IFrameObserver from \"./iframe_observer.js\";\nimport ShadowRootObserver from \"./shadow_root_observer.js\";\nimport { CreateDocument } from \"../../common/messages.js\";\nimport { IN_BROWSER, hasOpenreplayAttribute } from '../../utils.js';\nconst attachShadowNativeFn = IN_BROWSER ? Element.prototype.attachShadow : () => new ShadowRoot();\nexport default class TopObserver extends Observer {\n    constructor(app, options) {\n        super(app, true);\n        this.iframeObservers = [];\n        this.shadowRootObservers = [];\n        this.options = Object.assign({\n            captureIFrames: true\n        }, options);\n        // IFrames\n        this.app.nodes.attachNodeCallback(node => {\n            if (hasTag(node, \"IFRAME\") &&\n                ((this.options.captureIFrames && !hasOpenreplayAttribute(node, \"obscured\"))\n                    || hasOpenreplayAttribute(node, \"capture\"))) {\n                this.handleIframe(node);\n            }\n        });\n        // ShadowDOM\n        this.app.nodes.attachNodeCallback(node => {\n            if (isElementNode(node) && node.shadowRoot !== null) {\n                this.handleShadowRoot(node.shadowRoot);\n            }\n        });\n    }\n    handleIframe(iframe) {\n        let doc = null;\n        const handle = this.app.safe(() => {\n            const id = this.app.nodes.getID(iframe);\n            if (id === undefined) {\n                return;\n            } //log\n            if (iframe.contentDocument === doc) {\n                return;\n            } // How frequently can it happen?\n            doc = iframe.contentDocument;\n            if (!doc || !iframe.contentWindow) {\n                return;\n            }\n            const observer = new IFrameObserver(this.app);\n            this.iframeObservers.push(observer);\n            observer.observe(iframe);\n        });\n        iframe.addEventListener(\"load\", handle); // why app.attachEventListener not working?\n        handle();\n    }\n    handleShadowRoot(shRoot) {\n        const observer = new ShadowRootObserver(this.app);\n        this.shadowRootObservers.push(observer);\n        observer.observe(shRoot.host);\n    }\n    observe() {\n        // Protection from several subsequent calls?\n        const observer = this;\n        Element.prototype.attachShadow = function () {\n            const shadow = attachShadowNativeFn.apply(this, arguments);\n            observer.handleShadowRoot(shadow);\n            return shadow;\n        };\n        // Can observe documentElement (<html>) here, because it is not supposed to be changing.\n        // However, it is possible in some exotic cases and may cause an ignorance of the newly created <html>\n        // In this case context.document have to be observed, but this will cause \n        // the change in the re-player behaviour caused by CreateDocument message: \n        //   the 0-node (\"fRoot\") will become #document rather than documentElement as it is now.\n        // Alternatively - observe(#document) then bindNode(documentElement)\n        this.observeRoot(window.document, () => {\n            this.app.send(new CreateDocument());\n        }, window.document.documentElement);\n    }\n    disconnect() {\n        Element.prototype.attachShadow = attachShadowNativeFn;\n        this.iframeObservers.forEach(o => o.disconnect());\n        this.iframeObservers = [];\n        this.shadowRootObservers.forEach(o => o.disconnect());\n        this.shadowRootObservers = [];\n        super.disconnect();\n    }\n}\n","import { stars, hasOpenreplayAttribute } from \"../utils.js\";\nimport { isElementNode } from \"./guards.js\";\nexport default class Sanitizer {\n    constructor(app, options) {\n        this.app = app;\n        this.masked = new Set();\n        this.maskedContainers = new Set();\n        this.options = Object.assign({\n            obscureTextEmails: true,\n            obscureTextNumbers: false,\n        }, options);\n    }\n    handleNode(id, parentID, node) {\n        if (this.masked.has(parentID) ||\n            (isElementNode(node) &&\n                hasOpenreplayAttribute(node, 'masked'))) {\n            this.masked.add(id);\n        }\n        if (this.maskedContainers.has(parentID) ||\n            (isElementNode(node) &&\n                hasOpenreplayAttribute(node, 'htmlmasked'))) {\n            this.maskedContainers.add(id);\n        }\n    }\n    sanitize(id, data) {\n        if (this.masked.has(id)) {\n            // TODO: is it the best place to put trim() ? Might trimmed spaces be considered in layout in certain cases?\n            return data.trim().replace(/[^\\f\\n\\r\\t\\v\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]/g, '█');\n        }\n        if (this.options.obscureTextNumbers) {\n            data = data.replace(/\\d/g, '0');\n        }\n        if (this.options.obscureTextEmails) {\n            data = data.replace(/([^\\s]+)@([^\\s]+)\\.([^\\s]+)/g, (...f) => stars(f[1]) + '@' + stars(f[2]) + '.' + stars(f[3]));\n        }\n        return data;\n    }\n    isMasked(id) {\n        return this.masked.has(id);\n    }\n    isMaskedContainer(id) {\n        return this.maskedContainers.has(id);\n    }\n    getInnerTextSecure(el) {\n        const id = this.app.nodes.getID(el);\n        if (!id) {\n            return '';\n        }\n        return this.sanitize(id, el.innerText);\n    }\n    clear() {\n        this.masked.clear();\n        this.maskedContainers.clear();\n    }\n}\n","function wrap(callback, n) {\n    let t = 0;\n    return () => {\n        if (t++ >= n) {\n            t = 0;\n            callback();\n        }\n    };\n}\nexport default class Ticker {\n    constructor(app) {\n        this.app = app;\n        this.timer = null;\n        this.callbacks = [];\n    }\n    attach(callback, n = 0, useSafe = true, thisArg) {\n        if (thisArg) {\n            callback = callback.bind(thisArg);\n        }\n        if (useSafe) {\n            callback = this.app.safe(callback);\n        }\n        this.callbacks.unshift(n ? wrap(callback, n) : callback) - 1;\n    }\n    start() {\n        if (this.timer === null) {\n            this.timer = setInterval(() => this.callbacks.forEach((cb) => {\n                if (cb)\n                    cb();\n            }), 30);\n        }\n    }\n    stop() {\n        if (this.timer !== null) {\n            clearInterval(this.timer);\n            this.timer = null;\n        }\n    }\n}\n","export const LogLevel = {\n    Verbose: 5,\n    Log: 4,\n    Warnings: 3,\n    Errors: 2,\n    Silent: 0,\n};\nfunction IsCustomLevel(l) {\n    return typeof l === 'object';\n}\nexport default class Logger {\n    constructor(options = LogLevel.Silent) {\n        this.options = options === true\n            ? { level: LogLevel.Verbose }\n            : typeof options === \"number\" ? { level: options } : options;\n    }\n    log(...args) {\n        if (IsCustomLevel(this.options.level)\n            ? this.options.level.log\n            : this.options.level >= LogLevel.Log) {\n            console.log(...args);\n        }\n    }\n    warn(...args) {\n        if (IsCustomLevel(this.options.level)\n            ? this.options.level.warn\n            : this.options.level >= LogLevel.Warnings) {\n            console.warn(...args);\n        }\n    }\n    error(...args) {\n        if (IsCustomLevel(this.options.level)\n            ? this.options.level.error\n            : this.options.level >= LogLevel.Errors) {\n            console.error(...args);\n        }\n    }\n}\n","export default class Session {\n    constructor() {\n        this.metadata = {};\n        this.userID = null;\n        this.sessionID = null;\n        this.callbacks = [];\n    }\n    attachUpdateCallback(cb) {\n        this.callbacks.push(cb);\n    }\n    handleUpdate(newInfo) {\n        if (newInfo.userID == null) {\n            delete newInfo.userID;\n        }\n        if (newInfo.sessionID == null) {\n            delete newInfo.sessionID;\n        }\n        this.callbacks.forEach(cb => cb(newInfo));\n    }\n    update(newInfo) {\n        if (newInfo.userID !== undefined) { // TODO clear nullable/undefinable types\n            this.userID = newInfo.userID;\n        }\n        if (newInfo.metadata !== undefined) {\n            Object.entries(newInfo.metadata).forEach(([k, v]) => this.metadata[k] = v);\n        }\n        if (newInfo.sessionID !== undefined) {\n            this.sessionID = newInfo.sessionID;\n        }\n        this.handleUpdate(newInfo);\n    }\n    setMetadata(key, value) {\n        this.metadata[key] = value;\n        this.handleUpdate({ metadata: { [key]: value } });\n    }\n    setUserID(userID) {\n        this.userID = userID;\n        this.handleUpdate({ userID });\n    }\n    getInfo() {\n        return {\n            sessionID: this.sessionID,\n            metadata: this.metadata,\n            userID: this.userID,\n        };\n    }\n    reset() {\n        this.metadata = {};\n        this.userID = null;\n        this.sessionID = null;\n    }\n}\n","import { IN_BROWSER } from \"../utils.js\";\nimport { PerformanceTrack } from \"../common/messages.js\";\nconst perf = IN_BROWSER && 'performance' in window && 'memory' in performance // works in Chrome only\n    ? performance\n    : { memory: {} };\nexport const deviceMemory = IN_BROWSER ? (navigator.deviceMemory || 0) * 1024 : 0;\nexport const jsHeapSizeLimit = perf.memory.jsHeapSizeLimit || 0;\nexport default function (app, opts) {\n    const options = Object.assign({\n        capturePerformance: true,\n    }, opts);\n    if (!options.capturePerformance) {\n        return;\n    }\n    let frames;\n    let ticks;\n    const nextFrame = () => {\n        if (frames === undefined || frames === -1) {\n            return;\n        }\n        frames++;\n        requestAnimationFrame(nextFrame);\n    };\n    app.ticker.attach(() => {\n        if (ticks === undefined || ticks === -1) {\n            return;\n        }\n        ticks++;\n    }, 0, false);\n    const sendPerformanceTrack = () => {\n        if (frames === undefined || ticks === undefined) {\n            return;\n        }\n        app.send(new PerformanceTrack(frames, ticks, perf.memory.totalJSHeapSize || 0, perf.memory.usedJSHeapSize || 0));\n        ticks = frames = document.hidden ? -1 : 0;\n    };\n    app.attachStartCallback(() => {\n        ticks = frames = -1;\n        sendPerformanceTrack();\n        nextFrame();\n    });\n    app.attachStopCallback(() => {\n        ticks = frames = undefined;\n    });\n    app.ticker.attach(sendPerformanceTrack, 40, false);\n    if (document.hidden !== undefined) {\n        app.attachEventListener(document, 'visibilitychange', sendPerformanceTrack, false, false);\n    }\n}\n","import { Timestamp, Metadata, UserID } from \"../common/messages.js\";\nimport { timestamp } from \"../utils.js\";\nimport Nodes from \"./nodes.js\";\nimport Observer from \"./observer/top_observer.js\";\nimport Sanitizer from \"./sanitizer.js\";\nimport Ticker from \"./ticker.js\";\nimport Logger, { LogLevel } from \"./logger.js\";\nimport Session from \"./session.js\";\nimport { deviceMemory, jsHeapSizeLimit } from \"../modules/performance.js\";\nconst CANCELED = \"canceled\";\nconst START_ERROR = \":(\";\nconst UnsuccessfulStart = (reason) => ({ reason, success: false });\nconst SuccessfulStart = (body) => (Object.assign(Object.assign({}, body), { success: true }));\nvar ActivityState;\n(function (ActivityState) {\n    ActivityState[ActivityState[\"NotActive\"] = 0] = \"NotActive\";\n    ActivityState[ActivityState[\"Starting\"] = 1] = \"Starting\";\n    ActivityState[ActivityState[\"Active\"] = 2] = \"Active\";\n})(ActivityState || (ActivityState = {}));\n// TODO: use backendHost only\nexport const DEFAULT_INGEST_POINT = 'https://api.openreplay.com/ingest';\nexport default class App {\n    constructor(projectKey, sessionToken, options) {\n        // if (options.onStart !== undefined) {\n        //   deprecationWarn(\"'onStart' option\", \"tracker.start().then(/* handle session info */)\")\n        // } ?? maybe onStart is good\n        this.messages = [];\n        this.startCallbacks = [];\n        this.stopCallbacks = [];\n        this.commitCallbacks = [];\n        this.activityState = ActivityState.NotActive;\n        this.version = '3.5.16'; // TODO: version compatability check inside each plugin.\n        this.projectKey = projectKey;\n        this.options = Object.assign({\n            revID: '',\n            node_id: '__openreplay_id',\n            session_token_key: '__openreplay_token',\n            session_pageno_key: '__openreplay_pageno',\n            session_reset_key: '__openreplay_reset',\n            local_uuid_key: '__openreplay_uuid',\n            ingestPoint: DEFAULT_INGEST_POINT,\n            resourceBaseHref: null,\n            verbose: false,\n            __is_snippet: false,\n            __debug_report_edp: null,\n            localStorage: window.localStorage,\n            sessionStorage: window.sessionStorage,\n        }, options);\n        this.revID = this.options.revID;\n        this.sanitizer = new Sanitizer(this, options);\n        this.nodes = new Nodes(this.options.node_id);\n        this.observer = new Observer(this, options);\n        this.ticker = new Ticker(this);\n        this.ticker.attach(() => this.commit());\n        this.debug = new Logger(this.options.__debug__);\n        this.notify = new Logger(this.options.verbose ? LogLevel.Warnings : LogLevel.Silent);\n        this.session = new Session();\n        this.session.attachUpdateCallback(({ userID, metadata }) => {\n            if (userID != null) { // TODO: nullable userID\n                this.send(new UserID(userID));\n            }\n            if (metadata != null) {\n                Object.entries(metadata).forEach(([key, value]) => this.send(new Metadata(key, value)));\n            }\n        });\n        this.localStorage = this.options.localStorage;\n        this.sessionStorage = this.options.sessionStorage;\n        if (sessionToken != null) {\n            this.sessionStorage.setItem(this.options.session_token_key, sessionToken);\n        }\n        try {\n            this.worker = new Worker(URL.createObjectURL(new Blob([`\"use strict\";function t(t){function i(...i){return new t(...i)}return i.prototype=t.prototype,i}const i=new Map;const s=t(class{constructor(t,i,s){this.pageNo=t,this.firstIndex=i,this.timestamp=s,this._id=80}encode(t){return t.uint(80)&&t.uint(this.pageNo)&&t.uint(this.firstIndex)&&t.int(this.timestamp)}});i.set(80,s);const e=t(class{constructor(t){this.timestamp=t,this._id=0}encode(t){return t.uint(0)&&t.uint(this.timestamp)}});i.set(0,e);const n=t(class{constructor(t,i,s){this.url=t,this.referrer=i,this.navigationStart=s,this._id=4}encode(t){return t.uint(4)&&t.string(this.url)&&t.string(this.referrer)&&t.uint(this.navigationStart)}});i.set(4,n);const r=t(class{constructor(t,i){this.width=t,this.height=i,this._id=5}encode(t){return t.uint(5)&&t.uint(this.width)&&t.uint(this.height)}});i.set(5,r);const h=t(class{constructor(t,i){this.x=t,this.y=i,this._id=6}encode(t){return t.uint(6)&&t.int(this.x)&&t.int(this.y)}});i.set(6,h);const o=t(class{constructor(){this._id=7}encode(t){return t.uint(7)}});i.set(7,o);const c=t(class{constructor(t,i,s,e,n){this.id=t,this.parentID=i,this.index=s,this.tag=e,this.svg=n,this._id=8}encode(t){return t.uint(8)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)&&t.string(this.tag)&&t.boolean(this.svg)}});i.set(8,c);const a=t(class{constructor(t,i,s){this.id=t,this.parentID=i,this.index=s,this._id=9}encode(t){return t.uint(9)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});i.set(9,a);const u=t(class{constructor(t,i,s){this.id=t,this.parentID=i,this.index=s,this._id=10}encode(t){return t.uint(10)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});i.set(10,u);const d=t(class{constructor(t){this.id=t,this._id=11}encode(t){return t.uint(11)&&t.uint(this.id)}});i.set(11,d);const l=t(class{constructor(t,i,s){this.id=t,this.name=i,this.value=s,this._id=12}encode(t){return t.uint(12)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)}});i.set(12,l);const p=t(class{constructor(t,i){this.id=t,this.name=i,this._id=13}encode(t){return t.uint(13)&&t.uint(this.id)&&t.string(this.name)}});i.set(13,p);const g=t(class{constructor(t,i){this.id=t,this.data=i,this._id=14}encode(t){return t.uint(14)&&t.uint(this.id)&&t.string(this.data)}});i.set(14,g);const m=t(class{constructor(t,i,s){this.id=t,this.x=i,this.y=s,this._id=16}encode(t){return t.uint(16)&&t.uint(this.id)&&t.int(this.x)&&t.int(this.y)}});i.set(16,m);const f=t(class{constructor(t,i){this.id=t,this.label=i,this._id=17}encode(t){return t.uint(17)&&t.uint(this.id)&&t.string(this.label)}});i.set(17,f);const y=t(class{constructor(t,i,s){this.id=t,this.value=i,this.mask=s,this._id=18}encode(t){return t.uint(18)&&t.uint(this.id)&&t.string(this.value)&&t.int(this.mask)}});i.set(18,y);const _=t(class{constructor(t,i){this.id=t,this.checked=i,this._id=19}encode(t){return t.uint(19)&&t.uint(this.id)&&t.boolean(this.checked)}});i.set(19,_);const v=t(class{constructor(t,i){this.x=t,this.y=i,this._id=20}encode(t){return t.uint(20)&&t.uint(this.x)&&t.uint(this.y)}});i.set(20,v);const S=t(class{constructor(t,i){this.level=t,this.value=i,this._id=22}encode(t){return t.uint(22)&&t.string(this.level)&&t.string(this.value)}});i.set(22,S);const b=t(class{constructor(t,i,s,e,n,r,h,o,c){this.requestStart=t,this.responseStart=i,this.responseEnd=s,this.domContentLoadedEventStart=e,this.domContentLoadedEventEnd=n,this.loadEventStart=r,this.loadEventEnd=h,this.firstPaint=o,this.firstContentfulPaint=c,this._id=23}encode(t){return t.uint(23)&&t.uint(this.requestStart)&&t.uint(this.responseStart)&&t.uint(this.responseEnd)&&t.uint(this.domContentLoadedEventStart)&&t.uint(this.domContentLoadedEventEnd)&&t.uint(this.loadEventStart)&&t.uint(this.loadEventEnd)&&t.uint(this.firstPaint)&&t.uint(this.firstContentfulPaint)}});i.set(23,b);const w=t(class{constructor(t,i,s){this.speedIndex=t,this.visuallyComplete=i,this.timeToInteractive=s,this._id=24}encode(t){return t.uint(24)&&t.uint(this.speedIndex)&&t.uint(this.visuallyComplete)&&t.uint(this.timeToInteractive)}});i.set(24,w);const E=t(class{constructor(t,i,s){this.name=t,this.message=i,this.payload=s,this._id=25}encode(t){return t.uint(25)&&t.string(this.name)&&t.string(this.message)&&t.string(this.payload)}});i.set(25,E);const x=t(class{constructor(t,i){this.name=t,this.payload=i,this._id=27}encode(t){return t.uint(27)&&t.string(this.name)&&t.string(this.payload)}});i.set(27,x);const T=t(class{constructor(t){this.id=t,this._id=28}encode(t){return t.uint(28)&&t.string(this.id)}});i.set(28,T);const z=t(class{constructor(t){this.id=t,this._id=29}encode(t){return t.uint(29)&&t.string(this.id)}});i.set(29,z);const k=t(class{constructor(t,i){this.key=t,this.value=i,this._id=30}encode(t){return t.uint(30)&&t.string(this.key)&&t.string(this.value)}});i.set(30,k);const A=t(class{constructor(t,i,s){this.id=t,this.rule=i,this.index=s,this._id=37}encode(t){return t.uint(37)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)}});i.set(37,A);const I=t(class{constructor(t,i){this.id=t,this.index=i,this._id=38}encode(t){return t.uint(38)&&t.uint(this.id)&&t.uint(this.index)}});i.set(38,I);const L=t(class{constructor(t,i,s,e,n,r,h){this.method=t,this.url=i,this.request=s,this.response=e,this.status=n,this.timestamp=r,this.duration=h,this._id=39}encode(t){return t.uint(39)&&t.string(this.method)&&t.string(this.url)&&t.string(this.request)&&t.string(this.response)&&t.uint(this.status)&&t.uint(this.timestamp)&&t.uint(this.duration)}});i.set(39,L);const C=t(class{constructor(t,i,s,e){this.name=t,this.duration=i,this.args=s,this.result=e,this._id=40}encode(t){return t.uint(40)&&t.string(this.name)&&t.uint(this.duration)&&t.string(this.args)&&t.string(this.result)}});i.set(40,C);const M=t(class{constructor(t,i){this.key=t,this.value=i,this._id=41}encode(t){return t.uint(41)&&t.string(this.key)&&t.string(this.value)}});i.set(41,M);const N=t(class{constructor(t){this.type=t,this._id=42}encode(t){return t.uint(42)&&t.string(this.type)}});i.set(42,N);const B=t(class{constructor(t,i,s){this.action=t,this.state=i,this.duration=s,this._id=44}encode(t){return t.uint(44)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});i.set(44,B);const U=t(class{constructor(t,i){this.mutation=t,this.state=i,this._id=45}encode(t){return t.uint(45)&&t.string(this.mutation)&&t.string(this.state)}});i.set(45,U);const R=t(class{constructor(t,i){this.type=t,this.payload=i,this._id=46}encode(t){return t.uint(46)&&t.string(this.type)&&t.string(this.payload)}});i.set(46,R);const O=t(class{constructor(t,i,s){this.action=t,this.state=i,this.duration=s,this._id=47}encode(t){return t.uint(47)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});i.set(47,O);const P=t(class{constructor(t,i,s,e){this.operationKind=t,this.operationName=i,this.variables=s,this.response=e,this._id=48}encode(t){return t.uint(48)&&t.string(this.operationKind)&&t.string(this.operationName)&&t.string(this.variables)&&t.string(this.response)}});i.set(48,P);const q=t(class{constructor(t,i,s,e){this.frames=t,this.ticks=i,this.totalJSHeapSize=s,this.usedJSHeapSize=e,this._id=49}encode(t){return t.uint(49)&&t.int(this.frames)&&t.int(this.ticks)&&t.uint(this.totalJSHeapSize)&&t.uint(this.usedJSHeapSize)}});i.set(49,q);const D=t(class{constructor(t,i,s,e,n,r,h,o){this.timestamp=t,this.duration=i,this.ttfb=s,this.headerSize=e,this.encodedBodySize=n,this.decodedBodySize=r,this.url=h,this.initiator=o,this._id=53}encode(t){return t.uint(53)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.ttfb)&&t.uint(this.headerSize)&&t.uint(this.encodedBodySize)&&t.uint(this.decodedBodySize)&&t.string(this.url)&&t.string(this.initiator)}});i.set(53,D);const W=t(class{constructor(t,i){this.downlink=t,this.type=i,this._id=54}encode(t){return t.uint(54)&&t.uint(this.downlink)&&t.string(this.type)}});i.set(54,W);const H=t(class{constructor(t){this.hidden=t,this._id=55}encode(t){return t.uint(55)&&t.boolean(this.hidden)}});i.set(55,H);const J=t(class{constructor(t,i,s,e,n,r,h){this.timestamp=t,this.duration=i,this.context=s,this.containerType=e,this.containerSrc=n,this.containerId=r,this.containerName=h,this._id=59}encode(t){return t.uint(59)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.context)&&t.uint(this.containerType)&&t.string(this.containerSrc)&&t.string(this.containerId)&&t.string(this.containerName)}});i.set(59,J);const F=t(class{constructor(t,i,s,e){this.id=t,this.name=i,this.value=s,this.baseURL=e,this._id=60}encode(t){return t.uint(60)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)&&t.string(this.baseURL)}});i.set(60,F);const X=t(class{constructor(t,i,s){this.id=t,this.data=i,this.baseURL=s,this._id=61}encode(t){return t.uint(61)&&t.uint(this.id)&&t.string(this.data)&&t.string(this.baseURL)}});i.set(61,X);const G=t(class{constructor(t,i){this.type=t,this.value=i,this._id=63}encode(t){return t.uint(63)&&t.string(this.type)&&t.string(this.value)}});i.set(63,G);const K=t(class{constructor(t,i){this.name=t,this.payload=i,this._id=64}encode(t){return t.uint(64)&&t.string(this.name)&&t.string(this.payload)}});i.set(64,K);const j=t(class{constructor(){this._id=65}encode(t){return t.uint(65)}});i.set(65,j);const Q=t(class{constructor(t,i,s,e){this.id=t,this.rule=i,this.index=s,this.baseURL=e,this._id=67}encode(t){return t.uint(67)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)&&t.string(this.baseURL)}});i.set(67,Q);const V=t(class{constructor(t,i,s,e){this.id=t,this.hesitationTime=i,this.label=s,this.selector=e,this._id=69}encode(t){return t.uint(69)&&t.uint(this.id)&&t.uint(this.hesitationTime)&&t.string(this.label)&&t.string(this.selector)}});i.set(69,V);const Y=t(class{constructor(t,i){this.frameID=t,this.id=i,this._id=70}encode(t){return t.uint(70)&&t.uint(this.frameID)&&t.uint(this.id)}});i.set(70,Y);class Z{constructor(t,i,s,e=10,n=1e3){this.onUnauthorised=i,this.onFailure=s,this.MAX_ATTEMPTS_COUNT=e,this.ATTEMPT_TIMEOUT=n,this.attemptsCount=0,this.busy=!1,this.queue=[],this.token=null,this.ingestURL=t+\"/v1/web/i\"}authorise(t){this.token=t}push(t){this.busy||!this.token?this.queue.push(t):this.sendBatch(t)}retry(t){this.attemptsCount>=this.MAX_ATTEMPTS_COUNT?this.onFailure():(this.attemptsCount++,setTimeout(()=>this.sendBatch(t),this.ATTEMPT_TIMEOUT*this.attemptsCount))}sendBatch(t){this.busy=!0,fetch(this.ingestURL,{body:t,method:\"POST\",headers:{Authorization:\"Bearer \"+this.token},keepalive:t.length<65536}).then(i=>{if(401===i.status)return this.busy=!1,void this.onUnauthorised();if(i.status>=400)return void this.retry(t);this.attemptsCount=0;const s=this.queue.shift();s?this.sendBatch(s):this.busy=!1}).catch(i=>{console.warn(\"OpenReplay:\",i),this.retry(t)})}clean(){this.queue.length=0}}const tt=\"function\"==typeof TextEncoder?new TextEncoder:{encode(t){const i=t.length,s=new Uint8Array(3*i);let e=-1;for(var n=0,r=0,h=0;h!==i;){if(n=t.charCodeAt(h),h+=1,n>=55296&&n<=56319){if(h===i){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;break}if(!((r=t.charCodeAt(h))>=56320&&r<=57343)){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;continue}if(h+=1,(n=1024*(n-55296)+r-56320+65536)>65535){s[e+=1]=240|n>>>18,s[e+=1]=128|n>>>12&63,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n;continue}}n<=127?s[e+=1]=0|n:n<=2047?(s[e+=1]=192|n>>>6,s[e+=1]=128|63&n):(s[e+=1]=224|n>>>12,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n)}return s.subarray(0,e+1)}};class it{constructor(t){this.size=t,this.offset=0,this.checkpointOffset=0,this.data=new Uint8Array(t)}checkpoint(){this.checkpointOffset=this.offset}isEmpty(){return 0===this.offset}boolean(t){return this.data[this.offset++]=+t,this.offset<=this.size}uint(t){for((t<0||t>Number.MAX_SAFE_INTEGER)&&(t=0);t>=128;)this.data[this.offset++]=t%256|128,t=Math.floor(t/128);return this.data[this.offset++]=t,this.offset<=this.size}int(t){return t=Math.round(t),this.uint(t>=0?2*t:-2*t-1)}string(t){const i=tt.encode(t),s=i.byteLength;return!(!this.uint(s)||this.offset+s>this.size)&&(this.data.set(i,this.offset),this.offset+=s,!0)}reset(){this.offset=0,this.checkpointOffset=0}flush(){const t=this.data.slice(0,this.checkpointOffset);return this.reset(),t}}class st{constructor(t,i,s){this.pageNo=t,this.timestamp=i,this.onBatch=s,this.nextIndex=0,this.beaconSize=2e5,this.writer=new it(this.beaconSize),this.isEmpty=!0,this.beaconSizeLimit=1e6,this.prepare()}prepare(){this.writer.isEmpty()&&new s(this.pageNo,this.nextIndex,this.timestamp).encode(this.writer)}write(t){const i=t.encode(this.writer);return i&&(this.isEmpty=!1,this.writer.checkpoint(),this.nextIndex++),i}setBeaconSizeLimit(t){this.beaconSizeLimit=t}writeMessage(t){for(t instanceof e&&(this.timestamp=t.timestamp);!this.write(t);){if(this.finaliseBatch(),this.beaconSize===this.beaconSizeLimit)return console.warn(\"OpenReplay: beacon size overflow. Skipping large message.\"),this.writer.reset(),this.prepare(),void(this.isEmpty=!0);this.beaconSize=Math.min(2*this.beaconSize,this.beaconSizeLimit),this.writer=new it(this.beaconSize),this.prepare(),this.isEmpty=!0}}finaliseBatch(){this.isEmpty||(this.onBatch(this.writer.flush()),this.prepare(),this.isEmpty=!0)}clean(){this.writer.reset()}}var et;!function(t){t[t.NotActive=0]=\"NotActive\",t[t.Starting=1]=\"Starting\",t[t.Stopping=2]=\"Stopping\",t[t.Active=3]=\"Active\"}(et||(et={}));let nt=null,rt=null;function ht(){rt&&rt.finaliseBatch()}function ot(){et.Stopping,null!==at&&(clearInterval(at),at=null),rt&&(rt.clean(),rt=null),et.NotActive}et.NotActive;let ct,at=null;self.onmessage=({data:t})=>{if(null!=t){if(\"stop\"===t)return ht(),void ot();if(Array.isArray(t)){if(!rt)throw new Error(\"WebWorker: writer not initialised. Service Should be Started.\");const s=rt;t.forEach(t=>{const e=new(i.get(t._id));Object.assign(e,t),e instanceof H&&(e.hidden?ct=setTimeout(()=>self.postMessage(\"restart\"),18e5):clearTimeout(ct)),s.writeMessage(e)})}else{if(\"start\"===t.type)return et.Starting,nt=new Z(t.ingestPoint,()=>{self.postMessage(\"restart\")},()=>{nt&&(nt.clean(),nt=null),ot(),self.postMessage(\"failed\")},t.connAttemptCount,t.connAttemptGap),rt=new st(t.pageNo,t.timestamp,t=>nt&&nt.push(t)),null===at&&(at=setInterval(ht,1e4)),et.Active;if(\"auth\"===t.type){if(!nt)throw new Error(\"WebWorker: sender not initialised. Received auth.\");if(!rt)throw new Error(\"WebWorker: writer not initialised. Received auth.\");return nt.authorise(t.token),void(t.beaconSizeLimit&&rt.setBeaconSizeLimit(t.beaconSizeLimit))}}}else ht()};\n`], { type: 'text/javascript' })));\n            this.worker.onerror = e => {\n                this._debug(\"webworker_error\", e);\n            };\n            this.worker.onmessage = ({ data }) => {\n                if (data === \"failed\") {\n                    this.stop();\n                    this._debug(\"worker_failed\", {}); // add context (from worker)\n                }\n                else if (data === \"restart\") {\n                    this.stop();\n                    this.start({ forceNew: true });\n                }\n            };\n            const alertWorker = () => {\n                if (this.worker) {\n                    this.worker.postMessage(null);\n                }\n            };\n            // keep better tactics, discard others?\n            this.attachEventListener(window, 'beforeunload', alertWorker, false);\n            this.attachEventListener(document.body, 'mouseleave', alertWorker, false, false);\n            // TODO: stop session after inactivity timeout (make configurable)\n            this.attachEventListener(document, 'visibilitychange', alertWorker, false);\n        }\n        catch (e) {\n            this._debug(\"worker_start\", e);\n        }\n    }\n    _debug(context, e) {\n        if (this.options.__debug_report_edp !== null) {\n            fetch(this.options.__debug_report_edp, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    context,\n                    error: `${e}`\n                })\n            });\n        }\n        this.debug.error(\"OpenReplay error: \", context, e);\n    }\n    send(message, urgent = false) {\n        if (this.activityState === ActivityState.NotActive) {\n            return;\n        }\n        this.messages.push(message);\n        // TODO: commit on start if there were `urgent` sends; \n        // Clearify where urgent can be used for;\n        // Clearify workflow for each type of message in case it was sent before start \n        //      (like Fetch before start; maybe add an option \"preCapture: boolean\" or sth alike)\n        if (this.activityState === ActivityState.Active && urgent) {\n            this.commit();\n        }\n    }\n    commit() {\n        if (this.worker && this.messages.length) {\n            this.messages.unshift(new Timestamp(timestamp()));\n            this.worker.postMessage(this.messages);\n            this.commitCallbacks.forEach(cb => cb(this.messages));\n            this.messages.length = 0;\n        }\n    }\n    safe(fn) {\n        const app = this;\n        return function (...args) {\n            try {\n                fn.apply(this, args);\n            }\n            catch (e) {\n                app._debug(\"safe_fn_call\", e);\n                // time: timestamp(),\n                // name: e.name,\n                // message: e.message,\n                // stack: e.stack\n            }\n        }; // TODO: correct typing\n    }\n    attachCommitCallback(cb) {\n        this.commitCallbacks.push(cb);\n    }\n    attachStartCallback(cb) {\n        this.startCallbacks.push(cb);\n    }\n    attachStopCallback(cb) {\n        this.stopCallbacks.push(cb);\n    }\n    attachEventListener(target, type, listener, useSafe = true, useCapture = true) {\n        if (useSafe) {\n            listener = this.safe(listener);\n        }\n        this.attachStartCallback(() => target.addEventListener(type, listener, useCapture));\n        this.attachStopCallback(() => target.removeEventListener(type, listener, useCapture));\n    }\n    // TODO: full correct semantic\n    checkRequiredVersion(version) {\n        const reqVer = version.split(/[.-]/);\n        const ver = this.version.split(/[.-]/);\n        for (let i = 0; i < 3; i++) {\n            if (Number(ver[i]) < Number(reqVer[i]) || isNaN(Number(ver[i])) || isNaN(Number(reqVer[i]))) {\n                return false;\n            }\n        }\n        return true;\n    }\n    getStartInfo() {\n        return {\n            userUUID: this.localStorage.getItem(this.options.local_uuid_key),\n            projectKey: this.projectKey,\n            revID: this.revID,\n            timestamp: timestamp(),\n            trackerVersion: this.version,\n            isSnippet: this.options.__is_snippet,\n        };\n    }\n    getSessionInfo() {\n        return Object.assign(Object.assign({}, this.session.getInfo()), this.getStartInfo());\n    }\n    getSessionToken() {\n        const token = this.sessionStorage.getItem(this.options.session_token_key);\n        if (token !== null) {\n            return token;\n        }\n    }\n    getSessionID() {\n        return this.session.getInfo().sessionID || undefined;\n    }\n    getHost() {\n        return new URL(this.options.ingestPoint).hostname;\n    }\n    getProjectKey() {\n        return this.projectKey;\n    }\n    getBaseHref() {\n        var _a, _b;\n        if (typeof this.options.resourceBaseHref === 'string') {\n            return this.options.resourceBaseHref;\n        }\n        else if (typeof this.options.resourceBaseHref === 'object') {\n            //switch between  types\n        }\n        if (document.baseURI) {\n            return document.baseURI;\n        }\n        // IE only\n        return ((_b = (_a = document.head) === null || _a === void 0 ? void 0 : _a.getElementsByTagName(\"base\")[0]) === null || _b === void 0 ? void 0 : _b.getAttribute(\"href\")) || location.origin + location.pathname;\n    }\n    resolveResourceURL(resourceURL) {\n        const base = new URL(this.getBaseHref());\n        base.pathname += \"/\" + new URL(resourceURL).pathname;\n        base.pathname.replace(/\\/+/g, \"/\");\n        return base.toString();\n    }\n    isServiceURL(url) {\n        return url.startsWith(this.options.ingestPoint);\n    }\n    active() {\n        return this.activityState === ActivityState.Active;\n    }\n    resetNextPageSession(flag) {\n        if (flag) {\n            this.sessionStorage.setItem(this.options.session_reset_key, 't');\n        }\n        else {\n            this.sessionStorage.removeItem(this.options.session_reset_key);\n        }\n    }\n    _start(startOpts) {\n        if (!this.worker) {\n            return Promise.resolve(UnsuccessfulStart(\"No worker found: perhaps, CSP is not set.\"));\n        }\n        if (this.activityState !== ActivityState.NotActive) {\n            return Promise.resolve(UnsuccessfulStart(\"OpenReplay: trying to call `start()` on the instance that has been started already.\"));\n        }\n        this.activityState = ActivityState.Starting;\n        let pageNo = 0;\n        const pageNoStr = this.sessionStorage.getItem(this.options.session_pageno_key);\n        if (pageNoStr != null) {\n            pageNo = parseInt(pageNoStr);\n            pageNo++;\n        }\n        this.sessionStorage.setItem(this.options.session_pageno_key, pageNo.toString());\n        const startInfo = this.getStartInfo();\n        const startWorkerMsg = {\n            type: \"start\",\n            pageNo,\n            ingestPoint: this.options.ingestPoint,\n            timestamp: startInfo.timestamp,\n            connAttemptCount: this.options.connAttemptCount,\n            connAttemptGap: this.options.connAttemptGap,\n        };\n        this.worker.postMessage(startWorkerMsg);\n        this.session.update({\n            // \"updating\" with old metadata in order to trigger session's UpdateCallbacks. \n            // (for the case of internal .start() calls, like on \"restart\" webworker signal or assistent connection in tracker-assist )\n            metadata: startOpts.metadata || this.session.getInfo().metadata,\n            userID: startOpts.userID,\n        });\n        const sReset = this.sessionStorage.getItem(this.options.session_reset_key);\n        this.sessionStorage.removeItem(this.options.session_reset_key);\n        return window.fetch(this.options.ingestPoint + '/v1/web/start', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(Object.assign(Object.assign({}, startInfo), { userID: this.session.getInfo().userID, token: this.sessionStorage.getItem(this.options.session_token_key), deviceMemory,\n                jsHeapSizeLimit, reset: startOpts.forceNew || sReset !== null })),\n        })\n            .then(r => {\n            if (r.status === 200) {\n                return r.json();\n            }\n            else {\n                return r.text().then(text => text === CANCELED\n                    ? Promise.reject(CANCELED)\n                    : Promise.reject(`Server error: ${r.status}. ${text}`));\n            }\n        })\n            .then(r => {\n            if (!this.worker) {\n                return Promise.reject(\"no worker found after start request (this might not happen)\");\n            }\n            const { token, userUUID, sessionID, beaconSizeLimit } = r;\n            if (typeof token !== 'string' ||\n                typeof userUUID !== 'string' ||\n                (typeof beaconSizeLimit !== 'number' && typeof beaconSizeLimit !== 'undefined')) {\n                return Promise.reject(`Incorrect server response: ${JSON.stringify(r)}`);\n            }\n            this.sessionStorage.setItem(this.options.session_token_key, token);\n            this.localStorage.setItem(this.options.local_uuid_key, userUUID);\n            this.session.update({ sessionID }); // TODO: no no-explicit 'any'\n            const startWorkerMsg = {\n                type: \"auth\",\n                token,\n                beaconSizeLimit\n            };\n            this.worker.postMessage(startWorkerMsg);\n            this.activityState = ActivityState.Active;\n            const onStartInfo = { sessionToken: token, userUUID, sessionID };\n            this.startCallbacks.forEach((cb) => cb(onStartInfo)); // TODO: start as early as possible (before receiving the token)\n            this.observer.observe();\n            this.ticker.start();\n            this.notify.log(\"OpenReplay tracking started.\");\n            // get rid of onStart ?\n            if (typeof this.options.onStart === 'function') {\n                this.options.onStart(onStartInfo);\n            }\n            return SuccessfulStart(onStartInfo);\n        })\n            .catch(reason => {\n            this.sessionStorage.removeItem(this.options.session_token_key);\n            this.stop();\n            if (reason === CANCELED) {\n                return UnsuccessfulStart(CANCELED);\n            }\n            this.notify.log(\"OpenReplay was unable to start. \", reason);\n            this._debug(\"session_start\", reason);\n            return UnsuccessfulStart(START_ERROR);\n        });\n    }\n    start(options = {}) {\n        if (!document.hidden) {\n            return this._start(options);\n        }\n        else {\n            return new Promise((resolve) => {\n                const onVisibilityChange = () => {\n                    if (!document.hidden) {\n                        document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n                        resolve(this._start(options));\n                    }\n                };\n                document.addEventListener(\"visibilitychange\", onVisibilityChange);\n            });\n        }\n    }\n    stop(calledFromAPI = false, restarting = false) {\n        if (this.activityState !== ActivityState.NotActive) {\n            try {\n                this.sanitizer.clear();\n                this.observer.disconnect();\n                this.nodes.clear();\n                this.ticker.stop();\n                this.stopCallbacks.forEach((cb) => cb());\n                if (calledFromAPI) {\n                    this.session.reset();\n                }\n                this.notify.log(\"OpenReplay tracking stopped.\");\n                if (this.worker && !restarting) {\n                    this.worker.postMessage(\"stop\");\n                }\n            }\n            finally {\n                this.activityState = ActivityState.NotActive;\n            }\n        }\n    }\n    restart() {\n        this.stop(false, true);\n        this.start({ forceNew: false });\n    }\n}\n","import { hasTag } from \"../app/guards.js\";\nimport { IN_BROWSER } from \"../utils.js\";\nimport { ConsoleLog } from \"../common/messages.js\";\nconst printError = IN_BROWSER && 'InstallTrigger' in window // detect Firefox\n    ? (e) => e.message + '\\n' + e.stack\n    : (e) => e.stack || e.message;\nfunction printString(arg) {\n    if (arg === undefined) {\n        return 'undefined';\n    }\n    if (arg === null) {\n        return 'null';\n    }\n    if (arg instanceof Error) {\n        return printError(arg);\n    }\n    if (Array.isArray(arg)) {\n        return `Array(${arg.length})`;\n    }\n    return String(arg);\n}\nfunction printFloat(arg) {\n    if (typeof arg !== 'number')\n        return 'NaN';\n    return arg.toString();\n}\nfunction printInt(arg) {\n    if (typeof arg !== 'number')\n        return 'NaN';\n    return Math.floor(arg).toString();\n}\nfunction printObject(arg) {\n    if (arg === undefined) {\n        return 'undefined';\n    }\n    if (arg === null) {\n        return 'null';\n    }\n    if (arg instanceof Error) {\n        return printError(arg);\n    }\n    if (Array.isArray(arg)) {\n        const length = arg.length;\n        const values = arg.slice(0, 10).map(printString).join(', ');\n        return `Array(${length})[${values}]`;\n    }\n    if (typeof arg === 'object') {\n        const res = [];\n        let i = 0;\n        for (const k in arg) {\n            if (++i === 10) {\n                break;\n            }\n            const v = arg[k];\n            res.push(k + ': ' + printString(v));\n        }\n        return '{' + res.join(', ') + '}';\n    }\n    return arg.toString();\n}\nfunction printf(args) {\n    if (typeof args[0] === 'string') {\n        args.unshift(args.shift().replace(/%(o|s|f|d|i)/g, (s, t) => {\n            const arg = args.shift();\n            if (arg === undefined)\n                return s;\n            switch (t) {\n                case 'o':\n                    return printObject(arg);\n                case 's':\n                    return printString(arg);\n                case 'f':\n                    return printFloat(arg);\n                case 'd':\n                case 'i':\n                    return printInt(arg);\n                default:\n                    return s;\n            }\n        }));\n    }\n    return args.map(printObject).join(' ');\n}\nconst consoleMethods = ['log', 'info', 'warn', 'error', 'debug', 'assert'];\nexport default function (app, opts) {\n    const options = Object.assign({\n        consoleMethods,\n        consoleThrottling: 30,\n    }, opts);\n    if (!Array.isArray(options.consoleMethods) ||\n        options.consoleMethods.length === 0) {\n        return;\n    }\n    const sendConsoleLog = app.safe((level, args) => app.send(new ConsoleLog(level, printf(args))));\n    let n;\n    const reset = () => {\n        n = 0;\n    };\n    app.attachStartCallback(reset);\n    app.ticker.attach(reset, 33, false);\n    const patchConsole = (console) => options.consoleMethods.forEach((method) => {\n        if (consoleMethods.indexOf(method) === -1) {\n            console.error(`OpenReplay: unsupported console method \"${method}\"`);\n            return;\n        }\n        const fn = console[method];\n        console[method] = function (...args) {\n            fn.apply(this, args);\n            if (n++ > options.consoleThrottling) {\n                return;\n            }\n            sendConsoleLog(method, args);\n        };\n    });\n    patchConsole(window.console);\n    app.nodes.attachNodeCallback(app.safe(node => {\n        if (hasTag(node, \"IFRAME\")) { // TODO: newContextCallback\n            let context = node.contentWindow;\n            if (context) {\n                patchConsole(context.console);\n            }\n            app.attachEventListener(node, \"load\", () => {\n                if (node.contentWindow !== context) {\n                    context = node.contentWindow;\n                    patchConsole(context.console);\n                }\n            });\n        }\n    }));\n}\n","import { JSException } from \"../common/messages.js\";\nimport ErrorStackParser from 'error-stack-parser';\nfunction getDefaultStack(e) {\n    return [{\n            columnNumber: e.colno,\n            lineNumber: e.lineno,\n            fileName: e.filename,\n            functionName: \"\",\n            source: \"\",\n        }];\n}\nexport function getExceptionMessage(error, fallbackStack) {\n    let stack = fallbackStack;\n    try {\n        stack = ErrorStackParser.parse(error);\n    }\n    catch (e) {\n    }\n    return new JSException(error.name, error.message, JSON.stringify(stack));\n}\nexport function getExceptionMessageFromEvent(e) {\n    if (e instanceof ErrorEvent) {\n        if (e.error instanceof Error) {\n            return getExceptionMessage(e.error, getDefaultStack(e));\n        }\n        else {\n            let [name, message] = e.message.split(':');\n            if (!message) {\n                name = 'Error';\n                message = e.message;\n            }\n            return new JSException(name, message, JSON.stringify(getDefaultStack(e)));\n        }\n    }\n    else if ('PromiseRejectionEvent' in window && e instanceof PromiseRejectionEvent) {\n        if (e.reason instanceof Error) {\n            return getExceptionMessage(e.reason, []);\n        }\n        else {\n            let message;\n            try {\n                message = JSON.stringify(e.reason);\n            }\n            catch (_) {\n                message = String(e.reason);\n            }\n            return new JSException('Unhandled Promise Rejection', message, '[]');\n        }\n    }\n    return null;\n}\nexport default function (app, opts) {\n    const options = Object.assign({\n        captureExceptions: true,\n    }, opts);\n    if (options.captureExceptions) {\n        const handler = (e) => {\n            const msg = getExceptionMessageFromEvent(e);\n            if (msg != null) {\n                app.send(msg);\n            }\n        };\n        app.attachEventListener(window, 'unhandledrejection', (e) => handler(e));\n        app.attachEventListener(window, 'error', (e) => handler(e));\n    }\n}\n","import { timestamp, isURL } from \"../utils.js\";\nimport { ResourceTiming, SetNodeAttributeURLBased, SetNodeAttribute } from \"../common/messages.js\";\nimport { hasTag } from \"../app/guards.js\";\nfunction resolveURL(url, location = document.location) {\n    url = url.trim();\n    if (url.startsWith('/')) {\n        return location.origin + url;\n    }\n    else if (url.startsWith('http://') ||\n        url.startsWith('https://') ||\n        url.startsWith('data:') // any other possible value here?\n    ) {\n        return url;\n    }\n    else {\n        return location.origin + location.pathname + url;\n    }\n}\nconst PLACEHOLDER_SRC = \"https://static.openreplay.com/tracker/placeholder.jpeg\";\nexport default function (app) {\n    function sendPlaceholder(id, node) {\n        app.send(new SetNodeAttribute(id, \"src\", PLACEHOLDER_SRC));\n        const { width, height } = node.getBoundingClientRect();\n        if (!node.hasAttribute(\"width\")) {\n            app.send(new SetNodeAttribute(id, \"width\", String(width)));\n        }\n        if (!node.hasAttribute(\"height\")) {\n            app.send(new SetNodeAttribute(id, \"height\", String(height)));\n        }\n    }\n    const sendImgSrc = app.safe(function () {\n        const id = app.nodes.getID(this);\n        if (id === undefined) {\n            return;\n        }\n        const { src, complete, naturalWidth, naturalHeight, srcset } = this;\n        if (!complete) {\n            return;\n        }\n        const resolvedSrc = resolveURL(src || ''); // Src type is null sometimes. - is it true?\n        if (naturalWidth === 0 && naturalHeight === 0) {\n            if (isURL(resolvedSrc)) {\n                app.send(new ResourceTiming(timestamp(), 0, 0, 0, 0, 0, resolvedSrc, 'img'));\n            }\n        }\n        else if (resolvedSrc.length >= 1e5 || app.sanitizer.isMasked(id)) {\n            sendPlaceholder(id, this);\n        }\n        else {\n            app.send(new SetNodeAttribute(id, 'src', resolvedSrc));\n            if (srcset) {\n                const resolvedSrcset = srcset.split(',').map(str => resolveURL(str)).join(',');\n                app.send(new SetNodeAttribute(id, 'srcset', resolvedSrcset));\n            }\n        }\n    });\n    const observer = new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type === \"attributes\") {\n                const target = mutation.target;\n                const id = app.nodes.getID(target);\n                if (id === undefined) {\n                    return;\n                }\n                if (mutation.attributeName === \"src\") {\n                    const src = target.src;\n                    app.send(new SetNodeAttributeURLBased(id, 'src', src, app.getBaseHref()));\n                }\n                if (mutation.attributeName === \"srcset\") {\n                    const srcset = target.srcset;\n                    app.send(new SetNodeAttribute(id, 'srcset', srcset));\n                }\n            }\n        }\n    });\n    app.nodes.attachNodeCallback((node) => {\n        if (!hasTag(node, \"IMG\")) {\n            return;\n        }\n        app.nodes.attachElementListener('error', node, sendImgSrc);\n        app.nodes.attachElementListener('load', node, sendImgSrc);\n        sendImgSrc.call(node);\n        observer.observe(node, { attributes: true, attributeFilter: [\"src\", \"srcset\"] });\n    });\n}\n","import { normSpaces, IN_BROWSER, getLabelAttribute, hasOpenreplayAttribute, } from \"../utils.js\";\nimport { hasTag } from \"../app/guards.js\";\nimport { SetInputTarget, SetInputValue, SetInputChecked } from \"../common/messages.js\";\nconst INPUT_TYPES = ['text', 'password', 'email', 'search', 'number', 'range', 'date'];\nfunction isTextEditable(node) {\n    if (hasTag(node, \"TEXTAREA\")) {\n        return true;\n    }\n    if (!hasTag(node, \"INPUT\")) {\n        return false;\n    }\n    return INPUT_TYPES.includes(node.type);\n}\nfunction isCheckable(node) {\n    if (!hasTag(node, \"INPUT\")) {\n        return false;\n    }\n    const type = node.type;\n    return type === 'checkbox' || type === 'radio';\n}\nconst labelElementFor = IN_BROWSER && 'labels' in HTMLInputElement.prototype\n    ? (node) => {\n        let p = node;\n        while ((p = p.parentNode) !== null) {\n            if (hasTag(p, \"LABEL\")) {\n                return p;\n            }\n        }\n        const labels = node.labels;\n        if (labels !== null && labels.length === 1) {\n            return labels[0];\n        }\n    }\n    : (node) => {\n        let p = node;\n        while ((p = p.parentNode) !== null) {\n            if (hasTag(p, \"LABEL\")) {\n                return p;\n            }\n        }\n        const id = node.id;\n        if (id) {\n            const labels = document.querySelectorAll('label[for=\"' + id + '\"]');\n            if (labels !== null && labels.length === 1) {\n                return labels[0];\n            }\n        }\n    };\nexport function getInputLabel(node) {\n    let label = getLabelAttribute(node);\n    if (label === null) {\n        const labelElement = labelElementFor(node);\n        label = (labelElement && labelElement.innerText)\n            || node.placeholder\n            || node.name\n            || node.id\n            || node.className\n            || node.type;\n    }\n    return normSpaces(label).slice(0, 100);\n}\nexport default function (app, opts) {\n    const options = Object.assign({\n        obscureInputNumbers: true,\n        obscureInputEmails: true,\n        defaultInputMode: 0 /* Plain */,\n        obscureInputDates: false,\n    }, opts);\n    function sendInputTarget(id, node) {\n        const label = getInputLabel(node);\n        if (label !== '') {\n            app.send(new SetInputTarget(id, label));\n        }\n    }\n    function sendInputValue(id, node) {\n        let value = node.value;\n        let inputMode = options.defaultInputMode;\n        if (node.type === 'password' || hasOpenreplayAttribute(node, 'hidden')) {\n            inputMode = 2 /* Hidden */;\n        }\n        else if (hasOpenreplayAttribute(node, 'obscured') ||\n            (inputMode === 0 /* Plain */ &&\n                ((options.obscureInputNumbers && node.type !== 'date' && /\\d\\d\\d\\d/.test(value)) ||\n                    (options.obscureInputDates && node.type === 'date') ||\n                    (options.obscureInputEmails &&\n                        (node.type === 'email' || !!~value.indexOf('@')))))) {\n            inputMode = 1 /* Obscured */;\n        }\n        let mask = 0;\n        switch (inputMode) {\n            case 2 /* Hidden */:\n                mask = -1;\n                value = '';\n                break;\n            case 1 /* Obscured */:\n                mask = value.length;\n                value = '';\n                break;\n        }\n        app.send(new SetInputValue(id, value, mask));\n    }\n    const inputValues = new Map();\n    const checkableValues = new Map();\n    const registeredTargets = new Set();\n    app.attachStopCallback(() => {\n        inputValues.clear();\n        checkableValues.clear();\n        registeredTargets.clear();\n    });\n    app.ticker.attach(() => {\n        inputValues.forEach((value, id) => {\n            const node = app.nodes.getNode(id);\n            if (!node)\n                return;\n            if (!isTextEditable(node)) {\n                inputValues.delete(id);\n                return;\n            }\n            if (value !== node.value) {\n                inputValues.set(id, node.value);\n                if (!registeredTargets.has(id)) {\n                    registeredTargets.add(id);\n                    sendInputTarget(id, node);\n                }\n                sendInputValue(id, node);\n            }\n        });\n        checkableValues.forEach((checked, id) => {\n            const node = app.nodes.getNode(id);\n            if (!node)\n                return;\n            if (!isCheckable(node)) {\n                checkableValues.delete(id);\n                return;\n            }\n            if (checked !== node.checked) {\n                checkableValues.set(id, node.checked);\n                app.send(new SetInputChecked(id, node.checked));\n            }\n        });\n    });\n    app.ticker.attach(Set.prototype.clear, 100, false, registeredTargets);\n    app.nodes.attachNodeCallback(app.safe((node) => {\n        const id = app.nodes.getID(node);\n        if (id === undefined) {\n            return;\n        }\n        // TODO: support multiple select (?): use selectedOptions; Need send target?\n        if (hasTag(node, \"SELECT\")) {\n            sendInputValue(id, node);\n            app.attachEventListener(node, \"change\", () => {\n                sendInputValue(id, node);\n            });\n        }\n        if (isTextEditable(node)) {\n            inputValues.set(id, node.value);\n            sendInputValue(id, node);\n            return;\n        }\n        if (isCheckable(node)) {\n            checkableValues.set(id, node.checked);\n            app.send(new SetInputChecked(id, node.checked));\n            return;\n        }\n    }));\n}\n","import { hasTag, isSVGElement } from \"../app/guards.js\";\nimport { normSpaces, hasOpenreplayAttribute, getLabelAttribute, } from \"../utils.js\";\nimport { MouseMove, MouseClick } from \"../common/messages.js\";\nimport { getInputLabel } from \"./input.js\";\nfunction _getSelector(target) {\n    let el = target;\n    let selector = null;\n    do {\n        if (el.id) {\n            return `#${el.id}` + (selector ? ` > ${selector}` : '');\n        }\n        selector =\n            el.className.split(' ')\n                .map(cn => cn.trim())\n                .filter(cn => cn !== '')\n                .reduce((sel, cn) => `${sel}.${cn}`, el.tagName.toLowerCase()) +\n                (selector ? ` > ${selector}` : '');\n        if (el === document.body) {\n            return selector;\n        }\n        el = el.parentElement;\n    } while (el !== document.body && el !== null);\n    return selector;\n}\nfunction isClickable(element) {\n    const tag = element.tagName.toUpperCase();\n    return tag === 'BUTTON' ||\n        tag === 'A' ||\n        tag === 'LI' ||\n        tag === 'SELECT' ||\n        element.onclick != null ||\n        element.getAttribute('role') === 'button';\n    //|| element.className.includes(\"btn\")\n    // MBTODO: intersect addEventListener\n}\n//TODO: fix (typescript doesn't allow work when the guard is inside the function)\nfunction getTarget(target) {\n    if (target instanceof Element) {\n        return _getTarget(target);\n    }\n    return null;\n}\nfunction _getTarget(target) {\n    let element = target;\n    while (element !== null && element !== document.documentElement) {\n        if (hasOpenreplayAttribute(element, 'masked')) {\n            return null;\n        }\n        element = element.parentElement;\n    }\n    if (isSVGElement(target)) {\n        let owner = target.ownerSVGElement;\n        while (owner !== null) {\n            target = owner;\n            owner = owner.ownerSVGElement;\n        }\n    }\n    element = target;\n    while (element !== null && element !== document.documentElement) {\n        const tag = element.tagName.toUpperCase();\n        if (tag === 'LABEL') {\n            return null;\n        }\n        if (tag === 'INPUT') {\n            return element;\n        }\n        if (isClickable(element) ||\n            getLabelAttribute(element) !== null) {\n            return element;\n        }\n        element = element.parentElement;\n    }\n    return target === document.documentElement ? null : target;\n}\nexport default function (app) {\n    function getTargetLabel(target) {\n        const dl = getLabelAttribute(target);\n        if (dl !== null) {\n            return dl;\n        }\n        if (hasTag(target, \"INPUT\")) {\n            return getInputLabel(target);\n        }\n        if (isClickable(target)) {\n            let label = '';\n            if (target instanceof HTMLElement) {\n                label = app.sanitizer.getInnerTextSecure(target);\n            }\n            label = label || target.id || target.className;\n            return normSpaces(label).slice(0, 100);\n        }\n        return '';\n    }\n    let mousePositionX = -1;\n    let mousePositionY = -1;\n    let mousePositionChanged = false;\n    let mouseTarget = null;\n    let mouseTargetTime = 0;\n    app.attachStopCallback(() => {\n        mousePositionX = -1;\n        mousePositionY = -1;\n        mousePositionChanged = false;\n        mouseTarget = null;\n    });\n    const sendMouseMove = () => {\n        if (mousePositionChanged) {\n            app.send(new MouseMove(mousePositionX, mousePositionY));\n            mousePositionChanged = false;\n        }\n    };\n    const selectorMap = {};\n    function getSelector(id, target) {\n        return selectorMap[id] = selectorMap[id] || _getSelector(target);\n    }\n    app.attachEventListener(document.documentElement, 'mouseover', (e) => {\n        const target = getTarget(e.target);\n        if (target !== mouseTarget) {\n            mouseTarget = target;\n            mouseTargetTime = performance.now();\n        }\n    });\n    app.attachEventListener(document, 'mousemove', (e) => {\n        mousePositionX = e.clientX;\n        mousePositionY = e.clientY;\n        mousePositionChanged = true;\n    }, false);\n    app.attachEventListener(document, 'click', (e) => {\n        const target = getTarget(e.target);\n        if ((!e.clientX && !e.clientY) || target === null) {\n            return;\n        }\n        const id = app.nodes.getID(target);\n        if (id !== undefined) {\n            sendMouseMove();\n            app.send(new MouseClick(id, mouseTarget === target\n                ? Math.round(performance.now() - mouseTargetTime)\n                : 0, getTargetLabel(target), getSelector(id, target)), true);\n        }\n        mouseTarget = null;\n    });\n    app.ticker.attach(sendMouseMove, 10);\n}\n","import { hasTag } from \"../app/guards.js\";\nimport { isURL } from \"../utils.js\";\nimport { ResourceTiming, PageLoadTiming, PageRenderTiming } from \"../common/messages.js\";\nfunction getPaintBlocks(resources) {\n    const paintBlocks = [];\n    const elements = document.getElementsByTagName('*');\n    const styleURL = /url\\((\"[^\"]*\"|'[^']*'|[^)]*)\\)/i;\n    for (let i = 0; i < elements.length; i++) {\n        const element = elements[i];\n        let src = '';\n        if (hasTag(element, \"IMG\")) {\n            src = element.currentSrc || element.src;\n        }\n        if (!src) {\n            const backgroundImage = getComputedStyle(element).getPropertyValue('background-image');\n            if (backgroundImage) {\n                const matches = styleURL.exec(backgroundImage);\n                if (matches !== null) {\n                    src = matches[1];\n                    if (src.startsWith('\"') || src.startsWith(\"'\")) {\n                        src = src.substr(1, src.length - 2);\n                    }\n                }\n            }\n        }\n        if (!src)\n            continue;\n        const time = src.substr(0, 10) === 'data:image' ? 0 : resources[src];\n        if (time === undefined)\n            continue;\n        const rect = element.getBoundingClientRect();\n        const top = Math.max(rect.top, 0);\n        const left = Math.max(rect.left, 0);\n        const bottom = Math.min(rect.bottom, window.innerHeight ||\n            (document.documentElement && document.documentElement.clientHeight) ||\n            0);\n        const right = Math.min(rect.right, window.innerWidth ||\n            (document.documentElement && document.documentElement.clientWidth) ||\n            0);\n        if (bottom <= top || right <= left)\n            continue;\n        const area = (bottom - top) * (right - left);\n        paintBlocks.push({ time, area });\n    }\n    return paintBlocks;\n}\nfunction calculateSpeedIndex(firstContentfulPaint, paintBlocks) {\n    let a = (Math.max((document.documentElement && document.documentElement.clientWidth) || 0, window.innerWidth || 0) *\n        Math.max((document.documentElement && document.documentElement.clientHeight) ||\n            0, window.innerHeight || 0)) /\n        10;\n    let s = a * firstContentfulPaint;\n    for (let i = 0; i < paintBlocks.length; i++) {\n        const { time, area } = paintBlocks[i];\n        a += area;\n        s += area * (time > firstContentfulPaint ? time : firstContentfulPaint);\n    }\n    return a === 0 ? 0 : s / a;\n}\nexport default function (app, opts) {\n    const options = Object.assign({\n        captureResourceTimings: true,\n        capturePageLoadTimings: true,\n        capturePageRenderTimings: true,\n    }, opts);\n    if (!('PerformanceObserver' in window)) {\n        options.captureResourceTimings = false;\n    }\n    if (!options.captureResourceTimings) {\n        return;\n    } // Resources are necessary for all timings\n    let resources = {};\n    function resourceTiming(entry) {\n        if (entry.duration < 0 || !isURL(entry.name) || app.isServiceURL(entry.name))\n            return;\n        if (resources !== null) {\n            resources[entry.name] = entry.startTime + entry.duration;\n        }\n        app.send(new ResourceTiming(entry.startTime + performance.timing.navigationStart, entry.duration, entry.responseStart && entry.startTime\n            ? entry.responseStart - entry.startTime\n            : 0, entry.transferSize > entry.encodedBodySize\n            ? entry.transferSize - entry.encodedBodySize\n            : 0, entry.encodedBodySize || 0, entry.decodedBodySize || 0, entry.name, entry.initiatorType));\n    }\n    const observer = new PerformanceObserver((list) => list.getEntries().forEach(resourceTiming));\n    let prevSessionID;\n    app.attachStartCallback(function ({ sessionID }) {\n        if (sessionID !== prevSessionID) { // Send past page resources on a newly started session\n            performance.getEntriesByType('resource').forEach(resourceTiming);\n            prevSessionID = sessionID;\n        }\n        observer.observe({ entryTypes: ['resource'] });\n    });\n    app.attachStopCallback(function () {\n        observer.disconnect();\n    });\n    let firstPaint = 0, firstContentfulPaint = 0;\n    if (options.capturePageLoadTimings) {\n        let pageLoadTimingSent = false;\n        app.ticker.attach(() => {\n            if (pageLoadTimingSent) {\n                return;\n            }\n            if (firstPaint === 0 || firstContentfulPaint === 0) {\n                performance\n                    .getEntriesByType('paint')\n                    .forEach((entry) => {\n                    const { name, startTime } = entry;\n                    switch (name) {\n                        case 'first-paint':\n                            firstPaint = startTime;\n                            break;\n                        case 'first-contentful-paint':\n                            firstContentfulPaint = startTime;\n                            break;\n                    }\n                });\n            }\n            if (performance.timing.loadEventEnd || performance.now() > 30000) {\n                pageLoadTimingSent = true;\n                const { navigationStart, requestStart, responseStart, responseEnd, domContentLoadedEventStart, domContentLoadedEventEnd, loadEventStart, loadEventEnd, } = performance.timing;\n                app.send(new PageLoadTiming(requestStart - navigationStart || 0, responseStart - navigationStart || 0, responseEnd - navigationStart || 0, domContentLoadedEventStart - navigationStart || 0, domContentLoadedEventEnd - navigationStart || 0, loadEventStart - navigationStart || 0, loadEventEnd - navigationStart || 0, firstPaint, firstContentfulPaint));\n            }\n        }, 30);\n    }\n    if (options.capturePageRenderTimings) {\n        let visuallyComplete = 0, interactiveWindowStartTime = 0, interactiveWindowTickTime = 0, paintBlocks = null;\n        let pageRenderTimingSent = false;\n        app.ticker.attach(() => {\n            if (pageRenderTimingSent) {\n                return;\n            }\n            const time = performance.now();\n            if (resources !== null) {\n                visuallyComplete = Math.max.apply(null, Object.keys(resources).map((k) => resources[k]));\n                if (time - visuallyComplete > 1000) {\n                    paintBlocks = getPaintBlocks(resources);\n                    resources = null;\n                }\n            }\n            if (interactiveWindowTickTime !== null) {\n                if (time - interactiveWindowTickTime > 50) {\n                    interactiveWindowStartTime = time;\n                }\n                interactiveWindowTickTime =\n                    time - interactiveWindowStartTime > 5000 ? null : time;\n            }\n            if ((paintBlocks !== null && interactiveWindowTickTime === null) ||\n                time > 30000) {\n                pageRenderTimingSent = true;\n                resources = null;\n                const speedIndex = paintBlocks === null\n                    ? 0\n                    : calculateSpeedIndex(firstContentfulPaint || firstPaint, paintBlocks);\n                const timeToInteractive = interactiveWindowTickTime === null\n                    ? Math.max(interactiveWindowStartTime, firstContentfulPaint, performance.timing.domContentLoadedEventEnd -\n                        performance.timing.navigationStart || 0)\n                    : 0;\n                app.send(new PageRenderTiming(speedIndex, firstContentfulPaint > visuallyComplete\n                    ? firstContentfulPaint\n                    : visuallyComplete, timeToInteractive));\n            }\n        });\n    }\n}\n","import App, { DEFAULT_INGEST_POINT } from \"./app/index.js\";\nexport { default as App } from './app/index.js';\nimport { UserAnonymousID, RawCustomEvent, CustomIssue } from \"./common/messages.js\";\nimport * as _Messages from \"./common/messages.js\";\nexport const Messages = _Messages;\nimport Connection from \"./modules/connection.js\";\nimport Console from \"./modules/console.js\";\nimport Exception, { getExceptionMessageFromEvent, getExceptionMessage } from \"./modules/exception.js\";\nimport Img from \"./modules/img.js\";\nimport Input from \"./modules/input.js\";\nimport Mouse from \"./modules/mouse.js\";\nimport Timing from \"./modules/timing.js\";\nimport Performance from \"./modules/performance.js\";\nimport Scroll from \"./modules/scroll.js\";\nimport Viewport from \"./modules/viewport.js\";\nimport CSSRules from \"./modules/cssrules.js\";\nimport { IN_BROWSER, deprecationWarn, DOCS_HOST } from \"./utils.js\";\nconst DOCS_SETUP = '/installation/setup-or';\nfunction processOptions(obj) {\n    if (obj == null) {\n        console.error(`OpenReplay: invalid options argument type. Please, check documentation on ${DOCS_HOST}${DOCS_SETUP}`);\n        return false;\n    }\n    if (typeof obj.projectKey !== 'string') {\n        if (typeof obj.projectKey !== 'number') {\n            if (typeof obj.projectID !== 'number') { // Back compatability\n                console.error(`OpenReplay: projectKey is missing or wrong type (string is expected). Please, check ${DOCS_HOST}${DOCS_SETUP} for more information.`);\n                return false;\n            }\n            else {\n                obj.projectKey = obj.projectID.toString();\n                deprecationWarn(\"`projectID` option\", \"`projectKey` option\", DOCS_SETUP);\n            }\n        }\n        else {\n            console.warn(\"OpenReplay: projectKey is expected to have a string type.\");\n            obj.projectKey = obj.projectKey.toString();\n        }\n    }\n    if (typeof obj.sessionToken !== 'string' && obj.sessionToken != null) {\n        console.warn(`OpenReplay: invalid options argument type. Please, check documentation on ${DOCS_HOST}${DOCS_SETUP}`);\n    }\n    return true;\n}\nexport default class API {\n    constructor(options) {\n        this.options = options;\n        this.app = null;\n        this.handleError = (e) => {\n            if (this.app === null) {\n                return;\n            }\n            if (e instanceof Error) {\n                this.app.send(getExceptionMessage(e, []));\n            }\n            else if (e instanceof ErrorEvent ||\n                ('PromiseRejectionEvent' in window && e instanceof PromiseRejectionEvent)) {\n                const msg = getExceptionMessageFromEvent(e);\n                if (msg != null) {\n                    this.app.send(msg);\n                }\n            }\n        };\n        if (!IN_BROWSER || !processOptions(options)) {\n            return;\n        }\n        if (window.__OPENREPLAY__) {\n            console.error(\"OpenReplay: one tracker instance has been initialised already\");\n            return;\n        }\n        if (!options.__DISABLE_SECURE_MODE && location.protocol !== 'https:') {\n            console.error(\"OpenReplay: Your website must be publicly accessible and running on SSL in order for OpenReplay to properly capture and replay the user session. You can disable this check by setting `__DISABLE_SECURE_MODE` option to `true` if you are testing in localhost. Keep in mind, that asset files on a local machine are not available to the outside world. This might affect tracking if you use css files.\");\n            return;\n        }\n        const doNotTrack = options.respectDoNotTrack &&\n            (navigator.doNotTrack == '1'\n                // @ts-ignore\n                || window.doNotTrack == '1');\n        const app = this.app = doNotTrack ||\n            !('Map' in window) ||\n            !('Set' in window) ||\n            !('MutationObserver' in window) ||\n            !('performance' in window) ||\n            !('timing' in performance) ||\n            !('startsWith' in String.prototype) ||\n            !('Blob' in window) ||\n            !('Worker' in window)\n            ? null\n            : new App(options.projectKey, options.sessionToken, options);\n        if (app !== null) {\n            Viewport(app);\n            CSSRules(app);\n            Connection(app);\n            Console(app, options);\n            Exception(app, options);\n            Img(app);\n            Input(app, options);\n            Mouse(app);\n            Timing(app, options);\n            Performance(app, options);\n            Scroll(app);\n            window.__OPENREPLAY__ = this;\n            if (options.autoResetOnWindowOpen) {\n                const wOpen = window.open;\n                app.attachStartCallback(() => {\n                    // @ts-ignore ?\n                    window.open = function (...args) {\n                        app.resetNextPageSession(true);\n                        wOpen.call(window, ...args);\n                        app.resetNextPageSession(false);\n                    };\n                });\n                app.attachStopCallback(() => {\n                    window.open = wOpen;\n                });\n            }\n        }\n        else {\n            console.log(\"OpenReplay: browser doesn't support API required for tracking or doNotTrack is set to 1.\");\n            const req = new XMLHttpRequest();\n            const orig = options.ingestPoint || DEFAULT_INGEST_POINT;\n            req.open(\"POST\", orig + \"/v1/web/not-started\");\n            // no-cors issue only with text/plain or not-set Content-Type\n            // req.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n            req.send(JSON.stringify({\n                trackerVersion: '3.5.16',\n                projectKey: options.projectKey,\n                doNotTrack,\n                // TODO: add precise reason (an exact API missing)\n            }));\n        }\n    }\n    use(fn) {\n        return fn(this.app, this.options);\n    }\n    isActive() {\n        if (this.app === null) {\n            return false;\n        }\n        return this.app.active();\n    }\n    start(startOpts) {\n        if (!IN_BROWSER) {\n            console.error(`OpenReplay: you are trying to start Tracker on a node.js environment. If you want to use OpenReplay with SSR, please, use componentDidMount or useEffect API for placing the \\`tracker.start()\\` line. Check documentation on ${DOCS_HOST}${DOCS_SETUP}`);\n            return Promise.reject(\"Trying to start not in browser.\");\n        }\n        if (this.app === null) {\n            return Promise.reject(\"Browser doesn't support required api, or doNotTrack is active.\");\n        }\n        // TODO: check argument type\n        return this.app.start(startOpts);\n    }\n    stop() {\n        if (this.app === null) {\n            return;\n        }\n        this.app.stop(true);\n    }\n    getSessionToken() {\n        if (this.app === null) {\n            return null;\n        }\n        return this.app.getSessionToken();\n    }\n    getSessionID() {\n        if (this.app === null) {\n            return null;\n        }\n        return this.app.getSessionID();\n    }\n    sessionID() {\n        deprecationWarn(\"'sessionID' method\", \"'getSessionID' method\", \"/\");\n        return this.getSessionID();\n    }\n    setUserID(id) {\n        if (typeof id === 'string' && this.app !== null) {\n            this.app.session.setUserID(id);\n        }\n    }\n    userID(id) {\n        deprecationWarn(\"'userID' method\", \"'setUserID' method\", \"/\");\n        this.setUserID(id);\n    }\n    setUserAnonymousID(id) {\n        if (typeof id === 'string' && this.app !== null) {\n            this.app.send(new UserAnonymousID(id));\n        }\n    }\n    userAnonymousID(id) {\n        deprecationWarn(\"'userAnonymousID' method\", \"'setUserAnonymousID' method\", \"/\");\n        this.setUserAnonymousID(id);\n    }\n    setMetadata(key, value) {\n        if (typeof key === 'string' &&\n            typeof value === 'string' &&\n            this.app !== null) {\n            this.app.session.setMetadata(key, value);\n        }\n    }\n    metadata(key, value) {\n        deprecationWarn(\"'metadata' method\", \"'setMetadata' method\", \"/\");\n        this.setMetadata(key, value);\n    }\n    event(key, payload, issue = false) {\n        if (typeof key === 'string' && this.app !== null) {\n            if (issue) {\n                return this.issue(key, payload);\n            }\n            else {\n                try {\n                    payload = JSON.stringify(payload);\n                }\n                catch (e) {\n                    return;\n                }\n                this.app.send(new RawCustomEvent(key, payload));\n            }\n        }\n    }\n    issue(key, payload) {\n        if (typeof key === 'string' && this.app !== null) {\n            try {\n                payload = JSON.stringify(payload);\n            }\n            catch (e) {\n                return;\n            }\n            this.app.send(new CustomIssue(key, payload));\n        }\n    }\n}\n","import { SetPageLocation, SetViewportSize, SetPageVisibility, } from \"../common/messages.js\";\nexport default function (app) {\n    let url, width, height;\n    let navigationStart = performance.timing.navigationStart;\n    const sendSetPageLocation = app.safe(() => {\n        const { URL } = document;\n        if (URL !== url) {\n            url = URL;\n            app.send(new SetPageLocation(url, document.referrer, navigationStart));\n            navigationStart = 0;\n        }\n    });\n    const sendSetViewportSize = app.safe(() => {\n        const { innerWidth, innerHeight } = window;\n        if (innerWidth !== width || innerHeight !== height) {\n            width = innerWidth;\n            height = innerHeight;\n            app.send(new SetViewportSize(width, height));\n        }\n    });\n    const sendSetPageVisibility = document.hidden === undefined\n        ? Function.prototype\n        : app.safe(() => app.send(new SetPageVisibility(document.hidden)));\n    app.attachStartCallback(() => {\n        url = '';\n        width = height = -1;\n        sendSetPageLocation();\n        sendSetViewportSize();\n        sendSetPageVisibility();\n    });\n    if (document.hidden !== undefined) {\n        app.attachEventListener(document, 'visibilitychange', sendSetPageVisibility, false, false);\n    }\n    app.ticker.attach(sendSetPageLocation, 1, false);\n    app.ticker.attach(sendSetViewportSize, 5, false);\n}\n","import { CSSInsertRuleURLBased, CSSDeleteRule, TechnicalInfo } from \"../common/messages.js\";\nimport { hasTag } from \"../app/guards.js\";\nexport default function (app) {\n    if (app === null) {\n        return;\n    }\n    if (!window.CSSStyleSheet) {\n        app.send(new TechnicalInfo(\"no_stylesheet_prototype_in_window\", \"\"));\n        return;\n    }\n    const processOperation = app.safe((stylesheet, index, rule) => {\n        const sendMessage = typeof rule === 'string'\n            ? (nodeID) => app.send(new CSSInsertRuleURLBased(nodeID, rule, index, app.getBaseHref()))\n            : (nodeID) => app.send(new CSSDeleteRule(nodeID, index));\n        // TODO: Extend messages to maintain nested rules (CSSGroupingRule prototype, as well as CSSKeyframesRule)\n        if (stylesheet.ownerNode == null) {\n            throw new Error(\"Owner Node not found\");\n        }\n        const nodeID = app.nodes.getID(stylesheet.ownerNode);\n        if (nodeID !== undefined) {\n            sendMessage(nodeID);\n        } // else error?\n    });\n    const { insertRule, deleteRule } = CSSStyleSheet.prototype;\n    CSSStyleSheet.prototype.insertRule = function (rule, index = 0) {\n        processOperation(this, index, rule);\n        return insertRule.call(this, rule, index);\n    };\n    CSSStyleSheet.prototype.deleteRule = function (index) {\n        processOperation(this, index);\n        return deleteRule.call(this, index);\n    };\n    app.nodes.attachNodeCallback((node) => {\n        if (!hasTag(node, \"STYLE\") || !node.sheet) {\n            return;\n        }\n        if (node.textContent !== null && node.textContent.trim().length > 0) {\n            return; // Only fully virtual sheets maintained so far\n        }\n        const rules = node.sheet.cssRules;\n        for (let i = 0; i < rules.length; i++) {\n            processOperation(node.sheet, i, rules[i].cssText);\n        }\n    });\n}\n","import { ConnectionInformation } from \"../common/messages.js\";\nexport default function (app) {\n    const connection = navigator.connection ||\n        navigator.mozConnection ||\n        navigator.webkitConnection;\n    if (connection === undefined) {\n        return;\n    }\n    const sendConnectionInformation = () => app.send(new ConnectionInformation(Math.round(connection.downlink * 1000), connection.type || 'unknown'));\n    sendConnectionInformation();\n    connection.addEventListener('change', sendConnectionInformation);\n}\n","import { SetViewportScroll, SetNodeScroll } from \"../common/messages.js\";\nimport { isElementNode } from \"../app/guards.js\";\nexport default function (app) {\n    let documentScroll = false;\n    const nodeScroll = new Map();\n    const sendSetViewportScroll = app.safe(() => app.send(new SetViewportScroll(window.pageXOffset ||\n        (document.documentElement && document.documentElement.scrollLeft) ||\n        (document.body && document.body.scrollLeft) ||\n        0, window.pageYOffset ||\n        (document.documentElement && document.documentElement.scrollTop) ||\n        (document.body && document.body.scrollTop) ||\n        0)));\n    const sendSetNodeScroll = app.safe((s, node) => {\n        const id = app.nodes.getID(node);\n        if (id !== undefined) {\n            app.send(new SetNodeScroll(id, s[0], s[1]));\n        }\n    });\n    app.attachStartCallback(sendSetViewportScroll);\n    app.attachStopCallback(() => {\n        documentScroll = false;\n        nodeScroll.clear();\n    });\n    app.nodes.attachNodeCallback((node, isStart) => {\n        if (isStart && isElementNode(node) && node.scrollLeft + node.scrollTop > 0) {\n            nodeScroll.set(node, [node.scrollLeft, node.scrollTop]);\n        }\n    });\n    app.attachEventListener(window, 'scroll', (e) => {\n        const target = e.target;\n        if (target === document) {\n            documentScroll = true;\n            return;\n        }\n        if (target instanceof Element) {\n            nodeScroll.set(target, [target.scrollLeft, target.scrollTop]);\n        }\n    });\n    app.ticker.attach(() => {\n        if (documentScroll) {\n            sendSetViewportScroll();\n            documentScroll = false;\n        }\n        nodeScroll.forEach(sendSetNodeScroll);\n        nodeScroll.clear();\n    }, 5, false);\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Libraries\nimport Tracker, { Options } from \"@openreplay/tracker\";\nimport { v4 as uuidV4 } from \"uuid\";\nexport interface IOpenReplayConfig extends Options {\n  projectKey: string;\n}\n\nexport interface IPayload {\n  name: string;\n  data: any;\n}\n\nexport type ReportError = Error | PromiseRejectedResult | ErrorEvent;\n\nexport interface IOpenReplayAction {\n  type: string;\n  payload?: IPayload | ReportError | string;\n}\n\nconst userId = uuidV4();\n\nconst newTracker = (config: IOpenReplayConfig) => {\n  const tracker = new Tracker(config);\n  tracker.setUserID(userId);\n  import(\"@openreplay/tracker-assist\").then(({ default: trackerAssist }) => {\n    tracker.use(\n      trackerAssist({\n        callConfirm: {\n          text: \"Our support team wants to help you\",\n          confirmBtn: {\n            innerHTML: \"👍 Accept\",\n          },\n          declineBtn: {\n            innerHTML: \"❌ Not at this moment\",\n          },\n        },\n        controlConfirm: {\n          text: \"Would you mind letting us control your application?\",\n          confirmBtn: {\n            innerHTML: \"👍 Accept\",\n          },\n          declineBtn: {\n            innerHTML: \"❌ Not at this moment\",\n          },\n        },\n      })\n    );\n  });\n\n  return tracker;\n};\n\nconst openReplayReducer = (state: any, action: IOpenReplayAction) => {\n  switch (action.type) {\n    case \"init\": {\n      if (!state.tracker) {\n        return { ...state, tracker: newTracker(state.config) };\n      }\n      return state;\n    }\n    case \"start\": {\n      state.tracker.start();\n      return state;\n    }\n    case \"logEvent\": {\n      const { name, data } = action.payload as IPayload;\n      state.tracker?.event(name, data);\n      return state;\n    }\n    case \"logIssue\": {\n      const { name, data } = action.payload as IPayload;\n      state.tracker?.issue(name, data);\n      return state;\n    }\n    case \"reportError\": {\n      const error = action.payload as ReportError;\n      state.tracker?.handleError(error);\n      return state;\n    }\n  }\n};\n\nexport default openReplayReducer;\n","// Libraries\nimport { ReactNode } from \"react\";\nimport { useReducer } from \"react\";\n\n// OpenReplay\nimport TrackerContext from \"./context\";\nimport openReplayReducer, {\n  IOpenReplayConfig,\n  IPayload,\n  ReportError,\n} from \"./reducer\";\n\ninterface TrackerProviderProps {\n  children: ReactNode;\n  config: Partial<IOpenReplayConfig>;\n}\n\nconst TrackerProvider = ({ children, config = {} }: TrackerProviderProps) => {\n  const [, dispatch] = useReducer(openReplayReducer, {\n    tracker: null,\n    config,\n  });\n  const value = {\n    startTracking: () => dispatch({ type: \"start\" }),\n    initTracker: () => dispatch({ type: \"init\" }),\n    logEvent: (evnt: IPayload) => dispatch({ type: \"logEvent\", payload: evnt }),\n    logIssue: (evnt: IPayload) => dispatch({ type: \"logIssue\", payload: evnt }),\n    reportError: (error: ReportError) =>\n      dispatch({ type: \"reportError\", payload: error }),\n  };\n\n  return (\n    <TrackerContext.Provider value={value}>{children}</TrackerContext.Provider>\n  );\n};\n\nexport default TrackerProvider;\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var objectProps = ['evalOrigin'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import defineProperty from './_define_property.mjs';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\n\nexport default function _objectSpreadProps(target, source) {\n  source = source != null ? source : {}\n  if (Object.getOwnPropertyDescriptors) {\n    Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n  } else {\n    ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(\n        target,\n        key,\n        Object.getOwnPropertyDescriptor(source, key)\n      );\n    });\n  }\n\n  return target;\n}"],"names":["StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parse","error","stacktrace","this","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","Error","extractLocation","urlLike","indexOf","parts","exec","replace","undefined","split","filter","line","map","sanitizedLine","location","locationParts","functionName","fileName","lineNumber","columnNumber","source","functionNameRegex","matches","e","message","length","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","result","i","len","push","argsRaw","tokens","pop","functionCall","shift","args","window","__NEXT_P","Component","pageProps","TrackerProvider","config","projectKey","createContext","startTracking","initTracker","logEvent","logIssue","reportError","bindNew","Class","_Class","prototype","classes","Map","BatchMeta","constructor","pageNo","firstIndex","timestamp","_id","encode","writer","uint","int","set","Timestamp","SetPageLocation","url","referrer","navigationStart","string","SetViewportSize","width","height","SetViewportScroll","x","y","CreateDocument","CreateElementNode","id","parentID","index","tag","svg","boolean","CreateTextNode","MoveNode","RemoveNode","SetNodeAttribute","name","value","RemoveNodeAttribute","SetNodeData","data","SetNodeScroll","SetInputTarget","label","SetInputValue","mask","SetInputChecked","checked","MouseMove","ConsoleLog","level","PageLoadTiming","requestStart","responseStart","responseEnd","domContentLoadedEventStart","domContentLoadedEventEnd","loadEventStart","loadEventEnd","firstPaint","firstContentfulPaint","PageRenderTiming","speedIndex","visuallyComplete","timeToInteractive","JSException","payload","RawCustomEvent","UserID","UserAnonymousID","Metadata","key","CSSInsertRule","rule","CSSDeleteRule","Fetch","method","request","response","status","duration","Profiler","OTable","StateAction","type","Redux","action","state","Vuex","mutation","MobX","NgRx","GraphQL","operationKind","operationName","variables","PerformanceTrack","frames","ticks","totalJSHeapSize","usedJSHeapSize","ResourceTiming","ttfb","headerSize","encodedBodySize","decodedBodySize","initiator","ConnectionInformation","downlink","SetPageVisibility","hidden","LongTask","context","containerType","containerSrc","containerId","containerName","SetNodeAttributeURLBased","baseURL","SetCSSDataURLBased","TechnicalInfo","CustomIssue","PageClose","CSSInsertRuleURLBased","MouseClick","hesitationTime","selector","CreateIFrameDocument","frameID","Math","round","performance","now","timing","stars","String","str","repeat","normSpaces","trim","isURL","s","startsWith","IN_BROWSER","DOCS_HOST","warnedFeatures","deprecationWarn","nameOfFeature","useInstead","docsPath","console","warn","getLabelAttribute","getAttribute","hasOpenreplayAttribute","newName","hasAttribute","oldName","Nodes","node_id","nodes","nodeCallbacks","elementListeners","attachNodeCallback","nodeCallback","attachElementListener","node","elementListener","getID","addEventListener","listeners","get","registerNode","isNew","unregisterNode","delete","forEach","listener","removeEventListener","cleanTree","document","contains","callNodeCallbacks","isStart","cb","getNode","clear","isSVGElement","namespaceURI","isElementNode","nodeType","Node","ELEMENT_NODE","isTextNode","TEXT_NODE","isRootNode","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","hasTag","el","tagName","nodeName","isIgnored","toUpperCase","rel","as","includes","isObservable","RecentsType","Observer","app","isTopContext","commited","recents","indexes","attributesMap","textSet","Set","observer","MutationObserver","safe","mutations","target","removedNodes","bindTree","addedNodes","has","Changed","add","attributeName","attr","commitNodes","sendNodeAttribute","substr","send","getBaseHref","sendNodeData","parentElement","sanitizer","sanitize","bindNode","New","Removed","unbindChildNode","RemovedChild","isChildUnbinding","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","SHOW_TEXT","acceptNode","FILTER_REJECT","FILTER_ACCEPT","nextNode","currentNode","unbindNode","_commitNode","parent","parentNode","commitNode","handleNode","isMaskedContainer","sibling","previousSibling","siblingID","recentsType","clientWidth","clientHeight","cloneNode","style","attributes","cmt","observeRoot","beforeCommit","nodeToBind","observe","childList","characterData","subtree","attributeOldValue","characterDataOldValue","disconnect","IFrameObserver","iframe","doc","contentDocument","hostID","docID","log","ShadowRootObserver","shRoot","shadowRoot","rootID","attachShadowNativeFn","Element","attachShadow","ShadowRoot","TopObserver","options","super","iframeObservers","shadowRootObservers","Object","assign","captureIFrames","handleIframe","handleShadowRoot","handle","contentWindow","host","shadow","apply","arguments","documentElement","o","Sanitizer","masked","maskedContainers","obscureTextEmails","obscureTextNumbers","f","isMasked","getInnerTextSecure","innerText","Ticker","timer","callbacks","attach","callback","n","useSafe","thisArg","bind","unshift","t","wrap","start","setInterval","stop","clearInterval","LogLevel","IsCustomLevel","l","Logger","Session","metadata","userID","sessionID","attachUpdateCallback","handleUpdate","newInfo","update","entries","k","v","setMetadata","setUserID","getInfo","reset","perf","memory","deviceMemory","navigator","jsHeapSizeLimit","CANCELED","UnsuccessfulStart","reason","success","ActivityState","DEFAULT_INGEST_POINT","App","sessionToken","messages","startCallbacks","stopCallbacks","commitCallbacks","activityState","NotActive","version","revID","session_token_key","session_pageno_key","session_reset_key","local_uuid_key","ingestPoint","resourceBaseHref","verbose","__is_snippet","__debug_report_edp","localStorage","sessionStorage","ticker","commit","debug","__debug__","notify","session","setItem","worker","Worker","URL","createObjectURL","Blob","onerror","_debug","onmessage","forceNew","alertWorker","postMessage","attachEventListener","body","fetch","headers","JSON","stringify","urgent","Active","fn","attachCommitCallback","attachStartCallback","attachStopCallback","useCapture","checkRequiredVersion","reqVer","ver","Number","isNaN","getStartInfo","userUUID","getItem","trackerVersion","isSnippet","getSessionInfo","getSessionToken","token","getSessionID","getHost","hostname","getProjectKey","_a","_b","baseURI","head","getElementsByTagName","origin","pathname","resolveResourceURL","resourceURL","base","toString","isServiceURL","active","resetNextPageSession","flag","removeItem","_start","startOpts","Promise","resolve","Starting","pageNoStr","parseInt","startInfo","startWorkerMsg","connAttemptCount","connAttemptGap","sReset","then","r","json","text","reject","beaconSizeLimit","onStartInfo","onStart","catch","onVisibilityChange","calledFromAPI","restarting","restart","printError","printString","arg","Array","isArray","printObject","slice","join","res","printf","printFloat","floor","printInt","consoleMethods","getDefaultStack","colno","lineno","filename","getExceptionMessage","fallbackStack","getExceptionMessageFromEvent","ErrorEvent","PromiseRejectionEvent","_","resolveURL","sendImgSrc","src","complete","naturalWidth","naturalHeight","srcset","resolvedSrc","getBoundingClientRect","sendPlaceholder","resolvedSrcset","call","attributeFilter","INPUT_TYPES","isTextEditable","isCheckable","labelElementFor","HTMLInputElement","p","labels","querySelectorAll","getInputLabel","labelElement","placeholder","className","opts","obscureInputNumbers","obscureInputEmails","defaultInputMode","obscureInputDates","sendInputValue","inputMode","test","inputValues","checkableValues","registeredTargets","sendInputTarget","isClickable","element","onclick","getTarget","owner","ownerSVGElement","_getTarget","mousePositionX","mousePositionY","mousePositionChanged","mouseTarget","mouseTargetTime","sendMouseMove","selectorMap","getSelector","cn","reduce","sel","toLowerCase","_getSelector","clientX","clientY","dl","HTMLElement","getTargetLabel","captureResourceTimings","capturePageLoadTimings","capturePageRenderTimings","resources","resourceTiming","entry","startTime","transferSize","initiatorType","PerformanceObserver","list","getEntries","prevSessionID","getEntriesByType","entryTypes","pageLoadTimingSent","interactiveWindowStartTime","interactiveWindowTickTime","paintBlocks","pageRenderTimingSent","time","max","keys","elements","styleURL","currentSrc","backgroundImage","getComputedStyle","getPropertyValue","rect","top","left","bottom","min","innerHeight","right","innerWidth","area","getPaintBlocks","a","calculateSpeedIndex","DOCS_SETUP","API","handleError","msg","obj","projectID","processOptions","__OPENREPLAY__","__DISABLE_SECURE_MODE","protocol","doNotTrack","respectDoNotTrack","sendSetPageLocation","sendSetViewportSize","sendSetPageVisibility","Function","CSSStyleSheet","processOperation","stylesheet","sendMessage","nodeID","ownerNode","insertRule","deleteRule","sheet","textContent","rules","cssRules","cssText","connection","mozConnection","webkitConnection","sendConnectionInformation","consoleThrottling","sendConsoleLog","patchConsole","captureExceptions","handler","capturePerformance","nextFrame","requestAnimationFrame","sendPerformanceTrack","documentScroll","nodeScroll","sendSetViewportScroll","pageXOffset","scrollLeft","pageYOffset","scrollTop","sendSetNodeScroll","autoResetOnWindowOpen","wOpen","open","req","XMLHttpRequest","orig","use","isActive","setUserAnonymousID","userAnonymousID","event","issue","getRandomValues","rnds8","Uint8Array","rng","crypto","msCrypto","uuid","byteToHex","arr","offset","TypeError","buf","rnds","random","userId","uuidV4","newTracker","tracker","Tracker","default","trackerAssist","callConfirm","confirmBtn","innerHTML","declineBtn","controlConfirm","children","dispatch","useReducer","openReplayReducer","evnt","TrackerContext","_isNumber","parseFloat","isFinite","_capitalize","charAt","substring","_getter","booleanProps","numericProps","stringProps","arrayProps","objectProps","props","concat","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","argsStartIndex","argsEndIndex","lastIndexOf","locationString","Boolean","j","_defineProperty","defineProperty","enumerable","configurable","writable","_objectSpread","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectSpreadProps","getOwnPropertyDescriptors","defineProperties","object","enumerableOnly","symbols"],"sourceRoot":""}