(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3768:function(t,e,s){var i,n,r;!function(o,a){"use strict";n=[s(984)],void 0===(r="function"===typeof(i=function(t){var e=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(t){if("undefined"!==typeof t.stacktrace||"undefined"!==typeof t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(s))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(t){return!!t.match(s)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var s=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),i=s.match(/ (\(.+\)$)/);s=i?s.replace(i[0],""):s;var n=this.extractLocation(i?i[1]:s),r=i&&s||void 0,o=["eval","<anonymous>"].indexOf(n[0])>-1?void 0:n[0];return new t({functionName:r,fileName:o,lineNumber:n[1],columnNumber:n[2],source:e})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(t){return!t.match(i)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t({functionName:e});var s=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=e.match(s),n=i&&i[1]?i[1]:void 0,r=this.extractLocation(e.replace(s,""));return new t({functionName:n,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:e})}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var s=/Line (\d+).*script (?:in )?(\S+)/i,i=e.message.split("\n"),n=[],r=2,o=i.length;r<o;r+=2){var a=s.exec(i[r]);a&&n.push(new t({fileName:a[2],lineNumber:a[1],source:i[r]}))}return n},parseOpera10:function(e){for(var s=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=e.stacktrace.split("\n"),n=[],r=0,o=i.length;r<o;r+=2){var a=s.exec(i[r]);a&&n.push(new t({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:i[r]}))}return n},parseOpera11:function(s){return s.stack.split("\n").filter((function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this).map((function(e){var s,i=e.split("@"),n=this.extractLocation(i.pop()),r=i.shift()||"",o=r.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;r.match(/\(([^)]*)\)/)&&(s=r.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var a=void 0===s||"[arguments not available]"===s?void 0:s.split(",");return new t({functionName:o,args:a,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e})}),this)}}})?i.apply(e,n):i)||(t.exports=r)}()},3425:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return s(9871)}])},9871:function(t,e,s){"use strict";s.r(e);var i=s(4737),n=s(1527),r=(s(8439),s(1210));s(959);e.default=function(t){var e=t.Component,s=t.pageProps;return(0,n.jsx)(r.w,{config:{projectKey:"IPQJ2ytBAXqwnwxtPmgh"},children:(0,n.jsx)(e,(0,i.Z)({},s))})}},1210:function(t,e,s){"use strict";s.d(e,{f:function(){return n},w:function(){return xe}});var i=s(959),n=(0,i.createContext)({startTracking:function(){},initTracker:function(){},logEvent:function(){},logIssue:function(){},reportError:function(){}}),r=s(1527),o=s(4737),a=s(8316);function c(t){function e(...e){return new t(...e)}return e.prototype=t.prototype,e}const h=new Map;const u=c(class{constructor(t,e,s){this.pageNo=t,this.firstIndex=e,this.timestamp=s,this._id=80}encode(t){return t.uint(80)&&t.uint(this.pageNo)&&t.uint(this.firstIndex)&&t.int(this.timestamp)}});h.set(80,u);const d=c(class{constructor(t){this.timestamp=t,this._id=0}encode(t){return t.uint(0)&&t.uint(this.timestamp)}});h.set(0,d);const l=c(class{constructor(t,e,s){this.url=t,this.referrer=e,this.navigationStart=s,this._id=4}encode(t){return t.uint(4)&&t.string(this.url)&&t.string(this.referrer)&&t.uint(this.navigationStart)}});h.set(4,l);const p=c(class{constructor(t,e){this.width=t,this.height=e,this._id=5}encode(t){return t.uint(5)&&t.uint(this.width)&&t.uint(this.height)}});h.set(5,p);const m=c(class{constructor(t,e){this.x=t,this.y=e,this._id=6}encode(t){return t.uint(6)&&t.int(this.x)&&t.int(this.y)}});h.set(6,m);const f=c(class{constructor(){this._id=7}encode(t){return t.uint(7)}});h.set(7,f);const g=c(class{constructor(t,e,s,i,n){this.id=t,this.parentID=e,this.index=s,this.tag=i,this.svg=n,this._id=8}encode(t){return t.uint(8)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)&&t.string(this.tag)&&t.boolean(this.svg)}});h.set(8,g);const v=c(class{constructor(t,e,s){this.id=t,this.parentID=e,this.index=s,this._id=9}encode(t){return t.uint(9)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});h.set(9,v);const y=c(class{constructor(t,e,s){this.id=t,this.parentID=e,this.index=s,this._id=10}encode(t){return t.uint(10)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});h.set(10,y);const b=c(class{constructor(t){this.id=t,this._id=11}encode(t){return t.uint(11)&&t.uint(this.id)}});h.set(11,b);const w=c(class{constructor(t,e,s){this.id=t,this.name=e,this.value=s,this._id=12}encode(t){return t.uint(12)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)}});h.set(12,w);const S=c(class{constructor(t,e){this.id=t,this.name=e,this._id=13}encode(t){return t.uint(13)&&t.uint(this.id)&&t.string(this.name)}});h.set(13,S);const k=c(class{constructor(t,e){this.id=t,this.data=e,this._id=14}encode(t){return t.uint(14)&&t.uint(this.id)&&t.string(this.data)}});h.set(14,k);const _=c(class{constructor(t,e,s){this.id=t,this.x=e,this.y=s,this._id=16}encode(t){return t.uint(16)&&t.uint(this.id)&&t.int(this.x)&&t.int(this.y)}});h.set(16,_);const E=c(class{constructor(t,e){this.id=t,this.label=e,this._id=17}encode(t){return t.uint(17)&&t.uint(this.id)&&t.string(this.label)}});h.set(17,E);const N=c(class{constructor(t,e,s){this.id=t,this.value=e,this.mask=s,this._id=18}encode(t){return t.uint(18)&&t.uint(this.id)&&t.string(this.value)&&t.int(this.mask)}});h.set(18,N);const I=c(class{constructor(t,e){this.id=t,this.checked=e,this._id=19}encode(t){return t.uint(19)&&t.uint(this.id)&&t.boolean(this.checked)}});h.set(19,I);const O=c(class{constructor(t,e){this.x=t,this.y=e,this._id=20}encode(t){return t.uint(20)&&t.uint(this.x)&&t.uint(this.y)}});h.set(20,O);const T=c(class{constructor(t,e){this.level=t,this.value=e,this._id=22}encode(t){return t.uint(22)&&t.string(this.level)&&t.string(this.value)}});h.set(22,T);const x=c(class{constructor(t,e,s,i,n,r,o,a,c){this.requestStart=t,this.responseStart=e,this.responseEnd=s,this.domContentLoadedEventStart=i,this.domContentLoadedEventEnd=n,this.loadEventStart=r,this.loadEventEnd=o,this.firstPaint=a,this.firstContentfulPaint=c,this._id=23}encode(t){return t.uint(23)&&t.uint(this.requestStart)&&t.uint(this.responseStart)&&t.uint(this.responseEnd)&&t.uint(this.domContentLoadedEventStart)&&t.uint(this.domContentLoadedEventEnd)&&t.uint(this.loadEventStart)&&t.uint(this.loadEventEnd)&&t.uint(this.firstPaint)&&t.uint(this.firstContentfulPaint)}});h.set(23,x);const C=c(class{constructor(t,e,s){this.speedIndex=t,this.visuallyComplete=e,this.timeToInteractive=s,this._id=24}encode(t){return t.uint(24)&&t.uint(this.speedIndex)&&t.uint(this.visuallyComplete)&&t.uint(this.timeToInteractive)}});h.set(24,C);const L=c(class{constructor(t,e,s){this.name=t,this.message=e,this.payload=s,this._id=25}encode(t){return t.uint(25)&&t.string(this.name)&&t.string(this.message)&&t.string(this.payload)}});h.set(25,L);const D=c(class{constructor(t,e){this.name=t,this.payload=e,this._id=27}encode(t){return t.uint(27)&&t.string(this.name)&&t.string(this.payload)}});h.set(27,D);const R=c(class{constructor(t){this.id=t,this._id=28}encode(t){return t.uint(28)&&t.string(this.id)}});h.set(28,R);const A=c(class{constructor(t){this.id=t,this._id=29}encode(t){return t.uint(29)&&t.string(this.id)}});h.set(29,A);const M=c(class{constructor(t,e){this.key=t,this.value=e,this._id=30}encode(t){return t.uint(30)&&t.string(this.key)&&t.string(this.value)}});h.set(30,M);const j=c(class{constructor(t,e,s){this.id=t,this.rule=e,this.index=s,this._id=37}encode(t){return t.uint(37)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)}});h.set(37,j);const P=c(class{constructor(t,e){this.id=t,this.index=e,this._id=38}encode(t){return t.uint(38)&&t.uint(this.id)&&t.uint(this.index)}});h.set(38,P);const U=c(class{constructor(t,e,s,i,n,r,o){this.method=t,this.url=e,this.request=s,this.response=i,this.status=n,this.timestamp=r,this.duration=o,this._id=39}encode(t){return t.uint(39)&&t.string(this.method)&&t.string(this.url)&&t.string(this.request)&&t.string(this.response)&&t.uint(this.status)&&t.uint(this.timestamp)&&t.uint(this.duration)}});h.set(39,U);const z=c(class{constructor(t,e,s,i){this.name=t,this.duration=e,this.args=s,this.result=i,this._id=40}encode(t){return t.uint(40)&&t.string(this.name)&&t.uint(this.duration)&&t.string(this.args)&&t.string(this.result)}});h.set(40,z);const B=c(class{constructor(t,e){this.key=t,this.value=e,this._id=41}encode(t){return t.uint(41)&&t.string(this.key)&&t.string(this.value)}});h.set(41,B);const H=c(class{constructor(t){this.type=t,this._id=42}encode(t){return t.uint(42)&&t.string(this.type)}});h.set(42,H);const $=c(class{constructor(t,e,s){this.action=t,this.state=e,this.duration=s,this._id=44}encode(t){return t.uint(44)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});h.set(44,$);const W=c(class{constructor(t,e){this.mutation=t,this.state=e,this._id=45}encode(t){return t.uint(45)&&t.string(this.mutation)&&t.string(this.state)}});h.set(45,W);const F=c(class{constructor(t,e){this.type=t,this.payload=e,this._id=46}encode(t){return t.uint(46)&&t.string(this.type)&&t.string(this.payload)}});h.set(46,F);const K=c(class{constructor(t,e,s){this.action=t,this.state=e,this.duration=s,this._id=47}encode(t){return t.uint(47)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});h.set(47,K);const q=c(class{constructor(t,e,s,i){this.operationKind=t,this.operationName=e,this.variables=s,this.response=i,this._id=48}encode(t){return t.uint(48)&&t.string(this.operationKind)&&t.string(this.operationName)&&t.string(this.variables)&&t.string(this.response)}});h.set(48,q);const J=c(class{constructor(t,e,s,i){this.frames=t,this.ticks=e,this.totalJSHeapSize=s,this.usedJSHeapSize=i,this._id=49}encode(t){return t.uint(49)&&t.int(this.frames)&&t.int(this.ticks)&&t.uint(this.totalJSHeapSize)&&t.uint(this.usedJSHeapSize)}});h.set(49,J);const V=c(class{constructor(t,e,s,i,n,r,o,a){this.timestamp=t,this.duration=e,this.ttfb=s,this.headerSize=i,this.encodedBodySize=n,this.decodedBodySize=r,this.url=o,this.initiator=a,this._id=53}encode(t){return t.uint(53)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.ttfb)&&t.uint(this.headerSize)&&t.uint(this.encodedBodySize)&&t.uint(this.decodedBodySize)&&t.string(this.url)&&t.string(this.initiator)}});h.set(53,V);const X=c(class{constructor(t,e){this.downlink=t,this.type=e,this._id=54}encode(t){return t.uint(54)&&t.uint(this.downlink)&&t.string(this.type)}});h.set(54,X);const G=c(class{constructor(t){this.hidden=t,this._id=55}encode(t){return t.uint(55)&&t.boolean(this.hidden)}});h.set(55,G);const Y=c(class{constructor(t,e,s,i,n,r,o){this.timestamp=t,this.duration=e,this.context=s,this.containerType=i,this.containerSrc=n,this.containerId=r,this.containerName=o,this._id=59}encode(t){return t.uint(59)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.context)&&t.uint(this.containerType)&&t.string(this.containerSrc)&&t.string(this.containerId)&&t.string(this.containerName)}});h.set(59,Y);const Z=c(class{constructor(t,e,s,i){this.id=t,this.name=e,this.value=s,this.baseURL=i,this._id=60}encode(t){return t.uint(60)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)&&t.string(this.baseURL)}});h.set(60,Z);const Q=c(class{constructor(t,e,s){this.id=t,this.data=e,this.baseURL=s,this._id=61}encode(t){return t.uint(61)&&t.uint(this.id)&&t.string(this.data)&&t.string(this.baseURL)}});h.set(61,Q);const tt=c(class{constructor(t,e){this.type=t,this.value=e,this._id=63}encode(t){return t.uint(63)&&t.string(this.type)&&t.string(this.value)}});h.set(63,tt);const et=c(class{constructor(t,e){this.name=t,this.payload=e,this._id=64}encode(t){return t.uint(64)&&t.string(this.name)&&t.string(this.payload)}});h.set(64,et);const st=c(class{constructor(){this._id=65}encode(t){return t.uint(65)}});h.set(65,st);const it=c(class{constructor(t,e,s,i){this.id=t,this.rule=e,this.index=s,this.baseURL=i,this._id=67}encode(t){return t.uint(67)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)&&t.string(this.baseURL)}});h.set(67,it);const nt=c(class{constructor(t,e,s,i){this.id=t,this.hesitationTime=e,this.label=s,this.selector=i,this._id=69}encode(t){return t.uint(69)&&t.uint(this.id)&&t.uint(this.hesitationTime)&&t.string(this.label)&&t.string(this.selector)}});h.set(69,nt);const rt=c(class{constructor(t,e){this.frameID=t,this.id=e,this._id=70}encode(t){return t.uint(70)&&t.uint(this.frameID)&&t.uint(this.id)}});function ot(){return Math.round(performance.now())+performance.timing.navigationStart}h.set(70,rt);const at="repeat"in String.prototype?t=>"*".repeat(t.length):t=>t.replace(/./g,"*");function ct(t){return t.trim().replace(/\s+/g," ")}function ht(t){return t.startsWith("https://")||t.startsWith("http://")}const ut=!("undefined"===typeof window),dt="https://docs.openreplay.com",lt={};function pt(t,e,s="/"){lt[t]||(console.warn(`OpenReplay: ${t} is deprecated. ${e?`Please, use ${e} instead.`:""} Visit ${dt}${s} for more information.`),lt[t]=!0)}function mt(t){let e=t.getAttribute("data-openreplay-label");return null!==e||(e=t.getAttribute("data-asayer-label"),null!==e&&pt('"data-asayer-label" attribute','"data-openreplay-label" attribute',"/")),e}function ft(t,e){const s=`data-openreplay-${e}`;if(t.hasAttribute(s))return!0;const i=`data-asayer-${e}`;return!!t.hasAttribute(i)&&(pt(`"${i}" attribute`,`"${s}" attribute`,"/installation/sanitize-data"),!0)}class gt{constructor(t){this.node_id=t,this.nodes=[],this.nodeCallbacks=[],this.elementListeners=new Map}attachNodeCallback(t){this.nodeCallbacks.push(t)}attachElementListener(t,e,s){const i=this.getID(e);if(void 0===i)return;e.addEventListener(t,s);let n=this.elementListeners.get(i);if(void 0===n)return n=[],void this.elementListeners.set(i,n);n.push([t,s])}registerNode(t){let e=t[this.node_id];const s=void 0===e;return s&&(e=this.nodes.length,this.nodes[e]=t,t[this.node_id]=e),[e,s]}unregisterNode(t){const e=t[this.node_id];if(void 0!==e){delete t[this.node_id],delete this.nodes[e];const s=this.elementListeners.get(e);void 0!==s&&(this.elementListeners.delete(e),s.forEach((e=>t.removeEventListener(e[0],e[1]))))}return e}cleanTree(){for(let t=0;t<this.nodes.length;t++){const e=this.nodes[t];e&&!document.contains(e)&&this.unregisterNode(e)}}callNodeCallbacks(t,e){this.nodeCallbacks.forEach((s=>s(t,e)))}getID(t){return t[this.node_id]}getNode(t){return this.nodes[t]}clear(){for(let t=0;t<this.nodes.length;t++){const e=this.nodes[t];void 0!==e&&this.unregisterNode(e)}this.nodes.length=0}}function vt(t){return"http://www.w3.org/2000/svg"===t.namespaceURI}function yt(t){return t.nodeType===Node.ELEMENT_NODE}function bt(t){return t.nodeType===Node.TEXT_NODE}function wt(t){return t.nodeType===Node.DOCUMENT_NODE||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function St(t,e){return t.nodeName===e}function kt(t){if(bt(t))return!1;if(!yt(t))return!0;const e=t.tagName.toUpperCase();if("LINK"===e){const e=t.getAttribute("rel"),s=t.getAttribute("as");return!((null===e||void 0===e?void 0:e.includes("stylesheet"))||"style"===s||"font"===s)}return"SCRIPT"===e||"NOSCRIPT"===e||"META"===e||"TITLE"===e||"BASE"===e}function _t(t){return!!wt(t)||!kt(t)}var Et;!function(t){t[t.New=0]="New",t[t.Removed=1]="Removed",t[t.Changed=2]="Changed",t[t.RemovedChild=3]="RemovedChild"}(Et||(Et={}));class Nt{constructor(t,e=!1){this.app=t,this.isTopContext=e,this.commited=[],this.recents=new Map,this.indexes=[],this.attributesMap=new Map,this.textSet=new Set,this.observer=new MutationObserver(this.app.safe((t=>{for(const e of t){const t=e.target,s=e.type;if(!_t(t))continue;if("childList"===s){for(let t=0;t<e.removedNodes.length;t++)this.bindTree(e.removedNodes[t],!0);for(let t=0;t<e.addedNodes.length;t++)this.bindTree(e.addedNodes[t]);continue}const i=this.app.nodes.getID(t);if(void 0!==i)if(this.recents.has(i)||this.recents.set(i,Et.Changed),"attributes"!==s)"characterData"!==s||this.textSet.add(i);else{const t=e.attributeName;if(null===t)continue;let s=this.attributesMap.get(i);void 0===s&&this.attributesMap.set(i,s=new Set),s.add(t)}}this.commitNodes()})))}clear(){this.commited.length=0,this.recents.clear(),this.indexes.length=1,this.attributesMap.clear(),this.textSet.clear()}sendNodeAttribute(t,e,s,i){if(vt(e))return"xlink:"===s.substr(0,6)&&(s=s.substr(6)),void(null===i?this.app.send(new S(t,s)):"href"===s?(i.length>1e5&&(i=""),this.app.send(new Z(t,s,i,this.app.getBaseHref()))):this.app.send(new w(t,s,i)));"src"!==s&&"srcset"!==s&&"integrity"!==s&&"crossorigin"!==s&&"autocomplete"!==s&&"on"!==s.substr(0,2)&&("value"===s&&St(e,"INPUT")&&"button"!==e.type&&"reset"!==e.type&&"submit"!==e.type||(null!==i?"style"===s||"href"===s&&St(e,"LINK")?this.app.send(new Z(t,s,i,this.app.getBaseHref())):(("href"===s||i.length>1e5)&&(i=""),this.app.send(new w(t,s,i))):this.app.send(new S(t,s))))}sendNodeData(t,e,s){St(e,"STYLE")||St(e,"style")?this.app.send(new Q(t,s,this.app.getBaseHref())):(s=this.app.sanitizer.sanitize(t,s),this.app.send(new k(t,s)))}bindNode(t){const[e,s]=this.app.nodes.registerNode(t);s?this.recents.set(e,Et.New):this.recents.get(e)!==Et.New&&this.recents.set(e,Et.Removed)}unbindChildNode(t){const[e]=this.app.nodes.registerNode(t);this.recents.set(e,Et.RemovedChild)}bindTree(t,e=!1){if(!_t(t))return;this.bindNode(t);const s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:t=>kt(t)||void 0!==this.app.nodes.getID(t)&&!e?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},!1);for(;s.nextNode();)e?this.unbindChildNode(s.currentNode):this.bindNode(s.currentNode)}unbindNode(t){const e=this.app.nodes.unregisterNode(t);void 0!==e&&this.recents.get(e)===Et.Removed&&this.app.send(new b(e))}_commitNode(t,e){if(wt(e))return!0;const s=e.parentNode;let i;if(!St(e,"HTML")||!this.isTopContext){if(null===s)return this.unbindNode(e),!1;if(i=this.app.nodes.getID(s),void 0===i)return this.unbindNode(e),!1;if(!this.commitNode(i))return this.unbindNode(e),!1;if(this.app.sanitizer.handleNode(t,i,e),this.app.sanitizer.isMaskedContainer(i))return!1}let n=e.previousSibling;for(;null!==n;){const e=this.app.nodes.getID(n);if(void 0!==e){this.commitNode(e),this.indexes[t]=this.indexes[e]+1;break}n=n.previousSibling}null===n&&(this.indexes[t]=0);const r=this.recents.get(t),o=r===Et.New,a=this.indexes[t];if(void 0===a)throw"commitNode: missing node index";if(o){if(yt(e)){let s=e;if(void 0!==i){if(this.app.sanitizer.isMaskedContainer(t)){const t=s.clientWidth,i=s.clientHeight;s=e.cloneNode(),s.style.width=t+"px",s.style.height=i+"px"}this.app.send(new g(t,i,a,s.tagName,vt(e)))}for(let e=0;e<s.attributes.length;e++){const i=s.attributes[e];this.sendNodeAttribute(t,s,i.nodeName,i.value)}}else bt(e)&&(this.app.send(new v(t,i,a)),this.sendNodeData(t,s,e.data));return!0}r===Et.Removed&&void 0!==i&&this.app.send(new y(t,i,a));const c=this.attributesMap.get(t);if(void 0!==c){if(!yt(e))throw"commitNode: node is not an element";for(const s of c)this.sendNodeAttribute(t,e,s,e.getAttribute(s))}if(this.textSet.has(t)){if(!bt(e))throw"commitNode: node is not a text";this.sendNodeData(t,s,e.data)}return!0}commitNode(t){const e=this.app.nodes.getNode(t);if(void 0===e)return!1;const s=this.commited[t];return void 0!==s?s:this.commited[t]=this._commitNode(t,e)}commitNodes(t=!1){let e;this.recents.forEach(((s,i)=>{this.commitNode(i),s===Et.New&&(e=this.app.nodes.getNode(i))&&this.app.nodes.callNodeCallbacks(e,t)})),this.clear()}observeRoot(t,e,s=t){this.observer.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1}),this.bindTree(s),e(this.app.nodes.getID(t)),this.commitNodes(!0)}disconnect(){this.observer.disconnect(),this.clear()}}class It extends Nt{observe(t){const e=t.contentDocument,s=this.app.nodes.getID(t);e&&void 0!==s&&this.observeRoot(e,(t=>{void 0!==t?this.app.send(rt(s,t)):console.log("OpenReplay: Iframe document not bound")}))}}class Ot extends Nt{observe(t){const e=t.shadowRoot,s=this.app.nodes.getID(t);e&&void 0!==s&&this.observeRoot(e,(t=>{void 0!==t?this.app.send(rt(s,t)):console.log("OpenReplay: Shadow Root was not bound")}))}}const Tt=ut?Element.prototype.attachShadow:()=>new ShadowRoot;class xt extends Nt{constructor(t,e){super(t,!0),this.iframeObservers=[],this.shadowRootObservers=[],this.options=Object.assign({captureIFrames:!0},e),this.app.nodes.attachNodeCallback((t=>{St(t,"IFRAME")&&(this.options.captureIFrames&&!ft(t,"obscured")||ft(t,"capture"))&&this.handleIframe(t)})),this.app.nodes.attachNodeCallback((t=>{yt(t)&&null!==t.shadowRoot&&this.handleShadowRoot(t.shadowRoot)}))}handleIframe(t){let e=null;const s=this.app.safe((()=>{if(void 0===this.app.nodes.getID(t))return;if(t.contentDocument===e)return;if(e=t.contentDocument,!e||!t.contentWindow)return;const s=new It(this.app);this.iframeObservers.push(s),s.observe(t)}));t.addEventListener("load",s),s()}handleShadowRoot(t){const e=new Ot(this.app);this.shadowRootObservers.push(e),e.observe(t.host)}observe(){const t=this;Element.prototype.attachShadow=function(){const e=Tt.apply(this,arguments);return t.handleShadowRoot(e),e},this.observeRoot(window.document,(()=>{this.app.send(new f)}),window.document.documentElement)}disconnect(){Element.prototype.attachShadow=Tt,this.iframeObservers.forEach((t=>t.disconnect())),this.iframeObservers=[],this.shadowRootObservers.forEach((t=>t.disconnect())),this.shadowRootObservers=[],super.disconnect()}}class Ct{constructor(t,e){this.app=t,this.masked=new Set,this.maskedContainers=new Set,this.options=Object.assign({obscureTextEmails:!0,obscureTextNumbers:!1},e)}handleNode(t,e,s){(this.masked.has(e)||yt(s)&&ft(s,"masked"))&&this.masked.add(t),(this.maskedContainers.has(e)||yt(s)&&ft(s,"htmlmasked"))&&this.maskedContainers.add(t)}sanitize(t,e){return this.masked.has(t)?e.trim().replace(/[^\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]/g,"\u2588"):(this.options.obscureTextNumbers&&(e=e.replace(/\d/g,"0")),this.options.obscureTextEmails&&(e=e.replace(/([^\s]+)@([^\s]+)\.([^\s]+)/g,((...t)=>at(t[1])+"@"+at(t[2])+"."+at(t[3])))),e)}isMasked(t){return this.masked.has(t)}isMaskedContainer(t){return this.maskedContainers.has(t)}getInnerTextSecure(t){const e=this.app.nodes.getID(t);return e?this.sanitize(e,t.innerText):""}clear(){this.masked.clear(),this.maskedContainers.clear()}}class Lt{constructor(t){this.app=t,this.timer=null,this.callbacks=[]}attach(t,e=0,s=!0,i){i&&(t=t.bind(i)),s&&(t=this.app.safe(t)),this.callbacks.unshift(e?function(t,e){let s=0;return()=>{s++>=e&&(s=0,t())}}(t,e):t)}start(){null===this.timer&&(this.timer=setInterval((()=>this.callbacks.forEach((t=>{t&&t()}))),30))}stop(){null!==this.timer&&(clearInterval(this.timer),this.timer=null)}}const Dt=5,Rt=4,At=3,Mt=2,jt=0;function Pt(t){return"object"===typeof t}class Ut{constructor(t=jt){this.options=!0===t?{level:Dt}:"number"===typeof t?{level:t}:t}log(...t){(Pt(this.options.level)?this.options.level.log:this.options.level>=Rt)&&console.log(...t)}warn(...t){(Pt(this.options.level)?this.options.level.warn:this.options.level>=At)&&console.warn(...t)}error(...t){(Pt(this.options.level)?this.options.level.error:this.options.level>=Mt)&&console.error(...t)}}class zt{constructor(){this.metadata={},this.userID=null,this.sessionID=null,this.callbacks=[]}attachUpdateCallback(t){this.callbacks.push(t)}handleUpdate(t){null==t.userID&&delete t.userID,null==t.sessionID&&delete t.sessionID,this.callbacks.forEach((e=>e(t)))}update(t){void 0!==t.userID&&(this.userID=t.userID),void 0!==t.metadata&&Object.entries(t.metadata).forEach((([t,e])=>this.metadata[t]=e)),void 0!==t.sessionID&&(this.sessionID=t.sessionID),this.handleUpdate(t)}setMetadata(t,e){this.metadata[t]=e,this.handleUpdate({metadata:{[t]:e}})}setUserID(t){this.userID=t,this.handleUpdate({userID:t})}getInfo(){return{sessionID:this.sessionID,metadata:this.metadata,userID:this.userID}}reset(){this.metadata={},this.userID=null,this.sessionID=null}}const Bt=ut&&"performance"in window&&"memory"in performance?performance:{memory:{}},Ht=ut?1024*(navigator.deviceMemory||0):0,$t=Bt.memory.jsHeapSizeLimit||0;const Wt="canceled",Ft=t=>({reason:t,success:!1});var Kt;!function(t){t[t.NotActive=0]="NotActive",t[t.Starting=1]="Starting",t[t.Active=2]="Active"}(Kt||(Kt={}));const qt="https://api.openreplay.com/ingest";class Jt{constructor(t,e,s){this.messages=[],this.startCallbacks=[],this.stopCallbacks=[],this.commitCallbacks=[],this.activityState=Kt.NotActive,this.version="3.5.16",this.projectKey=t,this.options=Object.assign({revID:"",node_id:"__openreplay_id",session_token_key:"__openreplay_token",session_pageno_key:"__openreplay_pageno",session_reset_key:"__openreplay_reset",local_uuid_key:"__openreplay_uuid",ingestPoint:qt,resourceBaseHref:null,verbose:!1,__is_snippet:!1,__debug_report_edp:null,localStorage:window.localStorage,sessionStorage:window.sessionStorage},s),this.revID=this.options.revID,this.sanitizer=new Ct(this,s),this.nodes=new gt(this.options.node_id),this.observer=new xt(this,s),this.ticker=new Lt(this),this.ticker.attach((()=>this.commit())),this.debug=new Ut(this.options.__debug__),this.notify=new Ut(this.options.verbose?At:jt),this.session=new zt,this.session.attachUpdateCallback((({userID:t,metadata:e})=>{null!=t&&this.send(new R(t)),null!=e&&Object.entries(e).forEach((([t,e])=>this.send(new M(t,e))))})),this.localStorage=this.options.localStorage,this.sessionStorage=this.options.sessionStorage,null!=e&&this.sessionStorage.setItem(this.options.session_token_key,e);try{this.worker=new Worker(URL.createObjectURL(new Blob(['"use strict";function t(t){function i(...i){return new t(...i)}return i.prototype=t.prototype,i}const i=new Map;const s=t(class{constructor(t,i,s){this.pageNo=t,this.firstIndex=i,this.timestamp=s,this._id=80}encode(t){return t.uint(80)&&t.uint(this.pageNo)&&t.uint(this.firstIndex)&&t.int(this.timestamp)}});i.set(80,s);const e=t(class{constructor(t){this.timestamp=t,this._id=0}encode(t){return t.uint(0)&&t.uint(this.timestamp)}});i.set(0,e);const n=t(class{constructor(t,i,s){this.url=t,this.referrer=i,this.navigationStart=s,this._id=4}encode(t){return t.uint(4)&&t.string(this.url)&&t.string(this.referrer)&&t.uint(this.navigationStart)}});i.set(4,n);const r=t(class{constructor(t,i){this.width=t,this.height=i,this._id=5}encode(t){return t.uint(5)&&t.uint(this.width)&&t.uint(this.height)}});i.set(5,r);const h=t(class{constructor(t,i){this.x=t,this.y=i,this._id=6}encode(t){return t.uint(6)&&t.int(this.x)&&t.int(this.y)}});i.set(6,h);const o=t(class{constructor(){this._id=7}encode(t){return t.uint(7)}});i.set(7,o);const c=t(class{constructor(t,i,s,e,n){this.id=t,this.parentID=i,this.index=s,this.tag=e,this.svg=n,this._id=8}encode(t){return t.uint(8)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)&&t.string(this.tag)&&t.boolean(this.svg)}});i.set(8,c);const a=t(class{constructor(t,i,s){this.id=t,this.parentID=i,this.index=s,this._id=9}encode(t){return t.uint(9)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});i.set(9,a);const u=t(class{constructor(t,i,s){this.id=t,this.parentID=i,this.index=s,this._id=10}encode(t){return t.uint(10)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});i.set(10,u);const d=t(class{constructor(t){this.id=t,this._id=11}encode(t){return t.uint(11)&&t.uint(this.id)}});i.set(11,d);const l=t(class{constructor(t,i,s){this.id=t,this.name=i,this.value=s,this._id=12}encode(t){return t.uint(12)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)}});i.set(12,l);const p=t(class{constructor(t,i){this.id=t,this.name=i,this._id=13}encode(t){return t.uint(13)&&t.uint(this.id)&&t.string(this.name)}});i.set(13,p);const g=t(class{constructor(t,i){this.id=t,this.data=i,this._id=14}encode(t){return t.uint(14)&&t.uint(this.id)&&t.string(this.data)}});i.set(14,g);const m=t(class{constructor(t,i,s){this.id=t,this.x=i,this.y=s,this._id=16}encode(t){return t.uint(16)&&t.uint(this.id)&&t.int(this.x)&&t.int(this.y)}});i.set(16,m);const f=t(class{constructor(t,i){this.id=t,this.label=i,this._id=17}encode(t){return t.uint(17)&&t.uint(this.id)&&t.string(this.label)}});i.set(17,f);const y=t(class{constructor(t,i,s){this.id=t,this.value=i,this.mask=s,this._id=18}encode(t){return t.uint(18)&&t.uint(this.id)&&t.string(this.value)&&t.int(this.mask)}});i.set(18,y);const _=t(class{constructor(t,i){this.id=t,this.checked=i,this._id=19}encode(t){return t.uint(19)&&t.uint(this.id)&&t.boolean(this.checked)}});i.set(19,_);const v=t(class{constructor(t,i){this.x=t,this.y=i,this._id=20}encode(t){return t.uint(20)&&t.uint(this.x)&&t.uint(this.y)}});i.set(20,v);const S=t(class{constructor(t,i){this.level=t,this.value=i,this._id=22}encode(t){return t.uint(22)&&t.string(this.level)&&t.string(this.value)}});i.set(22,S);const b=t(class{constructor(t,i,s,e,n,r,h,o,c){this.requestStart=t,this.responseStart=i,this.responseEnd=s,this.domContentLoadedEventStart=e,this.domContentLoadedEventEnd=n,this.loadEventStart=r,this.loadEventEnd=h,this.firstPaint=o,this.firstContentfulPaint=c,this._id=23}encode(t){return t.uint(23)&&t.uint(this.requestStart)&&t.uint(this.responseStart)&&t.uint(this.responseEnd)&&t.uint(this.domContentLoadedEventStart)&&t.uint(this.domContentLoadedEventEnd)&&t.uint(this.loadEventStart)&&t.uint(this.loadEventEnd)&&t.uint(this.firstPaint)&&t.uint(this.firstContentfulPaint)}});i.set(23,b);const w=t(class{constructor(t,i,s){this.speedIndex=t,this.visuallyComplete=i,this.timeToInteractive=s,this._id=24}encode(t){return t.uint(24)&&t.uint(this.speedIndex)&&t.uint(this.visuallyComplete)&&t.uint(this.timeToInteractive)}});i.set(24,w);const E=t(class{constructor(t,i,s){this.name=t,this.message=i,this.payload=s,this._id=25}encode(t){return t.uint(25)&&t.string(this.name)&&t.string(this.message)&&t.string(this.payload)}});i.set(25,E);const x=t(class{constructor(t,i){this.name=t,this.payload=i,this._id=27}encode(t){return t.uint(27)&&t.string(this.name)&&t.string(this.payload)}});i.set(27,x);const T=t(class{constructor(t){this.id=t,this._id=28}encode(t){return t.uint(28)&&t.string(this.id)}});i.set(28,T);const z=t(class{constructor(t){this.id=t,this._id=29}encode(t){return t.uint(29)&&t.string(this.id)}});i.set(29,z);const k=t(class{constructor(t,i){this.key=t,this.value=i,this._id=30}encode(t){return t.uint(30)&&t.string(this.key)&&t.string(this.value)}});i.set(30,k);const A=t(class{constructor(t,i,s){this.id=t,this.rule=i,this.index=s,this._id=37}encode(t){return t.uint(37)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)}});i.set(37,A);const I=t(class{constructor(t,i){this.id=t,this.index=i,this._id=38}encode(t){return t.uint(38)&&t.uint(this.id)&&t.uint(this.index)}});i.set(38,I);const L=t(class{constructor(t,i,s,e,n,r,h){this.method=t,this.url=i,this.request=s,this.response=e,this.status=n,this.timestamp=r,this.duration=h,this._id=39}encode(t){return t.uint(39)&&t.string(this.method)&&t.string(this.url)&&t.string(this.request)&&t.string(this.response)&&t.uint(this.status)&&t.uint(this.timestamp)&&t.uint(this.duration)}});i.set(39,L);const C=t(class{constructor(t,i,s,e){this.name=t,this.duration=i,this.args=s,this.result=e,this._id=40}encode(t){return t.uint(40)&&t.string(this.name)&&t.uint(this.duration)&&t.string(this.args)&&t.string(this.result)}});i.set(40,C);const M=t(class{constructor(t,i){this.key=t,this.value=i,this._id=41}encode(t){return t.uint(41)&&t.string(this.key)&&t.string(this.value)}});i.set(41,M);const N=t(class{constructor(t){this.type=t,this._id=42}encode(t){return t.uint(42)&&t.string(this.type)}});i.set(42,N);const B=t(class{constructor(t,i,s){this.action=t,this.state=i,this.duration=s,this._id=44}encode(t){return t.uint(44)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});i.set(44,B);const U=t(class{constructor(t,i){this.mutation=t,this.state=i,this._id=45}encode(t){return t.uint(45)&&t.string(this.mutation)&&t.string(this.state)}});i.set(45,U);const R=t(class{constructor(t,i){this.type=t,this.payload=i,this._id=46}encode(t){return t.uint(46)&&t.string(this.type)&&t.string(this.payload)}});i.set(46,R);const O=t(class{constructor(t,i,s){this.action=t,this.state=i,this.duration=s,this._id=47}encode(t){return t.uint(47)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});i.set(47,O);const P=t(class{constructor(t,i,s,e){this.operationKind=t,this.operationName=i,this.variables=s,this.response=e,this._id=48}encode(t){return t.uint(48)&&t.string(this.operationKind)&&t.string(this.operationName)&&t.string(this.variables)&&t.string(this.response)}});i.set(48,P);const q=t(class{constructor(t,i,s,e){this.frames=t,this.ticks=i,this.totalJSHeapSize=s,this.usedJSHeapSize=e,this._id=49}encode(t){return t.uint(49)&&t.int(this.frames)&&t.int(this.ticks)&&t.uint(this.totalJSHeapSize)&&t.uint(this.usedJSHeapSize)}});i.set(49,q);const D=t(class{constructor(t,i,s,e,n,r,h,o){this.timestamp=t,this.duration=i,this.ttfb=s,this.headerSize=e,this.encodedBodySize=n,this.decodedBodySize=r,this.url=h,this.initiator=o,this._id=53}encode(t){return t.uint(53)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.ttfb)&&t.uint(this.headerSize)&&t.uint(this.encodedBodySize)&&t.uint(this.decodedBodySize)&&t.string(this.url)&&t.string(this.initiator)}});i.set(53,D);const W=t(class{constructor(t,i){this.downlink=t,this.type=i,this._id=54}encode(t){return t.uint(54)&&t.uint(this.downlink)&&t.string(this.type)}});i.set(54,W);const H=t(class{constructor(t){this.hidden=t,this._id=55}encode(t){return t.uint(55)&&t.boolean(this.hidden)}});i.set(55,H);const J=t(class{constructor(t,i,s,e,n,r,h){this.timestamp=t,this.duration=i,this.context=s,this.containerType=e,this.containerSrc=n,this.containerId=r,this.containerName=h,this._id=59}encode(t){return t.uint(59)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.context)&&t.uint(this.containerType)&&t.string(this.containerSrc)&&t.string(this.containerId)&&t.string(this.containerName)}});i.set(59,J);const F=t(class{constructor(t,i,s,e){this.id=t,this.name=i,this.value=s,this.baseURL=e,this._id=60}encode(t){return t.uint(60)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)&&t.string(this.baseURL)}});i.set(60,F);const X=t(class{constructor(t,i,s){this.id=t,this.data=i,this.baseURL=s,this._id=61}encode(t){return t.uint(61)&&t.uint(this.id)&&t.string(this.data)&&t.string(this.baseURL)}});i.set(61,X);const G=t(class{constructor(t,i){this.type=t,this.value=i,this._id=63}encode(t){return t.uint(63)&&t.string(this.type)&&t.string(this.value)}});i.set(63,G);const K=t(class{constructor(t,i){this.name=t,this.payload=i,this._id=64}encode(t){return t.uint(64)&&t.string(this.name)&&t.string(this.payload)}});i.set(64,K);const j=t(class{constructor(){this._id=65}encode(t){return t.uint(65)}});i.set(65,j);const Q=t(class{constructor(t,i,s,e){this.id=t,this.rule=i,this.index=s,this.baseURL=e,this._id=67}encode(t){return t.uint(67)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)&&t.string(this.baseURL)}});i.set(67,Q);const V=t(class{constructor(t,i,s,e){this.id=t,this.hesitationTime=i,this.label=s,this.selector=e,this._id=69}encode(t){return t.uint(69)&&t.uint(this.id)&&t.uint(this.hesitationTime)&&t.string(this.label)&&t.string(this.selector)}});i.set(69,V);const Y=t(class{constructor(t,i){this.frameID=t,this.id=i,this._id=70}encode(t){return t.uint(70)&&t.uint(this.frameID)&&t.uint(this.id)}});i.set(70,Y);class Z{constructor(t,i,s,e=10,n=1e3){this.onUnauthorised=i,this.onFailure=s,this.MAX_ATTEMPTS_COUNT=e,this.ATTEMPT_TIMEOUT=n,this.attemptsCount=0,this.busy=!1,this.queue=[],this.token=null,this.ingestURL=t+"/v1/web/i"}authorise(t){this.token=t}push(t){this.busy||!this.token?this.queue.push(t):this.sendBatch(t)}retry(t){this.attemptsCount>=this.MAX_ATTEMPTS_COUNT?this.onFailure():(this.attemptsCount++,setTimeout(()=>this.sendBatch(t),this.ATTEMPT_TIMEOUT*this.attemptsCount))}sendBatch(t){this.busy=!0,fetch(this.ingestURL,{body:t,method:"POST",headers:{Authorization:"Bearer "+this.token},keepalive:t.length<65536}).then(i=>{if(401===i.status)return this.busy=!1,void this.onUnauthorised();if(i.status>=400)return void this.retry(t);this.attemptsCount=0;const s=this.queue.shift();s?this.sendBatch(s):this.busy=!1}).catch(i=>{console.warn("OpenReplay:",i),this.retry(t)})}clean(){this.queue.length=0}}const tt="function"==typeof TextEncoder?new TextEncoder:{encode(t){const i=t.length,s=new Uint8Array(3*i);let e=-1;for(var n=0,r=0,h=0;h!==i;){if(n=t.charCodeAt(h),h+=1,n>=55296&&n<=56319){if(h===i){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;break}if(!((r=t.charCodeAt(h))>=56320&&r<=57343)){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;continue}if(h+=1,(n=1024*(n-55296)+r-56320+65536)>65535){s[e+=1]=240|n>>>18,s[e+=1]=128|n>>>12&63,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n;continue}}n<=127?s[e+=1]=0|n:n<=2047?(s[e+=1]=192|n>>>6,s[e+=1]=128|63&n):(s[e+=1]=224|n>>>12,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n)}return s.subarray(0,e+1)}};class it{constructor(t){this.size=t,this.offset=0,this.checkpointOffset=0,this.data=new Uint8Array(t)}checkpoint(){this.checkpointOffset=this.offset}isEmpty(){return 0===this.offset}boolean(t){return this.data[this.offset++]=+t,this.offset<=this.size}uint(t){for((t<0||t>Number.MAX_SAFE_INTEGER)&&(t=0);t>=128;)this.data[this.offset++]=t%256|128,t=Math.floor(t/128);return this.data[this.offset++]=t,this.offset<=this.size}int(t){return t=Math.round(t),this.uint(t>=0?2*t:-2*t-1)}string(t){const i=tt.encode(t),s=i.byteLength;return!(!this.uint(s)||this.offset+s>this.size)&&(this.data.set(i,this.offset),this.offset+=s,!0)}reset(){this.offset=0,this.checkpointOffset=0}flush(){const t=this.data.slice(0,this.checkpointOffset);return this.reset(),t}}class st{constructor(t,i,s){this.pageNo=t,this.timestamp=i,this.onBatch=s,this.nextIndex=0,this.beaconSize=2e5,this.writer=new it(this.beaconSize),this.isEmpty=!0,this.beaconSizeLimit=1e6,this.prepare()}prepare(){this.writer.isEmpty()&&new s(this.pageNo,this.nextIndex,this.timestamp).encode(this.writer)}write(t){const i=t.encode(this.writer);return i&&(this.isEmpty=!1,this.writer.checkpoint(),this.nextIndex++),i}setBeaconSizeLimit(t){this.beaconSizeLimit=t}writeMessage(t){for(t instanceof e&&(this.timestamp=t.timestamp);!this.write(t);){if(this.finaliseBatch(),this.beaconSize===this.beaconSizeLimit)return console.warn("OpenReplay: beacon size overflow. Skipping large message."),this.writer.reset(),this.prepare(),void(this.isEmpty=!0);this.beaconSize=Math.min(2*this.beaconSize,this.beaconSizeLimit),this.writer=new it(this.beaconSize),this.prepare(),this.isEmpty=!0}}finaliseBatch(){this.isEmpty||(this.onBatch(this.writer.flush()),this.prepare(),this.isEmpty=!0)}clean(){this.writer.reset()}}var et;!function(t){t[t.NotActive=0]="NotActive",t[t.Starting=1]="Starting",t[t.Stopping=2]="Stopping",t[t.Active=3]="Active"}(et||(et={}));let nt=null,rt=null;function ht(){rt&&rt.finaliseBatch()}function ot(){et.Stopping,null!==at&&(clearInterval(at),at=null),rt&&(rt.clean(),rt=null),et.NotActive}et.NotActive;let ct,at=null;self.onmessage=({data:t})=>{if(null!=t){if("stop"===t)return ht(),void ot();if(Array.isArray(t)){if(!rt)throw new Error("WebWorker: writer not initialised. Service Should be Started.");const s=rt;t.forEach(t=>{const e=new(i.get(t._id));Object.assign(e,t),e instanceof H&&(e.hidden?ct=setTimeout(()=>self.postMessage("restart"),18e5):clearTimeout(ct)),s.writeMessage(e)})}else{if("start"===t.type)return et.Starting,nt=new Z(t.ingestPoint,()=>{self.postMessage("restart")},()=>{nt&&(nt.clean(),nt=null),ot(),self.postMessage("failed")},t.connAttemptCount,t.connAttemptGap),rt=new st(t.pageNo,t.timestamp,t=>nt&&nt.push(t)),null===at&&(at=setInterval(ht,1e4)),et.Active;if("auth"===t.type){if(!nt)throw new Error("WebWorker: sender not initialised. Received auth.");if(!rt)throw new Error("WebWorker: writer not initialised. Received auth.");return nt.authorise(t.token),void(t.beaconSizeLimit&&rt.setBeaconSizeLimit(t.beaconSizeLimit))}}}else ht()};\n'],{type:"text/javascript"}))),this.worker.onerror=t=>{this._debug("webworker_error",t)},this.worker.onmessage=({data:t})=>{"failed"===t?(this.stop(),this._debug("worker_failed",{})):"restart"===t&&(this.stop(),this.start({forceNew:!0}))};const t=()=>{this.worker&&this.worker.postMessage(null)};this.attachEventListener(window,"beforeunload",t,!1),this.attachEventListener(document.body,"mouseleave",t,!1,!1),this.attachEventListener(document,"visibilitychange",t,!1)}catch(i){this._debug("worker_start",i)}}_debug(t,e){null!==this.options.__debug_report_edp&&fetch(this.options.__debug_report_edp,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:t,error:`${e}`})}),this.debug.error("OpenReplay error: ",t,e)}send(t,e=!1){this.activityState!==Kt.NotActive&&(this.messages.push(t),this.activityState===Kt.Active&&e&&this.commit())}commit(){this.worker&&this.messages.length&&(this.messages.unshift(new d(ot())),this.worker.postMessage(this.messages),this.commitCallbacks.forEach((t=>t(this.messages))),this.messages.length=0)}safe(t){const e=this;return function(...s){try{t.apply(this,s)}catch(i){e._debug("safe_fn_call",i)}}}attachCommitCallback(t){this.commitCallbacks.push(t)}attachStartCallback(t){this.startCallbacks.push(t)}attachStopCallback(t){this.stopCallbacks.push(t)}attachEventListener(t,e,s,i=!0,n=!0){i&&(s=this.safe(s)),this.attachStartCallback((()=>t.addEventListener(e,s,n))),this.attachStopCallback((()=>t.removeEventListener(e,s,n)))}checkRequiredVersion(t){const e=t.split(/[.-]/),s=this.version.split(/[.-]/);for(let i=0;i<3;i++)if(Number(s[i])<Number(e[i])||isNaN(Number(s[i]))||isNaN(Number(e[i])))return!1;return!0}getStartInfo(){return{userUUID:this.localStorage.getItem(this.options.local_uuid_key),projectKey:this.projectKey,revID:this.revID,timestamp:ot(),trackerVersion:this.version,isSnippet:this.options.__is_snippet}}getSessionInfo(){return Object.assign(Object.assign({},this.session.getInfo()),this.getStartInfo())}getSessionToken(){const t=this.sessionStorage.getItem(this.options.session_token_key);if(null!==t)return t}getSessionID(){return this.session.getInfo().sessionID||void 0}getHost(){return new URL(this.options.ingestPoint).hostname}getProjectKey(){return this.projectKey}getBaseHref(){var t,e;return"string"===typeof this.options.resourceBaseHref?this.options.resourceBaseHref:(this.options.resourceBaseHref,document.baseURI?document.baseURI:(null===(e=null===(t=document.head)||void 0===t?void 0:t.getElementsByTagName("base")[0])||void 0===e?void 0:e.getAttribute("href"))||location.origin+location.pathname)}resolveResourceURL(t){const e=new URL(this.getBaseHref());return e.pathname+="/"+new URL(t).pathname,e.pathname.replace(/\/+/g,"/"),e.toString()}isServiceURL(t){return t.startsWith(this.options.ingestPoint)}active(){return this.activityState===Kt.Active}resetNextPageSession(t){t?this.sessionStorage.setItem(this.options.session_reset_key,"t"):this.sessionStorage.removeItem(this.options.session_reset_key)}_start(t){if(!this.worker)return Promise.resolve(Ft("No worker found: perhaps, CSP is not set."));if(this.activityState!==Kt.NotActive)return Promise.resolve(Ft("OpenReplay: trying to call `start()` on the instance that has been started already."));this.activityState=Kt.Starting;let e=0;const s=this.sessionStorage.getItem(this.options.session_pageno_key);null!=s&&(e=parseInt(s),e++),this.sessionStorage.setItem(this.options.session_pageno_key,e.toString());const i=this.getStartInfo(),n={type:"start",pageNo:e,ingestPoint:this.options.ingestPoint,timestamp:i.timestamp,connAttemptCount:this.options.connAttemptCount,connAttemptGap:this.options.connAttemptGap};this.worker.postMessage(n),this.session.update({metadata:t.metadata||this.session.getInfo().metadata,userID:t.userID});const r=this.sessionStorage.getItem(this.options.session_reset_key);return this.sessionStorage.removeItem(this.options.session_reset_key),window.fetch(this.options.ingestPoint+"/v1/web/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign(Object.assign({},i),{userID:this.session.getInfo().userID,token:this.sessionStorage.getItem(this.options.session_token_key),deviceMemory:Ht,jsHeapSizeLimit:$t,reset:t.forceNew||null!==r}))}).then((t=>200===t.status?t.json():t.text().then((e=>e===Wt?Promise.reject(Wt):Promise.reject(`Server error: ${t.status}. ${e}`))))).then((t=>{if(!this.worker)return Promise.reject("no worker found after start request (this might not happen)");const{token:e,userUUID:s,sessionID:i,beaconSizeLimit:n}=t;if("string"!==typeof e||"string"!==typeof s||"number"!==typeof n&&"undefined"!==typeof n)return Promise.reject(`Incorrect server response: ${JSON.stringify(t)}`);this.sessionStorage.setItem(this.options.session_token_key,e),this.localStorage.setItem(this.options.local_uuid_key,s),this.session.update({sessionID:i});const r={type:"auth",token:e,beaconSizeLimit:n};this.worker.postMessage(r),this.activityState=Kt.Active;const o={sessionToken:e,userUUID:s,sessionID:i};return this.startCallbacks.forEach((t=>t(o))),this.observer.observe(),this.ticker.start(),this.notify.log("OpenReplay tracking started."),"function"===typeof this.options.onStart&&this.options.onStart(o),a=o,Object.assign(Object.assign({},a),{success:!0});var a})).catch((t=>(this.sessionStorage.removeItem(this.options.session_token_key),this.stop(),t===Wt?Ft(Wt):(this.notify.log("OpenReplay was unable to start. ",t),this._debug("session_start",t),Ft(":(")))))}start(t={}){return document.hidden?new Promise((e=>{const s=()=>{document.hidden||(document.removeEventListener("visibilitychange",s),e(this._start(t)))};document.addEventListener("visibilitychange",s)})):this._start(t)}stop(t=!1,e=!1){if(this.activityState!==Kt.NotActive)try{this.sanitizer.clear(),this.observer.disconnect(),this.nodes.clear(),this.ticker.stop(),this.stopCallbacks.forEach((t=>t())),t&&this.session.reset(),this.notify.log("OpenReplay tracking stopped."),this.worker&&!e&&this.worker.postMessage("stop")}finally{this.activityState=Kt.NotActive}}restart(){this.stop(!1,!0),this.start({forceNew:!1})}}const Vt=ut&&"InstallTrigger"in window?t=>t.message+"\n"+t.stack:t=>t.stack||t.message;function Xt(t){return void 0===t?"undefined":null===t?"null":t instanceof Error?Vt(t):Array.isArray(t)?`Array(${t.length})`:String(t)}function Gt(t){if(void 0===t)return"undefined";if(null===t)return"null";if(t instanceof Error)return Vt(t);if(Array.isArray(t)){return`Array(${t.length})[${t.slice(0,10).map(Xt).join(", ")}]`}if("object"===typeof t){const e=[];let s=0;for(const i in t){if(10===++s)break;const n=t[i];e.push(i+": "+Xt(n))}return"{"+e.join(", ")+"}"}return t.toString()}function Yt(t){return"string"===typeof t[0]&&t.unshift(t.shift().replace(/%(o|s|f|d|i)/g,((e,s)=>{const i=t.shift();if(void 0===i)return e;switch(s){case"o":return Gt(i);case"s":return Xt(i);case"f":return function(t){return"number"!==typeof t?"NaN":t.toString()}(i);case"d":case"i":return function(t){return"number"!==typeof t?"NaN":Math.floor(t).toString()}(i);default:return e}}))),t.map(Gt).join(" ")}const Zt=["log","info","warn","error","debug","assert"];var Qt=s(3768);function te(t){return[{columnNumber:t.colno,lineNumber:t.lineno,fileName:t.filename,functionName:"",source:""}]}function ee(t,e){let s=e;try{s=Qt.parse(t)}catch(i){}return new L(t.name,t.message,JSON.stringify(s))}function se(t){if(t instanceof ErrorEvent){if(t.error instanceof Error)return ee(t.error,te(t));{let[e,s]=t.message.split(":");return s||(e="Error",s=t.message),new L(e,s,JSON.stringify(te(t)))}}if("PromiseRejectionEvent"in window&&t instanceof PromiseRejectionEvent){if(t.reason instanceof Error)return ee(t.reason,[]);{let s;try{s=JSON.stringify(t.reason)}catch(e){s=String(t.reason)}return new L("Unhandled Promise Rejection",s,"[]")}}return null}function ie(t,e=document.location){return(t=t.trim()).startsWith("/")?e.origin+t:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:e.origin+e.pathname+t}function ne(t){const e=t.safe((function(){const e=t.nodes.getID(this);if(void 0===e)return;const{src:s,complete:i,naturalWidth:n,naturalHeight:r,srcset:o}=this;if(!i)return;const a=ie(s||"");if(0===n&&0===r)ht(a)&&t.send(new V(ot(),0,0,0,0,0,a,"img"));else if(a.length>=1e5||t.sanitizer.isMasked(e))!function(e,s){t.send(new w(e,"src","https://static.openreplay.com/tracker/placeholder.jpeg"));const{width:i,height:n}=s.getBoundingClientRect();s.hasAttribute("width")||t.send(new w(e,"width",String(i))),s.hasAttribute("height")||t.send(new w(e,"height",String(n)))}(e,this);else if(t.send(new w(e,"src",a)),o){const s=o.split(",").map((t=>ie(t))).join(",");t.send(new w(e,"srcset",s))}})),s=new MutationObserver((e=>{for(const s of e)if("attributes"===s.type){const e=s.target,i=t.nodes.getID(e);if(void 0===i)return;if("src"===s.attributeName){const s=e.src;t.send(new Z(i,"src",s,t.getBaseHref()))}if("srcset"===s.attributeName){const s=e.srcset;t.send(new w(i,"srcset",s))}}}));t.nodes.attachNodeCallback((i=>{St(i,"IMG")&&(t.nodes.attachElementListener("error",i,e),t.nodes.attachElementListener("load",i,e),e.call(i),s.observe(i,{attributes:!0,attributeFilter:["src","srcset"]}))}))}const re=["text","password","email","search","number","range","date"];function oe(t){return!!St(t,"TEXTAREA")||!!St(t,"INPUT")&&re.includes(t.type)}function ae(t){if(!St(t,"INPUT"))return!1;const e=t.type;return"checkbox"===e||"radio"===e}const ce=ut&&"labels"in HTMLInputElement.prototype?t=>{let e=t;for(;null!==(e=e.parentNode);)if(St(e,"LABEL"))return e;const s=t.labels;if(null!==s&&1===s.length)return s[0]}:t=>{let e=t;for(;null!==(e=e.parentNode);)if(St(e,"LABEL"))return e;const s=t.id;if(s){const t=document.querySelectorAll('label[for="'+s+'"]');if(null!==t&&1===t.length)return t[0]}};function he(t){let e=mt(t);if(null===e){const s=ce(t);e=s&&s.innerText||t.placeholder||t.name||t.id||t.className||t.type}return ct(e).slice(0,100)}function ue(t,e){const s=Object.assign({obscureInputNumbers:!0,obscureInputEmails:!0,defaultInputMode:0,obscureInputDates:!1},e);function i(e,i){let n=i.value,r=s.defaultInputMode;"password"===i.type||ft(i,"hidden")?r=2:(ft(i,"obscured")||0===r&&(s.obscureInputNumbers&&"date"!==i.type&&/\d\d\d\d/.test(n)||s.obscureInputDates&&"date"===i.type||s.obscureInputEmails&&("email"===i.type||~n.indexOf("@"))))&&(r=1);let o=0;switch(r){case 2:o=-1,n="";break;case 1:o=n.length,n=""}t.send(new N(e,n,o))}const n=new Map,r=new Map,o=new Set;t.attachStopCallback((()=>{n.clear(),r.clear(),o.clear()})),t.ticker.attach((()=>{n.forEach(((e,s)=>{const r=t.nodes.getNode(s);r&&(oe(r)?e!==r.value&&(n.set(s,r.value),o.has(s)||(o.add(s),function(e,s){const i=he(s);""!==i&&t.send(new E(e,i))}(s,r)),i(s,r)):n.delete(s))})),r.forEach(((e,s)=>{const i=t.nodes.getNode(s);i&&(ae(i)?e!==i.checked&&(r.set(s,i.checked),t.send(new I(s,i.checked))):r.delete(s))}))})),t.ticker.attach(Set.prototype.clear,100,!1,o),t.nodes.attachNodeCallback(t.safe((e=>{const s=t.nodes.getID(e);if(void 0!==s)return St(e,"SELECT")&&(i(s,e),t.attachEventListener(e,"change",(()=>{i(s,e)}))),oe(e)?(n.set(s,e.value),void i(s,e)):ae(e)?(r.set(s,e.checked),void t.send(new I(s,e.checked))):void 0})))}function de(t){const e=t.tagName.toUpperCase();return"BUTTON"===e||"A"===e||"LI"===e||"SELECT"===e||null!=t.onclick||"button"===t.getAttribute("role")}function le(t){return t instanceof Element?function(t){let e=t;for(;null!==e&&e!==document.documentElement;){if(ft(e,"masked"))return null;e=e.parentElement}if(vt(t)){let e=t.ownerSVGElement;for(;null!==e;)t=e,e=e.ownerSVGElement}e=t;for(;null!==e&&e!==document.documentElement;){const t=e.tagName.toUpperCase();if("LABEL"===t)return null;if("INPUT"===t)return e;if(de(e)||null!==mt(e))return e;e=e.parentElement}return t===document.documentElement?null:t}(t):null}function pe(t){let e=-1,s=-1,i=!1,n=null,r=0;t.attachStopCallback((()=>{e=-1,s=-1,i=!1,n=null}));const o=()=>{i&&(t.send(new O(e,s)),i=!1)},a={};function c(t,e){return a[t]=a[t]||function(t){let e=t,s=null;do{if(e.id)return`#${e.id}`+(s?` > ${s}`:"");if(s=e.className.split(" ").map((t=>t.trim())).filter((t=>""!==t)).reduce(((t,e)=>`${t}.${e}`),e.tagName.toLowerCase())+(s?` > ${s}`:""),e===document.body)return s;e=e.parentElement}while(e!==document.body&&null!==e);return s}(e)}t.attachEventListener(document.documentElement,"mouseover",(t=>{const e=le(t.target);e!==n&&(n=e,r=performance.now())})),t.attachEventListener(document,"mousemove",(t=>{e=t.clientX,s=t.clientY,i=!0}),!1),t.attachEventListener(document,"click",(e=>{const s=le(e.target);if(!e.clientX&&!e.clientY||null===s)return;const i=t.nodes.getID(s);void 0!==i&&(o(),t.send(new nt(i,n===s?Math.round(performance.now()-r):0,function(e){const s=mt(e);if(null!==s)return s;if(St(e,"INPUT"))return he(e);if(de(e)){let s="";return e instanceof HTMLElement&&(s=t.sanitizer.getInnerTextSecure(e)),s=s||e.id||e.className,ct(s).slice(0,100)}return""}(s),c(i,s)),!0)),n=null})),t.ticker.attach(o,10)}function me(t,e){const s=Object.assign({captureResourceTimings:!0,capturePageLoadTimings:!0,capturePageRenderTimings:!0},e);if("PerformanceObserver"in window||(s.captureResourceTimings=!1),!s.captureResourceTimings)return;let i={};function n(e){e.duration<0||!ht(e.name)||t.isServiceURL(e.name)||(null!==i&&(i[e.name]=e.startTime+e.duration),t.send(new V(e.startTime+performance.timing.navigationStart,e.duration,e.responseStart&&e.startTime?e.responseStart-e.startTime:0,e.transferSize>e.encodedBodySize?e.transferSize-e.encodedBodySize:0,e.encodedBodySize||0,e.decodedBodySize||0,e.name,e.initiatorType)))}const r=new PerformanceObserver((t=>t.getEntries().forEach(n)));let o;t.attachStartCallback((function({sessionID:t}){t!==o&&(performance.getEntriesByType("resource").forEach(n),o=t),r.observe({entryTypes:["resource"]})})),t.attachStopCallback((function(){r.disconnect()}));let a=0,c=0;if(s.capturePageLoadTimings){let e=!1;t.ticker.attach((()=>{if(!e&&(0!==a&&0!==c||performance.getEntriesByType("paint").forEach((t=>{const{name:e,startTime:s}=t;switch(e){case"first-paint":a=s;break;case"first-contentful-paint":c=s}})),performance.timing.loadEventEnd||performance.now()>3e4)){e=!0;const{navigationStart:s,requestStart:i,responseStart:n,responseEnd:r,domContentLoadedEventStart:o,domContentLoadedEventEnd:h,loadEventStart:u,loadEventEnd:d}=performance.timing;t.send(new x(i-s||0,n-s||0,r-s||0,o-s||0,h-s||0,u-s||0,d-s||0,a,c))}}),30)}if(s.capturePageRenderTimings){let e=0,s=0,n=0,r=null,o=!1;t.ticker.attach((()=>{if(o)return;const h=performance.now();if(null!==i&&(e=Math.max.apply(null,Object.keys(i).map((t=>i[t]))),h-e>1e3&&(r=function(t){const e=[],s=document.getElementsByTagName("*"),i=/url\(("[^"]*"|'[^']*'|[^)]*)\)/i;for(let n=0;n<s.length;n++){const r=s[n];let o="";if(St(r,"IMG")&&(o=r.currentSrc||r.src),!o){const t=getComputedStyle(r).getPropertyValue("background-image");if(t){const e=i.exec(t);null!==e&&(o=e[1],(o.startsWith('"')||o.startsWith("'"))&&(o=o.substr(1,o.length-2)))}}if(!o)continue;const a="data:image"===o.substr(0,10)?0:t[o];if(void 0===a)continue;const c=r.getBoundingClientRect(),h=Math.max(c.top,0),u=Math.max(c.left,0),d=Math.min(c.bottom,window.innerHeight||document.documentElement&&document.documentElement.clientHeight||0),l=Math.min(c.right,window.innerWidth||document.documentElement&&document.documentElement.clientWidth||0);if(d<=h||l<=u)continue;const p=(d-h)*(l-u);e.push({time:a,area:p})}return e}(i),i=null)),null!==n&&(h-n>50&&(s=h),n=h-s>5e3?null:h),null!==r&&null===n||h>3e4){o=!0,i=null;const h=null===r?0:function(t,e){let s=Math.max(document.documentElement&&document.documentElement.clientWidth||0,window.innerWidth||0)*Math.max(document.documentElement&&document.documentElement.clientHeight||0,window.innerHeight||0)/10,i=s*t;for(let n=0;n<e.length;n++){const{time:r,area:o}=e[n];s+=o,i+=o*(r>t?r:t)}return 0===s?0:i/s}(c||a,r),u=null===n?Math.max(s,c,performance.timing.domContentLoadedEventEnd-performance.timing.navigationStart||0):0;t.send(new C(h,c>e?c:e,u))}}))}}const fe="/installation/setup-or";class ge{constructor(t){if(this.options=t,this.app=null,this.handleError=t=>{if(null!==this.app)if(t instanceof Error)this.app.send(ee(t,[]));else if(t instanceof ErrorEvent||"PromiseRejectionEvent"in window&&t instanceof PromiseRejectionEvent){const e=se(t);null!=e&&this.app.send(e)}},!ut||!function(t){if(null==t)return console.error(`OpenReplay: invalid options argument type. Please, check documentation on ${dt}${fe}`),!1;if("string"!==typeof t.projectKey)if("number"!==typeof t.projectKey){if("number"!==typeof t.projectID)return console.error(`OpenReplay: projectKey is missing or wrong type (string is expected). Please, check ${dt}${fe} for more information.`),!1;t.projectKey=t.projectID.toString(),pt("`projectID` option","`projectKey` option",fe)}else console.warn("OpenReplay: projectKey is expected to have a string type."),t.projectKey=t.projectKey.toString();return"string"!==typeof t.sessionToken&&null!=t.sessionToken&&console.warn(`OpenReplay: invalid options argument type. Please, check documentation on ${dt}${fe}`),!0}(t))return;if(window.__OPENREPLAY__)return void console.error("OpenReplay: one tracker instance has been initialised already");if(!t.__DISABLE_SECURE_MODE&&"https:"!==location.protocol)return void console.error("OpenReplay: Your website must be publicly accessible and running on SSL in order for OpenReplay to properly capture and replay the user session. You can disable this check by setting `__DISABLE_SECURE_MODE` option to `true` if you are testing in localhost. Keep in mind, that asset files on a local machine are not available to the outside world. This might affect tracking if you use css files.");const e=t.respectDoNotTrack&&("1"==navigator.doNotTrack||"1"==window.doNotTrack),s=this.app=!e&&"Map"in window&&"Set"in window&&"MutationObserver"in window&&"performance"in window&&"timing"in performance&&"startsWith"in String.prototype&&"Blob"in window&&"Worker"in window?new Jt(t.projectKey,t.sessionToken,t):null;if(null!==s){if(function(t){let e,s,i,n=performance.timing.navigationStart;const r=t.safe((()=>{const{URL:s}=document;s!==e&&(e=s,t.send(new l(e,document.referrer,n)),n=0)})),o=t.safe((()=>{const{innerWidth:e,innerHeight:n}=window;e===s&&n===i||(s=e,i=n,t.send(new p(s,i)))})),a=void 0===document.hidden?Function.prototype:t.safe((()=>t.send(new G(document.hidden))));t.attachStartCallback((()=>{e="",s=i=-1,r(),o(),a()})),void 0!==document.hidden&&t.attachEventListener(document,"visibilitychange",a,!1,!1),t.ticker.attach(r,1,!1),t.ticker.attach(o,5,!1)}(s),function(t){if(null===t)return;if(!window.CSSStyleSheet)return void t.send(new tt("no_stylesheet_prototype_in_window",""));const e=t.safe(((e,s,i)=>{const n="string"===typeof i?e=>t.send(new it(e,i,s,t.getBaseHref())):e=>t.send(new P(e,s));if(null==e.ownerNode)throw new Error("Owner Node not found");const r=t.nodes.getID(e.ownerNode);void 0!==r&&n(r)})),{insertRule:s,deleteRule:i}=CSSStyleSheet.prototype;CSSStyleSheet.prototype.insertRule=function(t,i=0){return e(this,i,t),s.call(this,t,i)},CSSStyleSheet.prototype.deleteRule=function(t){return e(this,t),i.call(this,t)},t.nodes.attachNodeCallback((t=>{if(!St(t,"STYLE")||!t.sheet)return;if(null!==t.textContent&&t.textContent.trim().length>0)return;const s=t.sheet.cssRules;for(let i=0;i<s.length;i++)e(t.sheet,i,s[i].cssText)}))}(s),function(t){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(void 0===e)return;const s=()=>t.send(new X(Math.round(1e3*e.downlink),e.type||"unknown"));s(),e.addEventListener("change",s)}(s),function(t,e){const s=Object.assign({consoleMethods:Zt,consoleThrottling:30},e);if(!Array.isArray(s.consoleMethods)||0===s.consoleMethods.length)return;const i=t.safe(((e,s)=>t.send(new T(e,Yt(s)))));let n;const r=()=>{n=0};t.attachStartCallback(r),t.ticker.attach(r,33,!1);const o=t=>s.consoleMethods.forEach((e=>{if(-1===Zt.indexOf(e))return void t.error(`OpenReplay: unsupported console method "${e}"`);const r=t[e];t[e]=function(...t){r.apply(this,t),n++>s.consoleThrottling||i(e,t)}}));o(window.console),t.nodes.attachNodeCallback(t.safe((e=>{if(St(e,"IFRAME")){let s=e.contentWindow;s&&o(s.console),t.attachEventListener(e,"load",(()=>{e.contentWindow!==s&&(s=e.contentWindow,o(s.console))}))}})))}(s,t),function(t,e){if(Object.assign({captureExceptions:!0},e).captureExceptions){const e=e=>{const s=se(e);null!=s&&t.send(s)};t.attachEventListener(window,"unhandledrejection",(t=>e(t))),t.attachEventListener(window,"error",(t=>e(t)))}}(s,t),ne(s),ue(s,t),pe(s),me(s,t),function(t,e){if(!Object.assign({capturePerformance:!0},e).capturePerformance)return;let s,i;const n=()=>{void 0!==s&&-1!==s&&(s++,requestAnimationFrame(n))};t.ticker.attach((()=>{void 0!==i&&-1!==i&&i++}),0,!1);const r=()=>{void 0!==s&&void 0!==i&&(t.send(new J(s,i,Bt.memory.totalJSHeapSize||0,Bt.memory.usedJSHeapSize||0)),i=s=document.hidden?-1:0)};t.attachStartCallback((()=>{i=s=-1,r(),n()})),t.attachStopCallback((()=>{i=s=void 0})),t.ticker.attach(r,40,!1),void 0!==document.hidden&&t.attachEventListener(document,"visibilitychange",r,!1,!1)}(s,t),function(t){let e=!1;const s=new Map,i=t.safe((()=>t.send(new m(window.pageXOffset||document.documentElement&&document.documentElement.scrollLeft||document.body&&document.body.scrollLeft||0,window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0)))),n=t.safe(((e,s)=>{const i=t.nodes.getID(s);void 0!==i&&t.send(new _(i,e[0],e[1]))}));t.attachStartCallback(i),t.attachStopCallback((()=>{e=!1,s.clear()})),t.nodes.attachNodeCallback(((t,e)=>{e&&yt(t)&&t.scrollLeft+t.scrollTop>0&&s.set(t,[t.scrollLeft,t.scrollTop])})),t.attachEventListener(window,"scroll",(t=>{const i=t.target;i!==document?i instanceof Element&&s.set(i,[i.scrollLeft,i.scrollTop]):e=!0})),t.ticker.attach((()=>{e&&(i(),e=!1),s.forEach(n),s.clear()}),5,!1)}(s),window.__OPENREPLAY__=this,t.autoResetOnWindowOpen){const t=window.open;s.attachStartCallback((()=>{window.open=function(...e){s.resetNextPageSession(!0),t.call(window,...e),s.resetNextPageSession(!1)}})),s.attachStopCallback((()=>{window.open=t}))}}else{console.log("OpenReplay: browser doesn't support API required for tracking or doNotTrack is set to 1.");const s=new XMLHttpRequest,i=t.ingestPoint||qt;s.open("POST",i+"/v1/web/not-started"),s.send(JSON.stringify({trackerVersion:"3.5.16",projectKey:t.projectKey,doNotTrack:e}))}}use(t){return t(this.app,this.options)}isActive(){return null!==this.app&&this.app.active()}start(t){return ut?null===this.app?Promise.reject("Browser doesn't support required api, or doNotTrack is active."):this.app.start(t):(console.error(`OpenReplay: you are trying to start Tracker on a node.js environment. If you want to use OpenReplay with SSR, please, use componentDidMount or useEffect API for placing the \`tracker.start()\` line. Check documentation on ${dt}${fe}`),Promise.reject("Trying to start not in browser."))}stop(){null!==this.app&&this.app.stop(!0)}getSessionToken(){return null===this.app?null:this.app.getSessionToken()}getSessionID(){return null===this.app?null:this.app.getSessionID()}sessionID(){return pt("'sessionID' method","'getSessionID' method","/"),this.getSessionID()}setUserID(t){"string"===typeof t&&null!==this.app&&this.app.session.setUserID(t)}userID(t){pt("'userID' method","'setUserID' method","/"),this.setUserID(t)}setUserAnonymousID(t){"string"===typeof t&&null!==this.app&&this.app.send(new A(t))}userAnonymousID(t){pt("'userAnonymousID' method","'setUserAnonymousID' method","/"),this.setUserAnonymousID(t)}setMetadata(t,e){"string"===typeof t&&"string"===typeof e&&null!==this.app&&this.app.session.setMetadata(t,e)}metadata(t,e){pt("'metadata' method","'setMetadata' method","/"),this.setMetadata(t,e)}event(t,e,s=!1){if("string"===typeof t&&null!==this.app){if(s)return this.issue(t,e);try{e=JSON.stringify(e)}catch(i){return}this.app.send(new D(t,e))}}issue(t,e){if("string"===typeof t&&null!==this.app){try{e=JSON.stringify(e)}catch(s){return}this.app.send(new et(t,e))}}}var ve,ye=new Uint8Array(16);function be(){if(!ve&&!(ve="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ve(ye)}var we=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Se=function(t){return"string"===typeof t&&we.test(t)},ke=[],_e=0;_e<256;++_e)ke.push((_e+256).toString(16).substr(1));var Ee=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=(ke[t[e+0]]+ke[t[e+1]]+ke[t[e+2]]+ke[t[e+3]]+"-"+ke[t[e+4]]+ke[t[e+5]]+"-"+ke[t[e+6]]+ke[t[e+7]]+"-"+ke[t[e+8]]+ke[t[e+9]]+"-"+ke[t[e+10]]+ke[t[e+11]]+ke[t[e+12]]+ke[t[e+13]]+ke[t[e+14]]+ke[t[e+15]]).toLowerCase();if(!Se(s))throw TypeError("Stringified UUID is invalid");return s};var Ne=function(t,e,s){var i=(t=t||{}).random||(t.rng||be)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){s=s||0;for(var n=0;n<16;++n)e[s+n]=i[n];return e}return Ee(i)},Ie=Ne(),Oe=function(t){var e=new ge(t);return e.setUserID(Ie),s.e(630).then(s.bind(s,9630)).then((function(t){var s=t.default;e.use(s({callConfirm:{text:"Our support team wants to help you",confirmBtn:{innerHTML:"\ud83d\udc4d Accept"},declineBtn:{innerHTML:"\u274c Not at this moment"}},controlConfirm:{text:"Would you mind letting us control your application?",confirmBtn:{innerHTML:"\ud83d\udc4d Accept"},declineBtn:{innerHTML:"\u274c Not at this moment"}}}))})),e},Te=function(t,e){switch(e.type){case"init":return t.tracker?t:(0,a.Z)((0,o.Z)({},t),{tracker:Oe(t.config)});case"start":return t.tracker.start(),t;case"logEvent":var s,i=e.payload,n=i.name,r=i.data;return null===(s=t.tracker)||void 0===s||s.event(n,r),t;case"logIssue":var c,h=e.payload,u=h.name,d=h.data;return null===(c=t.tracker)||void 0===c||c.issue(u,d),t;case"reportError":var l,p=e.payload;return null===(l=t.tracker)||void 0===l||l.handleError(p),t}},xe=function(t){var e=t.children,s=t.config,o=void 0===s?{}:s,a=(0,i.useReducer)(Te,{tracker:null,config:o})[1],c={startTracking:function(){return a({type:"start"})},initTracker:function(){return a({type:"init"})},logEvent:function(t){return a({type:"logEvent",payload:t})},logIssue:function(t){return a({type:"logIssue",payload:t})},reportError:function(t){return a({type:"reportError",payload:t})}};return(0,r.jsx)(n.Provider,{value:c,children:e})}},8439:function(){},984:function(t,e){var s,i,n;!function(r,o){"use strict";i=[],void 0===(n="function"===typeof(s=function(){function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t){return t.charAt(0).toUpperCase()+t.substring(1)}function s(t){return function(){return this[t]}}var i=["isConstructor","isEval","isNative","isToplevel"],n=["columnNumber","lineNumber"],r=["fileName","functionName","source"],o=["args"],a=["evalOrigin"],c=i.concat(n,r,o,a);function h(t){if(t)for(var s=0;s<c.length;s++)void 0!==t[c[s]]&&this["set"+e(c[s])](t[c[s]])}h.prototype={getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof h)this.evalOrigin=t;else{if(!(t instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new h(t)}},toString:function(){var t=this.getFileName()||"",e=this.getLineNumber()||"",s=this.getColumnNumber()||"",i=this.getFunctionName()||"";return this.getIsEval()?t?"[eval] ("+t+":"+e+":"+s+")":"[eval]:"+e+":"+s:i?i+" ("+t+":"+e+":"+s+")":t+":"+e+":"+s}},h.fromString=function(t){var e=t.indexOf("("),s=t.lastIndexOf(")"),i=t.substring(0,e),n=t.substring(e+1,s).split(","),r=t.substring(s+1);if(0===r.indexOf("@"))var o=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(r,""),a=o[1],c=o[2],u=o[3];return new h({functionName:i,args:n||void 0,fileName:a,lineNumber:c||void 0,columnNumber:u||void 0})};for(var u=0;u<i.length;u++)h.prototype["get"+e(i[u])]=s(i[u]),h.prototype["set"+e(i[u])]=function(t){return function(e){this[t]=Boolean(e)}}(i[u]);for(var d=0;d<n.length;d++)h.prototype["get"+e(n[d])]=s(n[d]),h.prototype["set"+e(n[d])]=function(e){return function(s){if(!t(s))throw new TypeError(e+" must be a Number");this[e]=Number(s)}}(n[d]);for(var l=0;l<r.length;l++)h.prototype["get"+e(r[l])]=s(r[l]),h.prototype["set"+e(r[l])]=function(t){return function(e){this[t]=String(e)}}(r[l]);return h})?s.apply(e,i):s)||(t.exports=n)}()},4737:function(t,e,s){"use strict";function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})))),n.forEach((function(e){i(t,e,s[e])}))}return t}s.d(e,{Z:function(){return n}})},8316:function(t,e,s){"use strict";function i(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))})),t}s.d(e,{Z:function(){return i}})}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],(function(){return e(3425),e(1896)}));var s=t.O();_N_E=s}]);
//# sourceMappingURL=_app-2f407f909c07d687.js.map